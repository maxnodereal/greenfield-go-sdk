<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>catmsg - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package catmsg
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "golang.org/x/text/internal/catmsg"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package catmsg contains support types for package x/text/message/catalog.
<p>This package contains the low-level implementations of Message used by the
catalog package and provides primitives for other packages to implement their
own. For instance, the plural package provides functionality for selecting
translation strings based on the plural category of substitution arguments.
<h3 id="hdr-Encoding_and_Decoding">Encoding and Decoding</h3>
<p>Catalogs store Messages encoded as a single string. Compiling a message into
a string both results in compacter representation and speeds up evaluation.
<p>A Message must implement a Compile method to convert its arbitrary
representation to a string. The Compile method takes an Encoder which
facilitates serializing the message. Encoders also provide more context of
the messages&apos;s creation (such as for which language the message is intended),
which may not be known at the time of the creation of the message.
<p>Each message type must also have an accompanying decoder registered to decode
the message. This decoder takes a Decoder argument which provides the
counterparts for the decoding.
<h3 id="hdr-Renderers">Renderers</h3>
<p>A Decoder must be initialized with a Renderer implementation. These
implementations must be provided by packages that use Catalogs, typically
formatting packages such as x/text/message. A typical user will not need to
worry about this type; it is only relevant to packages that do string
formatting and want to use the catalog package to handle localized strings.
<p>A package that uses catalogs for selecting strings receives selection results
as sequence of substrings passed to the Renderer. The following snippet shows
how to express the above example using the message package.
<pre>message.Set(language.English, &quot;You are %d minute(s) late.&quot;,
	catalog.Var(&quot;minutes&quot;, plural.Select(1, &quot;one&quot;, &quot;minute&quot;)),
	catalog.String(&quot;You are %[1]d ${minutes} late.&quot;))

p := message.NewPrinter(language.English)
p.Printf(&quot;You are %d minute(s) late.&quot;, 5) // always 5 minutes late.
</pre>
<p>To evaluate the Printf, package message wraps the arguments in a Renderer
that is passed to the catalog for message decoding. The call sequence that
results from evaluating the above message, assuming the person is rather
tardy, is:
<pre>Render(&quot;You are %[1]d &quot;)
Arg(1)
Render(&quot;minutes&quot;)
Render(&quot; late.&quot;)
</pre>
<p>The calls to Arg is caused by the plural.Select execution, which evaluates
the argument to determine whether the singular or plural message form should
be selected. The calls to Render reports the partial results to the message
package for further evaluation.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#Compile">func Compile(tag language.Tag, macros Dictionary, m Message) (data string, err error)</a></dd>
			
			
				
				<dd><a href="index.html#Affix">type Affix</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Affix.Compile">func (a Affix) Compile(e *Encoder) (err error)</a></dd>
				
			
				
				<dd><a href="index.html#Decoder">type Decoder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewDecoder">func NewDecoder(tag language.Tag, r Renderer, macros Dictionary) *Decoder</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.Arg">func (d *Decoder) Arg(i int) interface{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.DecodeString">func (d *Decoder) DecodeString() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.DecodeUint">func (d *Decoder) DecodeUint() uint64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.Done">func (d *Decoder) Done() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.Execute">func (d *Decoder) Execute(msg string) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.ExecuteMessage">func (d *Decoder) ExecuteMessage() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.ExecuteSubstitution">func (d *Decoder) ExecuteSubstitution()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.Language">func (d *Decoder) Language() language.Tag</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.Render">func (d *Decoder) Render(s string)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Decoder.SkipMessage">func (d *Decoder) SkipMessage()</a></dd>
				
			
				
				<dd><a href="index.html#Dictionary">type Dictionary</a></dd>
				
				
			
				
				<dd><a href="index.html#Encoder">type Encoder</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Encoder.EncodeMessage">func (e *Encoder) EncodeMessage(m Message) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Encoder.EncodeMessageType">func (e *Encoder) EncodeMessageType(h Handle)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Encoder.EncodeString">func (e *Encoder) EncodeString(s string)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Encoder.EncodeSubstitution">func (e *Encoder) EncodeSubstitution(name string, arguments ...int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Encoder.EncodeUint">func (e *Encoder) EncodeUint(x uint64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Encoder.Language">func (e *Encoder) Language() language.Tag</a></dd>
				
			
				
				<dd><a href="index.html#FirstOf">type FirstOf</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FirstOf.Compile">func (s FirstOf) Compile(e *Encoder) error</a></dd>
				
			
				
				<dd><a href="index.html#Handle">type Handle</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Register">func Register(name string, handler Handler) Handle</a></dd>
				
				
			
				
				<dd><a href="index.html#Handler">type Handler</a></dd>
				
				
			
				
				<dd><a href="index.html#Message">type Message</a></dd>
				
				
			
				
				<dd><a href="index.html#Raw">type Raw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Raw.Compile">func (r Raw) Compile(e *Encoder) (err error)</a></dd>
				
			
				
				<dd><a href="index.html#Renderer">type Renderer</a></dd>
				
				
			
				
				<dd><a href="index.html#String">type String</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#String.Compile">func (s String) Compile(e *Encoder) (err error)</a></dd>
				
			
				
				<dd><a href="index.html#Var">type Var</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Var.Compile">func (v *Var) Compile(e *Encoder) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go">catmsg.go</a>
			
				<a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go">codec.go</a>
			
				<a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/varint.go">varint.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var (
    <span class="comment">// ErrIncomplete indicates a compiled message does not define translations</span>
    <span class="comment">// for all possible argument values. If this message is returned, evaluating</span>
    <span class="comment">// a message may result in the ErrNoMatch error.</span>
    <span id="ErrIncomplete">ErrIncomplete</span> = <a href="../../../../../errors/index.html">errors</a>.<a href="../../../../../errors/index.html#New">New</a>(&#34;catmsg: incomplete message; may not give result for all inputs&#34;)

    <span class="comment">// ErrNoMatch indicates no translation message matched the given input</span>
    <span class="comment">// parameters when evaluating a message.</span>
    <span id="ErrNoMatch">ErrNoMatch</span> = <a href="../../../../../errors/index.html">errors</a>.<a href="../../../../../errors/index.html#New">New</a>(&#34;catmsg: no translation for inputs&#34;)
)</pre>
			
		
		
			
			
			<h2 id="Compile">func <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=7666:7751#L209">Compile</a>
				<a class="permalink" href="index.html#Compile">&#xb6;</a>
				
				
			</h2>
			<pre>func Compile(tag <a href="../../language/index.html">language</a>.<a href="../../language/index.html#Tag">Tag</a>, macros <a href="index.html#Dictionary">Dictionary</a>, m <a href="index.html#Message">Message</a>) (data <a href="../../../../../builtin/index.html#string">string</a>, err <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>Compile converts a Message to a data string that can be stored in a Catalog.
The resulting string can subsequently be decoded by passing to the Execute
method of a Decoder.

			
			

		
		
			
			
			<h2 id="Affix">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=13446:13516#L391">Affix</a>
				<a class="permalink" href="index.html#Affix">&#xb6;</a>
				
				
			</h2>
			<p>Affix is a message that adds a prefix and suffix to another message.
This is mostly used add back whitespace to a translation that was stripped
before sending it out.

			<pre>type Affix struct {
<span id="Affix.Message"></span>    Message <a href="index.html#Message">Message</a>
<span id="Affix.Prefix"></span>    Prefix  <a href="../../../../../builtin/index.html#string">string</a>
<span id="Affix.Suffix"></span>    Suffix  <a href="../../../../../builtin/index.html#string">string</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Affix.Compile">func (Affix) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=13549:13595#L398">Compile</a>
					<a class="permalink" href="index.html#Affix.Compile">&#xb6;</a>
					
					
				</h3>
				<pre>func (a <a href="index.html#Affix">Affix</a>) Compile(e *<a href="index.html#Encoder">Encoder</a>) (err <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Compile implements Message.

				
				
				
			
		
			
			
			<h2 id="Decoder">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=5982:6154#L217">Decoder</a>
				<a class="permalink" href="index.html#Decoder">&#xb6;</a>
				
				
			</h2>
			<p>A Decoder deserializes and evaluates messages that are encoded by an encoder.

			<pre>type Decoder struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewDecoder">func <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=6324:6397#L233">NewDecoder</a>
					<a class="permalink" href="index.html#NewDecoder">&#xb6;</a>
					
					
				</h3>
				<pre>func NewDecoder(tag <a href="../../language/index.html">language</a>.<a href="../../language/index.html#Tag">Tag</a>, r <a href="index.html#Renderer">Renderer</a>, macros <a href="index.html#Dictionary">Dictionary</a>) *<a href="index.html#Decoder">Decoder</a></pre>
				<p>NewDecoder returns a new Decoder.
<p>Decoders are designed to be reused for multiple invocations of Execute.
Only one goroutine may call Execute concurrently.

				
				
			

			
				
				<h3 id="Decoder.Arg">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=7244:7284#L264">Arg</a>
					<a class="permalink" href="index.html#Decoder.Arg">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) Arg(i <a href="../../../../../builtin/index.html#int">int</a>) interface{}</pre>
				<p>Arg implements Renderer.
<p>During evaluation of macros, the argument positions may be mapped to
arguments that differ from the original call.

				
				
				
			
				
				<h3 id="Decoder.DecodeString">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=7777:7816#L287">DecodeString</a>
					<a class="permalink" href="index.html#Decoder.DecodeString">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) DecodeString() <a href="../../../../../builtin/index.html#string">string</a></pre>
				<p>DecodeString decodes a string that was encoded with EncodeString and advances
the position.

				
				
				
			
				
				<h3 id="Decoder.DecodeUint">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=7528:7565#L276">DecodeUint</a>
					<a class="permalink" href="index.html#Decoder.DecodeUint">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) DecodeUint() <a href="../../../../../builtin/index.html#uint64">uint64</a></pre>
				<p>DecodeUint decodes a number that was encoded with EncodeUint and advances the
position.

				
				
				
			
				
				<h3 id="Decoder.Done">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=6946:6975#L255">Done</a>
					<a class="permalink" href="index.html#Decoder.Done">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) Done() <a href="../../../../../builtin/index.html#bool">bool</a></pre>
				<p>Done reports whether there are more bytes to process in this message.

				
				
				
			
				
				<h3 id="Decoder.Execute">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=8152:8195#L304">Execute</a>
					<a class="permalink" href="index.html#Decoder.Execute">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) Execute(msg <a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>Execute decodes and evaluates msg.
<p>Only one goroutine may call execute.

				
				
				
			
				
				<h3 id="Decoder.ExecuteMessage">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=9693:9732#L364">ExecuteMessage</a>
					<a class="permalink" href="index.html#Decoder.ExecuteMessage">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) ExecuteMessage() <a href="../../../../../builtin/index.html#bool">bool</a></pre>
				<p>ExecuteMessage decodes and executes the message at the current position.

				
				
				
			
				
				<h3 id="Decoder.ExecuteSubstitution">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=9928:9967#L372">ExecuteSubstitution</a>
					<a class="permalink" href="index.html#Decoder.ExecuteSubstitution">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) ExecuteSubstitution()</pre>
				<p>ExecuteSubstitution executes the message corresponding to the substitution
as encoded by EncodeSubstitution.

				
				
				
			
				
				<h3 id="Decoder.Language">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=6813:6854#L252">Language</a>
					<a class="permalink" href="index.html#Decoder.Language">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) Language() <a href="../../language/index.html">language</a>.<a href="../../language/index.html#Tag">Tag</a></pre>
				<p>Language returns the language in which the message is being rendered.
<p>The destination language may be a child language of the language used for
encoding. For instance, a decoding language of &quot;pt-PT&quot;&quot; is consistent with an
encoding language of &quot;pt&quot;.

				
				
				
			
				
				<h3 id="Decoder.Render">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=7036:7070#L258">Render</a>
					<a class="permalink" href="index.html#Decoder.Render">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) Render(s <a href="../../../../../builtin/index.html#string">string</a>)</pre>
				<p>Render implements Renderer.

				
				
				
			
				
				<h3 id="Decoder.SkipMessage">func (*Decoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=7987:8018#L296">SkipMessage</a>
					<a class="permalink" href="index.html#Decoder.SkipMessage">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Decoder">Decoder</a>) SkipMessage()</pre>
				<p>SkipMessage skips the message at the current location and advances the
position.

				
				
				
			
		
			
			
			<h2 id="Dictionary">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=818:1146#L18">Dictionary</a>
				<a class="permalink" href="index.html#Dictionary">&#xb6;</a>
				
				
			</h2>
			<p>A Dictionary specifies a source of messages, including variables or macros.

			<pre>type Dictionary interface {
    <span class="comment">// Lookup returns the message for the given key. It returns false for ok if</span>
    <span class="comment">// such a message could not be found.</span>
    Lookup(key <a href="../../../../../builtin/index.html#string">string</a>) (data <a href="../../../../../builtin/index.html#string">string</a>, ok <a href="../../../../../builtin/index.html#bool">bool</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Encoder">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=1196:1761#L28">Encoder</a>
				<a class="permalink" href="index.html#Encoder">&#xb6;</a>
				
				
			</h2>
			<p>An Encoder serializes a Message to a string.

			<pre>type Encoder struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Encoder.EncodeMessage">func (*Encoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=2769:2817#L91">EncodeMessage</a>
					<a class="permalink" href="index.html#Encoder.EncodeMessage">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Encoder">Encoder</a>) EncodeMessage(m <a href="index.html#Message">Message</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>EncodeMessage serializes the given message inline at the current position.

				
				
				
			
				
				<h3 id="Encoder.EncodeMessageType">func (*Encoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=2515:2560#L82">EncodeMessageType</a>
					<a class="permalink" href="index.html#Encoder.EncodeMessageType">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Encoder">Encoder</a>) EncodeMessageType(h <a href="index.html#Handle">Handle</a>)</pre>
				<p>EncodeMessageType marks the current message to be of type h.
<p>It must be the first call of a Message&apos;s Compile method.

				
				
				
			
				
				<h3 id="Encoder.EncodeString">func (*Encoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=2266:2306#L73">EncodeString</a>
					<a class="permalink" href="index.html#Encoder.EncodeString">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Encoder">Encoder</a>) EncodeString(s <a href="../../../../../builtin/index.html#string">string</a>)</pre>
				<p>EncodeString encodes s.

				
				
				
			
				
				<h3 id="Encoder.EncodeSubstitution">func (*Encoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=5227:5294#L190">EncodeSubstitution</a>
					<a class="permalink" href="index.html#Encoder.EncodeSubstitution">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Encoder">Encoder</a>) EncodeSubstitution(name <a href="../../../../../builtin/index.html#string">string</a>, arguments ...<a href="../../../../../builtin/index.html#int">int</a>)</pre>
				<p>EncodeSubstitution inserts a resolved reference to a variable or macro.
<p>This call must be matched with a call to ExecuteSubstitution at decoding
time.

				
				
				
			
				
				<h3 id="Encoder.EncodeUint">func (*Encoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=2085:2123#L65">EncodeUint</a>
					<a class="permalink" href="index.html#Encoder.EncodeUint">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Encoder">Encoder</a>) EncodeUint(x <a href="../../../../../builtin/index.html#uint64">uint64</a>)</pre>
				<p>EncodeUint encodes x.

				
				
				
			
				
				<h3 id="Encoder.Language">func (*Encoder) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=1911:1952#L56">Language</a>
					<a class="permalink" href="index.html#Encoder.Language">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Encoder">Encoder</a>) Language() <a href="../../language/index.html">language</a>.<a href="../../language/index.html#Tag">Tag</a></pre>
				<p>Language reports the language for which the encoded message will be stored
in the Catalog.

				
				
				
			
		
			
			
			<h2 id="FirstOf">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=8908:8930#L240">FirstOf</a>
				<a class="permalink" href="index.html#FirstOf">&#xb6;</a>
				
				
			</h2>
			<p>FirstOf is a message type that prints the first message in the sequence that
resolves to a match for the given substitution arguments.

			<pre>type FirstOf []<a href="index.html#Message">Message</a></pre>

			

			

			
			
			

			

			
				
				<h3 id="FirstOf.Compile">func (FirstOf) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=8963:9005#L243">Compile</a>
					<a class="permalink" href="index.html#FirstOf.Compile">&#xb6;</a>
					
					
				</h3>
				<pre>func (s <a href="index.html#FirstOf">FirstOf</a>) Compile(e *<a href="index.html#Encoder">Encoder</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>Compile implements Message.

				
				
				
			
		
			
			
			<h2 id="Handle">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=3004:3019#L63">Handle</a>
				<a class="permalink" href="index.html#Handle">&#xb6;</a>
				
				
			</h2>
			<p>A Handle refers to a registered message type.

			<pre>type Handle <a href="../../../../../builtin/index.html#int">int</a></pre>

			

			

			
			
			

			
				
				<h3 id="Register">func <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=3702:3752#L76">Register</a>
					<a class="permalink" href="index.html#Register">&#xb6;</a>
					
					
				</h3>
				<pre>func Register(name <a href="../../../../../builtin/index.html#string">string</a>, handler <a href="index.html#Handler">Handler</a>) <a href="index.html#Handle">Handle</a></pre>
				<p>Register records the existence of a message type and returns a Handle that
can be used in the Encoder&apos;s EncodeMessageType method to create such
messages. The prefix of the name should be the package path followed by
an optional disambiguating string.
Register will panic if a handle for the same name was already registered.

				
				
			

			
		
			
			
			<h2 id="Handler">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=3326:3360#L69">Handler</a>
				<a class="permalink" href="index.html#Handler">&#xb6;</a>
				
				
			</h2>
			<p>A Handler decodes and evaluates data compiled by a Message and sends the
result to the Decoder. The output may depend on the value of the substitution
arguments, accessible by the Decoder&apos;s Arg method. The Handler returns false
if there is no translation for the given substitution arguments.

			<pre>type Handler func(d *<a href="index.html#Decoder">Decoder</a>) <a href="../../../../../builtin/index.html#bool">bool</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Message">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=6495:7482#L185">Message</a>
				<a class="permalink" href="index.html#Message">&#xb6;</a>
				
				
			</h2>
			<p>A Message holds a collection of translations for the same phrase that may
vary based on the values of substitution arguments.

			<pre>type Message interface {
    <span class="comment">// Compile encodes the format string(s) of the message as a string for later</span>
    <span class="comment">// evaluation.</span>
    <span class="comment">//</span>
    <span class="comment">// The first call Compile makes on the encoder must be EncodeMessageType.</span>
    <span class="comment">// The handle passed to this call may either be a handle returned by</span>
    <span class="comment">// Register to encode a single custom message, or HandleFirst followed by</span>
    <span class="comment">// a sequence of calls to EncodeMessage.</span>
    <span class="comment">//</span>
    <span class="comment">// Compile must return ErrIncomplete if it is possible for evaluation to</span>
    <span class="comment">// not match any translation for a given set of formatting parameters.</span>
    <span class="comment">// For example, selecting a translation based on plural form may not yield</span>
    <span class="comment">// a match if the form &#34;Other&#34; is not one of the selectors.</span>
    <span class="comment">//</span>
    <span class="comment">// Compile may return any other application-specific error. For backwards</span>
    <span class="comment">// compatibility with package like fmt, which often do not do sanity</span>
    <span class="comment">// checking of format strings ahead of time, Compile should still make an</span>
    <span class="comment">// effort to have some sensible fallback in case of an error.</span>
    Compile(e *<a href="index.html#Encoder">Encoder</a>) <a href="../../../../../builtin/index.html#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Raw">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=10300:10315#L289">Raw</a>
				<a class="permalink" href="index.html#Raw">&#xb6;</a>
				
				
			</h2>
			<p>Raw is a message consisting of a single format string that is passed as is
to the Renderer.
<p>Note that a Renderer may still do its own variable substitution.

			<pre>type Raw <a href="../../../../../builtin/index.html#string">string</a></pre>

			

			

			
			
			

			

			
				
				<h3 id="Raw.Compile">func (Raw) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=10348:10392#L292">Compile</a>
					<a class="permalink" href="index.html#Raw.Compile">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#Raw">Raw</a>) Compile(e *<a href="index.html#Encoder">Encoder</a>) (err <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Compile implements Message.

				
				
				
			
		
			
			
			<h2 id="Renderer">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/codec.go?s=269:737#L5">Renderer</a>
				<a class="permalink" href="index.html#Renderer">&#xb6;</a>
				
				
			</h2>
			<p>A Renderer renders a Message.

			<pre>type Renderer interface {
    <span class="comment">// Render renders the given string. The given string may be interpreted as a</span>
    <span class="comment">// format string, such as the one used by the fmt package or a template.</span>
    Render(s <a href="../../../../../builtin/index.html#string">string</a>)

    <span class="comment">// Arg returns the i-th argument passed to format a message. This method</span>
    <span class="comment">// should return nil if there is no such argument. Messages need access to</span>
    <span class="comment">// arguments to allow selecting a message based on linguistic features of</span>
    <span class="comment">// those arguments.</span>
    Arg(i <a href="../../../../../builtin/index.html#int">int</a>) interface{}
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="String">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=11672:11690#L327">String</a>
				<a class="permalink" href="index.html#String">&#xb6;</a>
				
				
			</h2>
			<p>String is a message consisting of a single format string which contains
placeholders that may be substituted with variables.
<p>Variable substitutions are marked with placeholders and a variable name of
the form ${name}. Any other substitutions such as Go templates or
printf-style substitutions are left to be done by the Renderer.
<p>When evaluation a string interpolation, a Renderer will receive separate
calls for each placeholder and interstitial string. For example, for the
message: &quot;%[1]v ${invites} %[2]v to ${their} party.&quot; The sequence of calls
is:
<pre>d.Render(&quot;%[1]v &quot;)
d.Arg(1)
d.Render(resultOfInvites)
d.Render(&quot; %[2]v to &quot;)
d.Arg(2)
d.Render(resultOfTheir)
d.Render(&quot; party.&quot;)
</pre>
<p>where the messages for &quot;invites&quot; and &quot;their&quot; both use a plural.Select
referring to the first argument.
<p>Strings may also invoke macros. Macros are essentially variables that can be
reused. Macros may, for instance, be used to make selections between
different conjugations of a verb. See the catalog package description for an
overview of macros.

			<pre>type String <a href="../../../../../builtin/index.html#string">string</a></pre>

			

			

			
			
			

			

			
				
				<h3 id="String.Compile">func (String) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=11783:11830#L331">Compile</a>
					<a class="permalink" href="index.html#String.Compile">&#xb6;</a>
					
					
				</h3>
				<pre>func (s <a href="index.html#String">String</a>) Compile(e *<a href="index.html#Encoder">Encoder</a>) (err <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Compile implements Message. It parses the placeholder formats and returns
any error.

				
				
				
			
		
			
			
			<h2 id="Var">type <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=9615:9667#L265">Var</a>
				<a class="permalink" href="index.html#Var">&#xb6;</a>
				
				
			</h2>
			<p>Var defines a message that can be substituted for a placeholder of the same
name. If an expression does not result in a string after evaluation, Name is
used as the substitution. For example:
<pre>Var{
  Name:    &quot;minutes&quot;,
  Message: plural.Select(1, &quot;one&quot;, &quot;minute&quot;),
}
</pre>
<p>will resolve to minute for singular and minutes for plural forms.

			<pre>type Var struct {
<span id="Var.Name"></span>    Name    <a href="../../../../../builtin/index.html#string">string</a>
<span id="Var.Message"></span>    Message <a href="index.html#Message">Message</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Var.Compile">func (*Var) <a href="http://localhost:6060/src/golang.org/x/text/internal/catmsg/catmsg.go?s=9862:9901#L276">Compile</a>
					<a class="permalink" href="index.html#Var.Compile">&#xb6;</a>
					
					
				</h3>
				<pre>func (v *<a href="index.html#Var">Var</a>) Compile(e *<a href="index.html#Encoder">Encoder</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>Compile implements Message.
<p>Note that this method merely registers a variable; it does not create an
encoded message.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
