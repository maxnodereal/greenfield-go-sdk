<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>errors - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package errors
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "cosmossdk.io/errors"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
				<dd><a href="index.html#pkg-examples" class="examplesLink">Examples</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package errors implements custom error interfaces for cosmos-sdk.
<p>Error declarations should be generic and cover broad range of cases. Each
returned error instance can wrap a generic error declaration to provide more
details.
<p>This package provides a broad range of errors declared that fits all common
cases. If an error is very specific for an extension it can be registered outside
of the errors package. If it will be needed my many extensions, please consider
registering it in the errors package. To create a new error instance use Register
function. You must provide a unique, non zero error code and a short description, for example:
<pre>var ErrZeroDivision = errors.Register(9241, &quot;zero division&quot;)
</pre>
<p>When returning an error, you can attach to it an additional context
information by using Wrap function, for example:
<pre>   func safeDiv(val, div int) (int, err) {
	   if div == 0 {
		   return 0, errors.Wrapf(ErrZeroDivision, &quot;cannot divide %d&quot;, val)
	   }
	   return val / div, nil
   }
</pre>
<p>The first time an error instance is wrapped a stacktrace is attached as well.
Stacktrace information can be printed using %+v and %v formats.
<pre>%s  is just the error message
%+v is the full stack trace
%v  appends a compressed [filename:line] where the error was created
</pre>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#ABCIError">func ABCIError(codespace string, code uint32, log string) error</a></dd>
			
				
				<dd><a href="index.html#ABCIInfo">func ABCIInfo(err error, debug bool) (codespace string, code uint32, log string)</a></dd>
			
				
				<dd><a href="index.html#AssertNil">func AssertNil(err error)</a></dd>
			
				
				<dd><a href="index.html#IsOf">func IsOf(received error, targets ...error) bool</a></dd>
			
				
				<dd><a href="index.html#Recover">func Recover(err *error)</a></dd>
			
				
				<dd><a href="index.html#WithType">func WithType(err error, obj interface{}) error</a></dd>
			
				
				<dd><a href="index.html#Wrap">func Wrap(err error, description string) error</a></dd>
			
				
				<dd><a href="index.html#Wrapf">func Wrapf(err error, format string, args ...interface{}) error</a></dd>
			
			
				
				<dd><a href="index.html#Error">type Error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#New">func New(codespace string, code uint32, desc string) *Error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Register">func Register(codespace string, code uint32, description string) *Error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RegisterWithGRPCCode">func RegisterWithGRPCCode(codespace string, code uint32, grpcCode grpccodes.Code, description string) *Error</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.ABCICode">func (e Error) ABCICode() uint32</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.Codespace">func (e Error) Codespace() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.Error">func (e Error) Error() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.GRPCStatus">func (e *Error) GRPCStatus() *grpcstatus.Status</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.Is">func (e *Error) Is(err error) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.Wrap">func (e *Error) Wrap(desc string) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Error.Wrapf">func (e *Error) Wrapf(desc string, args ...interface{}) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		
		<div id="pkg-examples">
			<h3>Examples</h3>
			<div class="js-expandAll expandAll collapsed">(Expand All)</div>
			<dl>
			
			<dd><a class="exampleLink" href="index.html#example_Wrap">Wrap</a></dd>
			
			<dd><a class="exampleLink" href="index.html#example_Wrapf">Wrapf</a></dd>
			
			</dl>
		</div>
		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/cosmossdk.io/errors/abci.go">abci.go</a>
			
				<a href="http://localhost:6060/src/cosmossdk.io/errors/doc.go">doc.go</a>
			
				<a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go">errors.go</a>
			
				<a href="http://localhost:6060/src/cosmossdk.io/errors/handle.go">handle.go</a>
			
				<a href="http://localhost:6060/src/cosmossdk.io/errors/stacktrace.go">stacktrace.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span class="comment">// SuccessABCICode declares an ABCI response use 0 to signal that the</span>
    <span class="comment">// processing was successful and no error is returned.</span>
    <span id="SuccessABCICode">SuccessABCICode</span> <a href="../../builtin/index.html#uint32">uint32</a> = 0
)</pre>
			
				<p>UndefinedCodespace when we explicitly declare no codespace

				<pre>const <span id="UndefinedCodespace">UndefinedCodespace</span> = &#34;undefined&#34;</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var (

    <span class="comment">// ErrPanic is only set when we recover from a panic, so we know to</span>
    <span class="comment">// redact potentially sensitive system info</span>
    <span id="ErrPanic">ErrPanic</span> = <a href="index.html#Register">Register</a>(<a href="index.html#UndefinedCodespace">UndefinedCodespace</a>, 111222, &#34;panic&#34;)
)</pre>
			
		
		
			
			
			<h2 id="ABCIError">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=2526:2589#L63">ABCIError</a>
				<a class="permalink" href="index.html#ABCIError">&#xb6;</a>
				
				
			</h2>
			<pre>func ABCIError(codespace <a href="../../builtin/index.html#string">string</a>, code <a href="../../builtin/index.html#uint32">uint32</a>, log <a href="../../builtin/index.html#string">string</a>) <a href="../../builtin/index.html#error">error</a></pre>
			<p>ABCIError will resolve an error code/log from an abci result into
an error message. If the code is registered, it will map it back to
the canonical error, so we can do eg. ErrNotFound.Is(err) on something
we get back from an external API.
<p>This should *only* be used in clients, not in the server side.
The server (abci app / blockchain) should only refer to registered errors

			
			

		
			
			
			<h2 id="ABCIInfo">func <a href="http://localhost:6060/src/cosmossdk.io/errors/abci.go?s=967:1047#L17">ABCIInfo</a>
				<a class="permalink" href="index.html#ABCIInfo">&#xb6;</a>
				
				
			</h2>
			<pre>func ABCIInfo(err <a href="../../builtin/index.html#error">error</a>, debug <a href="../../builtin/index.html#bool">bool</a>) (codespace <a href="../../builtin/index.html#string">string</a>, code <a href="../../builtin/index.html#uint32">uint32</a>, log <a href="../../builtin/index.html#string">string</a>)</pre>
			<p>ABCIInfo returns the ABCI error information as consumed by the tendermint
client. Returned codespace, code, and log message should be used as a ABCI response.
Any error that does not provide ABCICode information is categorized as error
with code 1, codespace UndefinedCodespace
When not running in a debug mode all messages of errors that do not provide
ABCICode information are replaced with generic &quot;internal error&quot;. Errors
without an ABCICode information as considered internal.

			
			

		
			
			
			<h2 id="AssertNil">func <a href="http://localhost:6060/src/cosmossdk.io/errors/handle.go?s=165:190#L1">AssertNil</a>
				<a class="permalink" href="index.html#AssertNil">&#xb6;</a>
				
				
			</h2>
			<pre>func AssertNil(err <a href="../../builtin/index.html#error">error</a>)</pre>
			<p>AssertNil panics on error
Should be only used with interface methods, which require return error, but the
error is always nil

			
			

		
			
			
			<h2 id="IsOf">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=8033:8081#L274">IsOf</a>
				<a class="permalink" href="index.html#IsOf">&#xb6;</a>
				
				
			</h2>
			<pre>func IsOf(received <a href="../../builtin/index.html#error">error</a>, targets ...<a href="../../builtin/index.html#error">error</a>) <a href="../../builtin/index.html#bool">bool</a></pre>
			<p>IsOf checks if a received error is caused by one of the target errors.
It extends the errors.Is functionality to a list of errors.

			
			

		
			
			
			<h2 id="Recover">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=7625:7649#L261">Recover</a>
				<a class="permalink" href="index.html#Recover">&#xb6;</a>
				
				
			</h2>
			<pre>func Recover(err *<a href="../../builtin/index.html#error">error</a>)</pre>
			<p>Recover captures a panic and stop its propagation. If panic happens it is
transformed into a ErrPanic instance and assigned to given error. Call this
function using defer in order to work as expected.

			
			

		
			
			
			<h2 id="WithType">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=7801:7848#L268">WithType</a>
				<a class="permalink" href="index.html#WithType">&#xb6;</a>
				
				
			</h2>
			<pre>func WithType(err <a href="../../builtin/index.html#error">error</a>, obj interface{}) <a href="../../builtin/index.html#error">error</a></pre>
			<p>WithType is a helper to augment an error with a corresponding type message

			
			

		
			
			
			<h2 id="Wrap">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=5498:5544#L168">Wrap</a>
				<a class="permalink" href="index.html#Wrap">&#xb6;</a>
				
				
			</h2>
			<pre>func Wrap(err <a href="../../builtin/index.html#error">error</a>, description <a href="../../builtin/index.html#string">string</a>) <a href="../../builtin/index.html#error">error</a></pre>
			<p>Wrap extends given error with an additional information.
<p>If the wrapped error does not provide ABCICode method (ie. stdlib errors),
it will be labeled as internal error.
<p>If err is nil, this returns nil, avoiding the need for an if statement when
wrapping a error returned at the end of a function

			<div id="example_Wrap" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		
		
		
			<p>Code:</p>
			<pre class="code">err1 := Wrap(ErrInsufficientFunds, &#34;90 is smaller than 100&#34;)
err2 := errors.Wrap(ErrInsufficientFunds, &#34;90 is smaller than 100&#34;)
fmt.Println(err1.Error())
fmt.Println(err2.Error())
<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">90 is smaller than 100: insufficient funds
90 is smaller than 100: insufficient funds
</pre>
			
		
	</div>
</div>

			

		
			
			
			<h2 id="Wrapf">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=6061:6124#L190">Wrapf</a>
				<a class="permalink" href="index.html#Wrapf">&#xb6;</a>
				
				
			</h2>
			<pre>func Wrapf(err <a href="../../builtin/index.html#error">error</a>, format <a href="../../builtin/index.html#string">string</a>, args ...interface{}) <a href="../../builtin/index.html#error">error</a></pre>
			<p>Wrapf extends given error with an additional information.
<p>This function works like Wrap function with additional functionality of
formatting the input as specified.

			<div id="example_Wrapf" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		
		
		
			<p>Code:</p>
			<pre class="code">err1 := Wrap(ErrInsufficientFunds, &#34;90 is smaller than 100&#34;)
err2 := errors.Wrap(ErrInsufficientFunds, &#34;90 is smaller than 100&#34;)
fmt.Println(err1.Error())
fmt.Println(err2.Error())
<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">90 is smaller than 100: insufficient funds
90 is smaller than 100: insufficient funds
</pre>
			
		
	</div>
</div>

			

		
		
			
			
			<h2 id="Error">type <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=3287:3388#L81">Error</a>
				<a class="permalink" href="index.html#Error">&#xb6;</a>
				
				
			</h2>
			<p>Error represents a root error.
<p>Weave framework is using root error to categorize issues. Each instance
created during the runtime should wrap one of the declared root errors. This
allows error tests and returning all errors to the client in a safe manner.
<p>All popular root errors are declared in this package. If an extension has to
declare a custom root error, always use Register function to ensure
error code uniqueness.

			<pre>type Error struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="New">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=3423:3482#L89">New</a>
					<a class="permalink" href="index.html#New">&#xb6;</a>
					
					
				</h3>
				<pre>func New(codespace <a href="../../builtin/index.html#string">string</a>, code <a href="../../builtin/index.html#uint32">uint32</a>, desc <a href="../../builtin/index.html#string">string</a>) *<a href="index.html#Error">Error</a></pre>
				<p>New is an alias for Register.

				
				
			
				
				<h3 id="Register">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=987:1058#L22">Register</a>
					<a class="permalink" href="index.html#Register">&#xb6;</a>
					
					
				</h3>
				<pre>func Register(codespace <a href="../../builtin/index.html#string">string</a>, code <a href="../../builtin/index.html#uint32">uint32</a>, description <a href="../../builtin/index.html#string">string</a>) *<a href="index.html#Error">Error</a></pre>
				<p>Register returns an error instance that should be used as the base for
creating error instances during runtime.
<p>Popular root errors are declared in this package, but extensions may want to
declare custom codes. This function ensures that no error code is used
twice. Attempt to reuse an error code results in panic.
<p>Use this function only during a program startup phase.

				
				
			
				
				<h3 id="RegisterWithGRPCCode">func <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=1253:1361#L28">RegisterWithGRPCCode</a>
					<a class="permalink" href="index.html#RegisterWithGRPCCode">&#xb6;</a>
					
					
				</h3>
				<pre>func RegisterWithGRPCCode(codespace <a href="../../builtin/index.html#string">string</a>, code <a href="../../builtin/index.html#uint32">uint32</a>, grpcCode <a href="../../google.golang.org/grpc/codes/index.html">grpccodes</a>.<a href="../../google.golang.org/grpc/codes/index.html#Code">Code</a>, description <a href="../../builtin/index.html#string">string</a>) *<a href="index.html#Error">Error</a></pre>
				<p>RegisterWithGRPCCode is a version of Register that associates a gRPC error
code with a registered error.

				
				
			

			
				
				<h3 id="Error.ABCICode">func (Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=3578:3610#L97">ABCICode</a>
					<a class="permalink" href="index.html#Error.ABCICode">&#xb6;</a>
					
					
				</h3>
				<pre>func (e <a href="index.html#Error">Error</a>) ABCICode() <a href="../../builtin/index.html#uint32">uint32</a></pre>
				
				
				
				
			
				
				<h3 id="Error.Codespace">func (Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=3631:3664#L101">Codespace</a>
					<a class="permalink" href="index.html#Error.Codespace">&#xb6;</a>
					
					
				</h3>
				<pre>func (e <a href="index.html#Error">Error</a>) Codespace() <a href="../../builtin/index.html#string">string</a></pre>
				
				
				
				
			
				
				<h3 id="Error.Error">func (Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=3528:3557#L93">Error</a>
					<a class="permalink" href="index.html#Error.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (e <a href="index.html#Error">Error</a>) Error() <a href="../../builtin/index.html#string">string</a></pre>
				
				
				
				
			
				
				<h3 id="Error.GRPCStatus">func (*Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=4763:4810#L145">GRPCStatus</a>
					<a class="permalink" href="index.html#Error.GRPCStatus">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Error">Error</a>) GRPCStatus() *<a href="../../google.golang.org/grpc/status/index.html">grpcstatus</a>.<a href="../../google.golang.org/grpc/status/index.html#Status">Status</a></pre>
				
				
				
				
			
				
				<h3 id="Error.Is">func (*Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=3828:3862#L107">Is</a>
					<a class="permalink" href="index.html#Error.Is">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Error">Error</a>) Is(err <a href="../../builtin/index.html#error">error</a>) <a href="../../builtin/index.html#bool">bool</a></pre>
				<p>Is check if given error instance is of a given kind/type. This involves
unwrapping given error using the Cause method if available.

				
				
				
			
				
				<h3 id="Error.Wrap">func (*Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=4483:4522#L139">Wrap</a>
					<a class="permalink" href="index.html#Error.Wrap">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Error">Error</a>) Wrap(desc <a href="../../builtin/index.html#string">string</a>) <a href="../../builtin/index.html#error">error</a></pre>
				<p>Wrap extends this error with an additional information.
It&apos;s a handy function to call Wrap with sdk errors.

				
				
				
			
				
				<h3 id="Error.Wrapf">func (*Error) <a href="http://localhost:6060/src/cosmossdk.io/errors/errors.go?s=4665:4726#L143">Wrapf</a>
					<a class="permalink" href="index.html#Error.Wrapf">&#xb6;</a>
					
					
				</h3>
				<pre>func (e *<a href="index.html#Error">Error</a>) Wrapf(desc <a href="../../builtin/index.html#string">string</a>, args ...interface{}) <a href="../../builtin/index.html#error">error</a></pre>
				<p>Wrapf extends this error with an additional information.
It&apos;s a handy function to call Wrapf with sdk errors.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
