<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>xds - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package xds
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "google.golang.org/grpc/xds"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package xds contains an implementation of the xDS suite of protocols, to be
used by gRPC client and server applications.
<p>On the client-side, users simply need to import this package to get all xDS
functionality. On the server-side, users need to use the GRPCServer type
exported by this package instead of the regular grpc.Server.
<p>See <a href="https://github.com/grpc/grpc-go/tree/master/examples/features/xds">https://github.com/grpc/grpc-go/tree/master/examples/features/xds</a> for
example.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#BootstrapContentsForTesting">func BootstrapContentsForTesting(contents []byte) grpc.ServerOption</a></dd>
			
				
				<dd><a href="index.html#NewXDSResolverWithConfigForTesting">func NewXDSResolverWithConfigForTesting(bootstrapConfig []byte) (resolver.Builder, error)</a></dd>
			
				
				<dd><a href="index.html#ServingModeCallback">func ServingModeCallback(cb ServingModeCallbackFunc) grpc.ServerOption</a></dd>
			
			
				
				<dd><a href="index.html#GRPCServer">type GRPCServer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewGRPCServer">func NewGRPCServer(opts ...grpc.ServerOption) *GRPCServer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GRPCServer.GetServiceInfo">func (s *GRPCServer) GetServiceInfo() map[string]grpc.ServiceInfo</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GRPCServer.GracefulStop">func (s *GRPCServer) GracefulStop()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GRPCServer.RegisterService">func (s *GRPCServer) RegisterService(sd *grpc.ServiceDesc, ss interface{})</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GRPCServer.Serve">func (s *GRPCServer) Serve(lis net.Listener) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GRPCServer.Stop">func (s *GRPCServer) Stop()</a></dd>
				
			
				
				<dd><a href="index.html#ServingModeCallbackFunc">type ServingModeCallbackFunc</a></dd>
				
				
			
				
				<dd><a href="index.html#ServingModeChangeArgs">type ServingModeChangeArgs</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go">server.go</a>
			
				<a href="http://localhost:6060/src/google.golang.org/grpc/xds/server_options.go">server_options.go</a>
			
				<a href="http://localhost:6060/src/google.golang.org/grpc/xds/xds.go">xds.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="BootstrapContentsForTesting">func <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server_options.go?s=2349:2416#L64">BootstrapContentsForTesting</a>
				<a class="permalink" href="index.html#BootstrapContentsForTesting">&#xb6;</a>
				
				
			</h2>
			<pre>func BootstrapContentsForTesting(contents []<a href="../../../builtin/index.html#byte">byte</a>) <a href="../index.html">grpc</a>.<a href="../index.html#ServerOption">ServerOption</a></pre>
			<p>BootstrapContentsForTesting returns a grpc.ServerOption which allows users
to inject a bootstrap configuration used by only this server, instead of the
global configuration from the environment variables.
<h3 id="hdr-Testing_Only">Testing Only</h3>
<p>This function should ONLY be used for testing and may not work with some
other features, including the CSDS service.
<h3 id="hdr-Experimental">Experimental</h3>
<p>Notice: This API is EXPERIMENTAL and may be changed or removed in a
later release.

			
			

		
			
			
			<h2 id="NewXDSResolverWithConfigForTesting">func <a href="http://localhost:6060/src/google.golang.org/grpc/xds/xds.go?s=3605:3694#L83">NewXDSResolverWithConfigForTesting</a>
				<a class="permalink" href="index.html#NewXDSResolverWithConfigForTesting">&#xb6;</a>
				
				
			</h2>
			<pre>func NewXDSResolverWithConfigForTesting(bootstrapConfig []<a href="../../../builtin/index.html#byte">byte</a>) (<a href="../resolver/index.html">resolver</a>.<a href="../resolver/index.html#Builder">Builder</a>, <a href="../../../builtin/index.html#error">error</a>)</pre>
			<p>NewXDSResolverWithConfigForTesting creates a new xDS resolver builder using
the provided xDS bootstrap config instead of the global configuration from
the supported environment variables.  The resolver.Builder is meant to be
used in conjunction with the grpc.WithResolvers DialOption.
<h3 id="hdr-Testing_Only">Testing Only</h3>
<p>This function should ONLY be used for testing and may not work with some
other features, including the CSDS service.
<h3 id="hdr-Experimental">Experimental</h3>
<p>Notice: This API is EXPERIMENTAL and may be changed or removed in a
later release.

			
			

		
			
			
			<h2 id="ServingModeCallback">func <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server_options.go?s=1044:1114#L30">ServingModeCallback</a>
				<a class="permalink" href="index.html#ServingModeCallback">&#xb6;</a>
				
				
			</h2>
			<pre>func ServingModeCallback(cb <a href="index.html#ServingModeCallbackFunc">ServingModeCallbackFunc</a>) <a href="../index.html">grpc</a>.<a href="../index.html#ServerOption">ServerOption</a></pre>
			<p>ServingModeCallback returns a grpc.ServerOption which allows users to
register a callback to get notified about serving mode changes.

			
			

		
		
			
			
			<h2 id="GRPCServer">type <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=2577:3019#L68">GRPCServer</a>
				<a class="permalink" href="index.html#GRPCServer">&#xb6;</a>
				
				
			</h2>
			<p>GRPCServer wraps a gRPC server and provides server-side xDS functionality, by
communication with a management server using xDS APIs. It implements the
grpc.ServiceRegistrar interface and can be passed to service registration
functions in IDL generated code.

			<pre>type GRPCServer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewGRPCServer">func <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=3202:3259#L86">NewGRPCServer</a>
					<a class="permalink" href="index.html#NewGRPCServer">&#xb6;</a>
					
					
				</h3>
				<pre>func NewGRPCServer(opts ...<a href="../index.html">grpc</a>.<a href="../index.html#ServerOption">ServerOption</a>) *<a href="index.html#GRPCServer">GRPCServer</a></pre>
				<p>NewGRPCServer creates an xDS-enabled gRPC server using the passed in opts.
The underlying gRPC server has no service registered and has not started to
accept requests yet.

				
				
			

			
				
				<h3 id="GRPCServer.GetServiceInfo">func (*GRPCServer) <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=5923:5988#L158">GetServiceInfo</a>
					<a class="permalink" href="index.html#GRPCServer.GetServiceInfo">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GRPCServer">GRPCServer</a>) GetServiceInfo() map[<a href="../../../builtin/index.html#string">string</a>]<a href="../index.html">grpc</a>.<a href="../index.html#ServiceInfo">ServiceInfo</a></pre>
				<p>GetServiceInfo returns a map from service names to ServiceInfo.
Service names include the package names, in the form of &lt;package&gt;.&lt;service&gt;.

				
				
				
			
				
				<h3 id="GRPCServer.GracefulStop">func (*GRPCServer) <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=12111:12146#L331">GracefulStop</a>
					<a class="permalink" href="index.html#GRPCServer.GracefulStop">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GRPCServer">GRPCServer</a>) GracefulStop()</pre>
				<p>GracefulStop stops the underlying gRPC server gracefully. It stops the server
from accepting new connections and RPCs and blocks until all the pending RPCs
are finished.

				
				
				
			
				
				<h3 id="GRPCServer.RegisterService">func (*GRPCServer) <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=5666:5740#L152">RegisterService</a>
					<a class="permalink" href="index.html#GRPCServer.RegisterService">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GRPCServer">GRPCServer</a>) RegisterService(sd *<a href="../index.html">grpc</a>.<a href="../index.html#ServiceDesc">ServiceDesc</a>, ss interface{})</pre>
				<p>RegisterService registers a service and its implementation to the underlying
gRPC server. It is called from the IDL generated code. This must be called
before invoking Serve.

				
				
				
			
				
				<h3 id="GRPCServer.Serve">func (*GRPCServer) <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=7051:7101#L195">Serve</a>
					<a class="permalink" href="index.html#GRPCServer.Serve">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GRPCServer">GRPCServer</a>) Serve(lis <a href="../../../net/index.html">net</a>.<a href="../../../net/index.html#Listener">Listener</a>) <a href="../../../builtin/index.html#error">error</a></pre>
				<p>Serve gets the underlying gRPC server to accept incoming connections on the
listener lis, which is expected to be listening on a TCP port.
<p>A connection to the management server, to receive xDS configuration, is
initiated here.
<p>Serve will return a non-nil error unless Stop or GracefulStop is called.

				
				
				
			
				
				<h3 id="GRPCServer.Stop">func (*GRPCServer) <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server.go?s=11827:11854#L320">Stop</a>
					<a class="permalink" href="index.html#GRPCServer.Stop">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GRPCServer">GRPCServer</a>) Stop()</pre>
				<p>Stop stops the underlying gRPC server. It immediately closes all open
connections. It cancels all active RPCs on the server side and the
corresponding pending RPCs on the client side will get notified by connection
errors.

				
				
				
			
		
			
			
			<h2 id="ServingModeCallbackFunc">type <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server_options.go?s=1473:1549#L39">ServingModeCallbackFunc</a>
				<a class="permalink" href="index.html#ServingModeCallbackFunc">&#xb6;</a>
				
				
			</h2>
			<p>ServingModeCallbackFunc is the callback that users can register to get
notified about the server&apos;s serving mode changes. The callback is invoked
with the address of the listener and its new mode.
<p>Users must not perform any blocking operations in this callback.

			<pre>type ServingModeCallbackFunc func(addr <a href="../../../net/index.html">net</a>.<a href="../../../net/index.html#Addr">Addr</a>, args <a href="index.html#ServingModeChangeArgs">ServingModeChangeArgs</a>)</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ServingModeChangeArgs">type <a href="http://localhost:6060/src/google.golang.org/grpc/xds/server_options.go?s=1645:1873#L43">ServingModeChangeArgs</a>
				<a class="permalink" href="index.html#ServingModeChangeArgs">&#xb6;</a>
				
				
			</h2>
			<p>ServingModeChangeArgs wraps the arguments passed to the serving mode callback
function.

			<pre>type ServingModeChangeArgs struct {
<span id="ServingModeChangeArgs.Mode"></span>    <span class="comment">// Mode is the new serving mode of the server listener.</span>
    Mode <a href="../connectivity/index.html">connectivity</a>.<a href="../connectivity/index.html#ServingMode">ServingMode</a>
<span id="ServingModeChangeArgs.Err"></span>    <span class="comment">// Err is set to a non-nil error if the server has transitioned into</span>
    <span class="comment">// not-serving mode.</span>
    Err <a href="../../../builtin/index.html#error">error</a>
}
</pre>

			

			

			
			
			

			

			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="bootstrap/index.html">bootstrap</a>
					</td>
				
					<td class="pkg-synopsis">
						Package bootstrap provides the functionality to register possible options for aspects of the xDS client through the bootstrap file.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="csds/index.html">csds</a>
					</td>
				
					<td class="pkg-synopsis">
						Package csds implements features to dump the status (xDS responses) the xds_client is using.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="googledirectpath/index.html">googledirectpath</a>
					</td>
				
					<td class="pkg-synopsis">
						Package googledirectpath implements a resolver that configures xds to make cloud to prod directpath connection.
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
