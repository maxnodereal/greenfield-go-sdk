<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>certprovider - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package certprovider
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "google.golang.org/grpc/credentials/tls/certprovider"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package certprovider defines APIs for Certificate Providers in gRPC.
<h3 id="hdr-Experimental">Experimental</h3>
<p>Notice: All APIs in this package are experimental and may be removed in a
later release.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#Register">func Register(b Builder)</a></dd>
			
			
				
				<dd><a href="index.html#BuildOptions">type BuildOptions</a></dd>
				
				
			
				
				<dd><a href="index.html#BuildableConfig">type BuildableConfig</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBuildableConfig">func NewBuildableConfig(name string, config []byte, starter func(BuildOptions) Provider) *BuildableConfig</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ParseConfig">func ParseConfig(name string, config interface{}) (*BuildableConfig, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BuildableConfig.Build">func (bc *BuildableConfig) Build(opts BuildOptions) (Provider, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BuildableConfig.String">func (bc *BuildableConfig) String() string</a></dd>
				
			
				
				<dd><a href="index.html#Builder">type Builder</a></dd>
				
				
			
				
				<dd><a href="index.html#Distributor">type Distributor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewDistributor">func NewDistributor() *Distributor</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Distributor.KeyMaterial">func (d *Distributor) KeyMaterial(ctx context.Context) (*KeyMaterial, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Distributor.Set">func (d *Distributor) Set(km *KeyMaterial, err error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Distributor.Stop">func (d *Distributor) Stop()</a></dd>
				
			
				
				<dd><a href="index.html#KeyMaterial">type KeyMaterial</a></dd>
				
				
			
				
				<dd><a href="index.html#Provider">type Provider</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GetProvider">func GetProvider(name string, config interface{}, opts BuildOptions) (Provider, error)</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/distributor.go">distributor.go</a>
			
				<a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/provider.go">provider.go</a>
			
				<a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go">store.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="Register">func <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/provider.go?s=1430:1454#L42">Register</a>
				<a class="permalink" href="index.html#Register">&#xb6;</a>
				
				
			</h2>
			<pre>func Register(b <a href="index.html#Builder">Builder</a>)</pre>
			<p>Register registers the Provider builder, whose name as returned by its Name()
method will be used as the name registered with this builder. Registered
Builders are used by the Store to create Providers.

			
			

		
		
			
			
			<h2 id="BuildOptions">type <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/provider.go?s=3086:3423#L90">BuildOptions</a>
				<a class="permalink" href="index.html#BuildOptions">&#xb6;</a>
				
				
			</h2>
			<p>BuildOptions contains parameters passed to a Provider at build time.

			<pre>type BuildOptions struct {
<span id="BuildOptions.CertName"></span>    <span class="comment">// CertName holds the certificate name, whose key material is of interest to</span>
    <span class="comment">// the caller.</span>
    CertName <a href="../../../../../builtin/index.html#string">string</a>
<span id="BuildOptions.WantRoot"></span>    <span class="comment">// WantRoot indicates if the caller is interested in the root certificate.</span>
    WantRoot <a href="../../../../../builtin/index.html#bool">bool</a>
<span id="BuildOptions.WantIdentity"></span>    <span class="comment">// WantIdentity indicates if the caller is interested in the identity</span>
    <span class="comment">// certificate.</span>
    WantIdentity <a href="../../../../../builtin/index.html#bool">bool</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="BuildableConfig">type <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go?s=2413:2529#L70">BuildableConfig</a>
				<a class="permalink" href="index.html#BuildableConfig">&#xb6;</a>
				
				
			</h2>
			<p>BuildableConfig wraps parsed provider configuration and functionality to
instantiate provider instances.

			<pre>type BuildableConfig struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewBuildableConfig">func <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go?s=2854:2959#L82">NewBuildableConfig</a>
					<a class="permalink" href="index.html#NewBuildableConfig">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBuildableConfig(name <a href="../../../../../builtin/index.html#string">string</a>, config []<a href="../../../../../builtin/index.html#byte">byte</a>, starter func(<a href="index.html#BuildOptions">BuildOptions</a>) <a href="index.html#Provider">Provider</a>) *<a href="index.html#BuildableConfig">BuildableConfig</a></pre>
				<p>NewBuildableConfig creates a new BuildableConfig with the given arguments.
Provider implementations are expected to invoke this function after parsing
the given configuration as part of their ParseConfig() method.
Equivalent configurations are expected to invoke this function with the same
config argument.

				
				
			
				
				<h3 id="ParseConfig">func <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go?s=4235:4310#L130">ParseConfig</a>
					<a class="permalink" href="index.html#ParseConfig">&#xb6;</a>
					
					
				</h3>
				<pre>func ParseConfig(name <a href="../../../../../builtin/index.html#string">string</a>, config interface{}) (*<a href="index.html#BuildableConfig">BuildableConfig</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>ParseConfig is a convenience function to create a BuildableConfig given a
provider name and configuration. Returns an error if there is no registered
builder for the given name or if the config parsing fails.

				
				
			

			
				
				<h3 id="BuildableConfig.Build">func (*BuildableConfig) <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go?s=3252:3321#L94">Build</a>
					<a class="permalink" href="index.html#BuildableConfig.Build">&#xb6;</a>
					
					
				</h3>
				<pre>func (bc *<a href="index.html#BuildableConfig">BuildableConfig</a>) Build(opts <a href="index.html#BuildOptions">BuildOptions</a>) (<a href="index.html#Provider">Provider</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Build kicks off a provider instance with the wrapped configuration. Multiple
invocations of this method with the same opts will result in provider
instances being reused.

				
				
				
			
				
				<h3 id="BuildableConfig.String">func (*BuildableConfig) <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go?s=3912:3954#L123">String</a>
					<a class="permalink" href="index.html#BuildableConfig.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (bc *<a href="index.html#BuildableConfig">BuildableConfig</a>) String() <a href="../../../../../builtin/index.html#string">string</a></pre>
				<p>String returns the provider name and config as a colon separated string.

				
				
				
			
		
			
			
			<h2 id="Builder">type <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/provider.go?s=1755:2059#L56">Builder</a>
				<a class="permalink" href="index.html#Builder">&#xb6;</a>
				
				
			</h2>
			<p>Builder creates a Provider.

			<pre>type Builder interface {
    <span class="comment">// ParseConfig parses the given config, which is in a format specific to individual</span>
    <span class="comment">// implementations, and returns a BuildableConfig on success.</span>
    ParseConfig(interface{}) (*<a href="index.html#BuildableConfig">BuildableConfig</a>, <a href="../../../../../builtin/index.html#error">error</a>)

    <span class="comment">// Name returns the name of providers built by this builder.</span>
    Name() <a href="../../../../../builtin/index.html#string">string</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Distributor">type <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/distributor.go?s=1282:1675#L29">Distributor</a>
				<a class="permalink" href="index.html#Distributor">&#xb6;</a>
				
				
			</h2>
			<p>Distributor makes it easy for provider implementations to furnish new key
materials by handling synchronization between the producer and consumers of
the key material.
<p>Provider implementations which choose to use a Distributor should do the
following:
<ul>
<li>create a new Distributor using the NewDistributor() function.
<li>invoke the Set() method whenever they have new key material or errors to
report.
<li>delegate to the distributor when handing calls to KeyMaterial().
<li>invoke the Stop() method when they are done using the distributor.
</ul>

			<pre>type Distributor struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewDistributor">func <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/distributor.go?s=1722:1756#L44">NewDistributor</a>
					<a class="permalink" href="index.html#NewDistributor">&#xb6;</a>
					
					
				</h3>
				<pre>func NewDistributor() *<a href="index.html#Distributor">Distributor</a></pre>
				<p>NewDistributor returns a new Distributor.

				
				
			

			
				
				<h3 id="Distributor.KeyMaterial">func (*Distributor) <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/distributor.go?s=2801:2877#L75">KeyMaterial</a>
					<a class="permalink" href="index.html#Distributor.KeyMaterial">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Distributor">Distributor</a>) KeyMaterial(ctx <a href="../../../../../context/index.html">context</a>.<a href="../../../../../context/index.html#Context">Context</a>) (*<a href="index.html#KeyMaterial">KeyMaterial</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>KeyMaterial returns the most recent key material provided to the Distributor.
If no key material was provided at the time of this call, it will block until
the deadline on the context expires or fresh key material arrives.

				
				
				
			
				
				<h3 id="Distributor.Set">func (*Distributor) <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/distributor.go?s=2334:2387#L60">Set</a>
					<a class="permalink" href="index.html#Distributor.Set">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Distributor">Distributor</a>) Set(km *<a href="index.html#KeyMaterial">KeyMaterial</a>, err <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Set updates the key material in the distributor with km.
<p>Provider implementations which use the distributor must not modify the
contents of the KeyMaterial struct pointed to by km.
<p>A non-nil err value indicates the error that the provider implementation ran
into when trying to fetch key material, and makes it possible to surface the
error to the user. A non-nil error value passed here causes distributor&apos;s
KeyMaterial() method to return nil key material.

				
				
				
			
				
				<h3 id="Distributor.Stop">func (*Distributor) <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/distributor.go?s=3418:3446#L102">Stop</a>
					<a class="permalink" href="index.html#Distributor.Stop">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Distributor">Distributor</a>) Stop()</pre>
				<p>Stop turns down the distributor, releases allocated resources and fails any
active KeyMaterial() call waiting for new key material.

				
				
				
			
		
			
			
			<h2 id="KeyMaterial">type <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/provider.go?s=2786:3012#L82">KeyMaterial</a>
				<a class="permalink" href="index.html#KeyMaterial">&#xb6;</a>
				
				
			</h2>
			<p>KeyMaterial wraps the certificates and keys returned by a Provider instance.

			<pre>type KeyMaterial struct {
<span id="KeyMaterial.Certs"></span>    <span class="comment">// Certs contains a slice of cert/key pairs used to prove local identity.</span>
    Certs []<a href="../../../../../crypto/tls/index.html">tls</a>.<a href="../../../../../crypto/tls/index.html#Certificate">Certificate</a>
<span id="KeyMaterial.Roots"></span>    <span class="comment">// Roots contains the set of trusted roots to validate the peer&#39;s identity.</span>
    Roots *<a href="../../../../../crypto/x509/index.html">x509</a>.<a href="../../../../../crypto/x509/index.html#CertPool">CertPool</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Provider">type <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/provider.go?s=2423:2704#L72">Provider</a>
				<a class="permalink" href="index.html#Provider">&#xb6;</a>
				
				
			</h2>
			<p>Provider makes it possible to keep channel credential implementations up to
date with secrets that they rely on to secure communications on the
underlying channel.
<p>Provider implementations are free to rely on local or remote sources to fetch
the latest secrets, and free to share any state between different
instantiations as they deem fit.

			<pre>type Provider interface {
    <span class="comment">// KeyMaterial returns the key material sourced by the Provider.</span>
    <span class="comment">// Callers are expected to use the returned value as read-only.</span>
    KeyMaterial(ctx <a href="../../../../../context/index.html">context</a>.<a href="../../../../../context/index.html#Context">Context</a>) (*<a href="index.html#KeyMaterial">KeyMaterial</a>, <a href="../../../../../builtin/index.html#error">error</a>)

    <span class="comment">// Close cleans up resources allocated by the Provider.</span>
    Close()
}</pre>

			

			

			
			
			

			
				
				<h3 id="GetProvider">func <a href="http://localhost:6060/src/google.golang.org/grpc/credentials/tls/certprovider/store.go?s=4588:4674#L140">GetProvider</a>
					<a class="permalink" href="index.html#GetProvider">&#xb6;</a>
					
					
				</h3>
				<pre>func GetProvider(name <a href="../../../../../builtin/index.html#string">string</a>, config interface{}, opts <a href="index.html#BuildOptions">BuildOptions</a>) (<a href="index.html#Provider">Provider</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
				<p>GetProvider is a convenience function to create a provider given the name,
config and build options.

				
				
			

			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="pemfile/index.html">pemfile</a>
					</td>
				
					<td class="pkg-synopsis">
						Package pemfile provides a file watching certificate provider plugin implementation which works for files with PEM contents.
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
