<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>sync - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package sync
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/prysmaticlabs/prysm/beacon-chain/sync"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package sync TODO(3147): Add details on how sync works.
<p>Package sync includes all chain-synchronization logic for the beacon node,
including gossip-sub validators for blocks, attestations, and other p2p
messages, as well as ability to process and respond to block requests
by peers.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#ReadChunkedBlock">func ReadChunkedBlock(stream libp2pcore.Stream, chain blockchain.ChainInfoFetcher, p2p p2p.P2P, isFirstChunk bool) (block.SignedBeaconBlock, error)</a></dd>
			
				
				<dd><a href="index.html#ReadStatusCode">func ReadStatusCode(stream network.Stream, encoding encoder.NetworkEncoding) (uint8, string, error)</a></dd>
			
				
				<dd><a href="index.html#SendBeaconBlocksByRangeRequest">func SendBeaconBlocksByRangeRequest(ctx context.Context, chain blockchain.ChainInfoFetcher, p2pProvider p2p.P2P, pid peer.ID, req *pb.BeaconBlocksByRangeRequest, blockProcessor BeaconBlockProcessor) ([]block.SignedBeaconBlock, error)</a></dd>
			
				
				<dd><a href="index.html#SendBeaconBlocksByRootRequest">func SendBeaconBlocksByRootRequest(ctx context.Context, chain blockchain.ChainInfoFetcher, p2pProvider p2p.P2P, pid peer.ID, req *p2ptypes.BeaconBlockByRootsReq, blockProcessor BeaconBlockProcessor) ([]block.SignedBeaconBlock, error)</a></dd>
			
				
				<dd><a href="index.html#SetRPCStreamDeadlines">func SetRPCStreamDeadlines(stream network.Stream)</a></dd>
			
				
				<dd><a href="index.html#SetStreamReadDeadline">func SetStreamReadDeadline(stream network.Stream, duration time.Duration)</a></dd>
			
				
				<dd><a href="index.html#SetStreamWriteDeadline">func SetStreamWriteDeadline(stream network.Stream, duration time.Duration)</a></dd>
			
				
				<dd><a href="index.html#WriteBlockChunk">func WriteBlockChunk(stream libp2pcore.Stream, chain blockchain.ChainInfoFetcher, encoding encoder.NetworkEncoding, blk block.SignedBeaconBlock) error</a></dd>
			
			
				
				<dd><a href="index.html#BeaconBlockProcessor">type BeaconBlockProcessor</a></dd>
				
				
			
				
				<dd><a href="index.html#Checker">type Checker</a></dd>
				
				
			
				
				<dd><a href="index.html#Option">type Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithAttestationNotifier">func WithAttestationNotifier(notifier operation.Notifier) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithAttestationPool">func WithAttestationPool(attPool attestations.Pool) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithBlockNotifier">func WithBlockNotifier(blockNotifier blockfeed.Notifier) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithChainService">func WithChainService(chain blockchainService) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithDatabase">func WithDatabase(db db.NoHeadAccessDatabase) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithExitPool">func WithExitPool(exitPool voluntaryexits.PoolManager) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithInitialSync">func WithInitialSync(initialSync Checker) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithOperationNotifier">func WithOperationNotifier(operationNotifier operation.Notifier) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithP2P">func WithP2P(p2p p2p.P2P) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithSlasherAttestationsFeed">func WithSlasherAttestationsFeed(slasherAttestationsFeed *event.Feed) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithSlasherBlockHeadersFeed">func WithSlasherBlockHeadersFeed(slasherBlockHeadersFeed *event.Feed) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithSlashingPool">func WithSlashingPool(slashingPool slashings.PoolManager) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithStateGen">func WithStateGen(stateGen *stategen.State) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithStateNotifier">func WithStateNotifier(stateNotifier statefeed.Notifier) Option</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithSyncCommsPool">func WithSyncCommsPool(syncCommsPool synccommittee.Pool) Option</a></dd>
				
				
			
				
				<dd><a href="index.html#Service">type Service</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewService">func NewService(ctx context.Context, opts ...Option) *Service</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.Start">func (s *Service) Start()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.Status">func (s *Service) Status() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.Stop">func (s *Service) Stop() error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/batch_verifier.go">batch_verifier.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/context.go">context.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/deadlines.go">deadlines.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/decode_pubsub.go">decode_pubsub.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/doc.go">doc.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/error.go">error.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/fork_watcher.go">fork_watcher.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/log.go">log.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/metrics.go">metrics.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go">options.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/pending_attestations_queue.go">pending_attestations_queue.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/pending_blocks_queue.go">pending_blocks_queue.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rate_limiter.go">rate_limiter.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc.go">rpc.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_beacon_blocks_by_range.go">rpc_beacon_blocks_by_range.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_beacon_blocks_by_root.go">rpc_beacon_blocks_by_root.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_chunked_response.go">rpc_chunked_response.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_goodbye.go">rpc_goodbye.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_metadata.go">rpc_metadata.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_ping.go">rpc_ping.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_send_request.go">rpc_send_request.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_status.go">rpc_status.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go">service.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber.go">subscriber.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber_beacon_aggregate_proof.go">subscriber_beacon_aggregate_proof.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber_beacon_attestation.go">subscriber_beacon_attestation.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber_beacon_blocks.go">subscriber_beacon_blocks.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber_handlers.go">subscriber_handlers.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber_sync_committee_message.go">subscriber_sync_committee_message.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscriber_sync_contribution_proof.go">subscriber_sync_contribution_proof.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/subscription_topic_handler.go">subscription_topic_handler.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/utils.go">utils.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_aggregate_proof.go">validate_aggregate_proof.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_attester_slashing.go">validate_attester_slashing.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_beacon_attestation.go">validate_beacon_attestation.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_beacon_blocks.go">validate_beacon_blocks.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_proposer_slashing.go">validate_proposer_slashing.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_sync_committee_message.go">validate_sync_committee_message.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_sync_contribution_proof.go">validate_sync_contribution_proof.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/validate_voluntary_exit.go">validate_voluntary_exit.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>ErrInvalidFetchedData is thrown if stream fails to provide requested blocks.

				<pre>var <span id="ErrInvalidFetchedData">ErrInvalidFetchedData</span> = <a href="../../../../pkg/errors/index.html">errors</a>.<a href="../../../../pkg/errors/index.html#New">New</a>(&#34;invalid data returned from peer&#34;)</pre>
			
		
		
			
			
			<h2 id="ReadChunkedBlock">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_chunked_response.go?s=2224:2371#L49">ReadChunkedBlock</a>
				<a class="permalink" href="index.html#ReadChunkedBlock">&#xb6;</a>
				
				
			</h2>
			<pre>func ReadChunkedBlock(stream <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/">libp2pcore</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/#Stream">Stream</a>, chain <a href="../blockchain/index.html">blockchain</a>.<a href="../blockchain/index.html#ChainInfoFetcher">ChainInfoFetcher</a>, p2p <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#P2P">P2P</a>, isFirstChunk <a href="../../../../../builtin/index.html#bool">bool</a>) (<a href="../../proto/prysm/v1alpha1/block/index.html">block</a>.<a href="../../proto/prysm/v1alpha1/block/index.html#SignedBeaconBlock">SignedBeaconBlock</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>ReadChunkedBlock handles each response chunk that is sent by the
peer and converts it into a beacon block.

			
			

		
			
			
			<h2 id="ReadStatusCode">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/error.go?s=731:830#L16">ReadStatusCode</a>
				<a class="permalink" href="index.html#ReadStatusCode">&#xb6;</a>
				
				
			</h2>
			<pre>func ReadStatusCode(stream <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/">network</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/#Stream">Stream</a>, encoding <a href="../p2p/encoder/index.html">encoder</a>.<a href="../p2p/encoder/index.html#NetworkEncoding">NetworkEncoding</a>) (<a href="../../../../../builtin/index.html#uint8">uint8</a>, <a href="../../../../../builtin/index.html#string">string</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>ReadStatusCode response from a RPC stream.

			
			

		
			
			
			<h2 id="SendBeaconBlocksByRangeRequest">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_send_request.go?s=999:1237#L17">SendBeaconBlocksByRangeRequest</a>
				<a class="permalink" href="index.html#SendBeaconBlocksByRangeRequest">&#xb6;</a>
				
				
			</h2>
			<pre>func SendBeaconBlocksByRangeRequest(
    ctx <a href="../../../../../context/index.html">context</a>.<a href="../../../../../context/index.html#Context">Context</a>, chain <a href="../blockchain/index.html">blockchain</a>.<a href="../blockchain/index.html#ChainInfoFetcher">ChainInfoFetcher</a>, p2pProvider <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#P2P">P2P</a>, pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>,
    req *<a href="../../proto/prysm/v1alpha1/index.html">pb</a>.<a href="../../proto/prysm/v1alpha1/index.html#BeaconBlocksByRangeRequest">BeaconBlocksByRangeRequest</a>, blockProcessor <a href="index.html#BeaconBlockProcessor">BeaconBlockProcessor</a>,
) ([]<a href="../../proto/prysm/v1alpha1/block/index.html">block</a>.<a href="../../proto/prysm/v1alpha1/block/index.html#SignedBeaconBlock">SignedBeaconBlock</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>SendBeaconBlocksByRangeRequest sends BeaconBlocksByRange and returns fetched blocks, if any.

			
			

		
			
			
			<h2 id="SendBeaconBlocksByRootRequest">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_send_request.go?s=3189:3427#L79">SendBeaconBlocksByRootRequest</a>
				<a class="permalink" href="index.html#SendBeaconBlocksByRootRequest">&#xb6;</a>
				
				
			</h2>
			<pre>func SendBeaconBlocksByRootRequest(
    ctx <a href="../../../../../context/index.html">context</a>.<a href="../../../../../context/index.html#Context">Context</a>, chain <a href="../blockchain/index.html">blockchain</a>.<a href="../blockchain/index.html#ChainInfoFetcher">ChainInfoFetcher</a>, p2pProvider <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#P2P">P2P</a>, pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>,
    req *<a href="../p2p/types/index.html">p2ptypes</a>.<a href="../p2p/types/index.html#BeaconBlockByRootsReq">BeaconBlockByRootsReq</a>, blockProcessor <a href="index.html#BeaconBlockProcessor">BeaconBlockProcessor</a>,
) ([]<a href="../../proto/prysm/v1alpha1/block/index.html">block</a>.<a href="../../proto/prysm/v1alpha1/block/index.html#SignedBeaconBlock">SignedBeaconBlock</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>SendBeaconBlocksByRootRequest sends BeaconBlocksByRoot and returns fetched blocks, if any.

			
			

		
			
			
			<h2 id="SetRPCStreamDeadlines">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/deadlines.go?s=383:432#L6">SetRPCStreamDeadlines</a>
				<a class="permalink" href="index.html#SetRPCStreamDeadlines">&#xb6;</a>
				
				
			</h2>
			<pre>func SetRPCStreamDeadlines(stream <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/">network</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/#Stream">Stream</a>)</pre>
			<p>SetRPCStreamDeadlines sets read and write deadlines for libp2p-based connection streams.

			
			

		
			
			
			<h2 id="SetStreamReadDeadline">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/deadlines.go?s=1027:1100#L19">SetStreamReadDeadline</a>
				<a class="permalink" href="index.html#SetStreamReadDeadline">&#xb6;</a>
				
				
			</h2>
			<pre>func SetStreamReadDeadline(stream <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/">network</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/#Stream">Stream</a>, duration <a href="../../../../../time/index.html">time</a>.<a href="../../../../../time/index.html#Duration">Duration</a>)</pre>
			<p>SetStreamReadDeadline for reading from libp2p connection streams, deciding when to close
a connection based on a particular duration.
<p>NOTE: libp2p uses the system clock time for determining the deadline so we use
time.Now() instead of the synchronized roughtime.Now(). If the system
time is corrupted (i.e. time does not advance), the node will experience
issues being able to properly close streams, leading to unexpected failures and possible
memory leaks.

			
			

		
			
			
			<h2 id="SetStreamWriteDeadline">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/deadlines.go?s=1929:2003#L38">SetStreamWriteDeadline</a>
				<a class="permalink" href="index.html#SetStreamWriteDeadline">&#xb6;</a>
				
				
			</h2>
			<pre>func SetStreamWriteDeadline(stream <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/">network</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/#Stream">Stream</a>, duration <a href="../../../../../time/index.html">time</a>.<a href="../../../../../time/index.html#Duration">Duration</a>)</pre>
			<p>SetStreamWriteDeadline for writing to libp2p connection streams, deciding when to close
a connection based on a particular duration.
<p>NOTE: libp2p uses the system clock time for determining the deadline so we use
time.Now() instead of the synchronized roughtime.Now(). If the system
time is corrupted (i.e. time does not advance), the node will experience
issues being able to properly close streams, leading to unexpected failures and possible
memory leaks.

			
			

		
			
			
			<h2 id="WriteBlockChunk">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_chunked_response.go?s=1225:1375#L18">WriteBlockChunk</a>
				<a class="permalink" href="index.html#WriteBlockChunk">&#xb6;</a>
				
				
			</h2>
			<pre>func WriteBlockChunk(stream <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/">libp2pcore</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/#Stream">Stream</a>, chain <a href="../blockchain/index.html">blockchain</a>.<a href="../blockchain/index.html#ChainInfoFetcher">ChainInfoFetcher</a>, encoding <a href="../p2p/encoder/index.html">encoder</a>.<a href="../p2p/encoder/index.html#NetworkEncoding">NetworkEncoding</a>, blk <a href="../../proto/prysm/v1alpha1/block/index.html">block</a>.<a href="../../proto/prysm/v1alpha1/block/index.html#SignedBeaconBlock">SignedBeaconBlock</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>WriteBlockChunk writes block chunk object to stream.
response_chunk  ::= &lt;result&gt; | &lt;context-bytes&gt; | &lt;encoding-dependent-header&gt; | &lt;encoded-payload&gt;

			
			

		
		
			
			
			<h2 id="BeaconBlockProcessor">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/rpc_send_request.go?s=834:901#L14">BeaconBlockProcessor</a>
				<a class="permalink" href="index.html#BeaconBlockProcessor">&#xb6;</a>
				
				
			</h2>
			<p>BeaconBlockProcessor defines a block processing function, which allows to start utilizing
blocks even before all blocks are ready.

			<pre>type BeaconBlockProcessor func(block <a href="../../proto/prysm/v1alpha1/block/index.html">block</a>.<a href="../../proto/prysm/v1alpha1/block/index.html#SignedBeaconBlock">SignedBeaconBlock</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Checker">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go?s=10617:10726#L281">Checker</a>
				<a class="permalink" href="index.html#Checker">&#xb6;</a>
				
				
			</h2>
			<p>Checker defines a struct which can verify whether a node is currently
synchronizing a chain with the rest of peers in the network.

			<pre>type Checker interface {
    Initialized() <a href="../../../../../builtin/index.html#bool">bool</a>
    Syncing() <a href="../../../../../builtin/index.html#bool">bool</a>
    Synced() <a href="../../../../../builtin/index.html#bool">bool</a>
    Status() <a href="../../../../../builtin/index.html#error">error</a>
    Resync() <a href="../../../../../builtin/index.html#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Option">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=732:766#L7">Option</a>
				<a class="permalink" href="index.html#Option">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Option func(s *<a href="index.html#Service">Service</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>

			

			

			
			
			

			
				
				<h3 id="WithAttestationNotifier">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=768:832#L9">WithAttestationNotifier</a>
					<a class="permalink" href="index.html#WithAttestationNotifier">&#xb6;</a>
					
					
				</h3>
				<pre>func WithAttestationNotifier(notifier <a href="../core/feed/operation/index.html">operation</a>.<a href="../core/feed/operation/index.html#Notifier">Notifier</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithAttestationPool">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1160:1218#L30">WithAttestationPool</a>
					<a class="permalink" href="index.html#WithAttestationPool">&#xb6;</a>
					
					
				</h3>
				<pre>func WithAttestationPool(attPool <a href="../operations/attestations/index.html">attestations</a>.<a href="../operations/attestations/index.html#Pool">Pool</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithBlockNotifier">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=2177:2240#L79">WithBlockNotifier</a>
					<a class="permalink" href="index.html#WithBlockNotifier">&#xb6;</a>
					
					
				</h3>
				<pre>func WithBlockNotifier(blockNotifier <a href="../core/feed/block/index.html">blockfeed</a>.<a href="../core/feed/block/index.html#Notifier">Notifier</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithChainService">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1754:1807#L58">WithChainService</a>
					<a class="permalink" href="index.html#WithChainService">&#xb6;</a>
					
					
				</h3>
				<pre>func WithChainService(chain blockchainService) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithDatabase">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1031:1083#L23">WithDatabase</a>
					<a class="permalink" href="index.html#WithDatabase">&#xb6;</a>
					
					
				</h3>
				<pre>func WithDatabase(db <a href="../db/index.html">db</a>.<a href="../db/index.html#NoHeadAccessDatabase">NoHeadAccessDatabase</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithExitPool">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1299:1360#L37">WithExitPool</a>
					<a class="permalink" href="index.html#WithExitPool">&#xb6;</a>
					
					
				</h3>
				<pre>func WithExitPool(exitPool <a href="../operations/voluntaryexits/index.html">voluntaryexits</a>.<a href="../operations/voluntaryexits/index.html#PoolManager">PoolManager</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithInitialSync">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1884:1932#L65">WithInitialSync</a>
					<a class="permalink" href="index.html#WithInitialSync">&#xb6;</a>
					
					
				</h3>
				<pre>func WithInitialSync(initialSync <a href="index.html#Checker">Checker</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithOperationNotifier">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=2333:2404#L86">WithOperationNotifier</a>
					<a class="permalink" href="index.html#WithOperationNotifier">&#xb6;</a>
					
					
				</h3>
				<pre>func WithOperationNotifier(operationNotifier <a href="../core/feed/operation/index.html">operation</a>.<a href="../core/feed/operation/index.html#Notifier">Notifier</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithP2P">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=926:958#L16">WithP2P</a>
					<a class="permalink" href="index.html#WithP2P">&#xb6;</a>
					
					
				</h3>
				<pre>func WithP2P(p2p <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#P2P">P2P</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithSlasherAttestationsFeed">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=2638:2714#L100">WithSlasherAttestationsFeed</a>
					<a class="permalink" href="index.html#WithSlasherAttestationsFeed">&#xb6;</a>
					
					
				</h3>
				<pre>func WithSlasherAttestationsFeed(slasherAttestationsFeed *<a href="../../async/event/index.html">event</a>.<a href="../../async/event/index.html#Feed">Feed</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithSlasherBlockHeadersFeed">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=2827:2903#L107">WithSlasherBlockHeadersFeed</a>
					<a class="permalink" href="index.html#WithSlasherBlockHeadersFeed">&#xb6;</a>
					
					
				</h3>
				<pre>func WithSlasherBlockHeadersFeed(slasherBlockHeadersFeed *<a href="../../async/event/index.html">event</a>.<a href="../../async/event/index.html#Feed">Feed</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithSlashingPool">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1443:1507#L44">WithSlashingPool</a>
					<a class="permalink" href="index.html#WithSlashingPool">&#xb6;</a>
					
					
				</h3>
				<pre>func WithSlashingPool(slashingPool <a href="../operations/slashings/index.html">slashings</a>.<a href="../operations/slashings/index.html#PoolManager">PoolManager</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithStateGen">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=2505:2555#L93">WithStateGen</a>
					<a class="permalink" href="index.html#WithStateGen">&#xb6;</a>
					
					
				</h3>
				<pre>func WithStateGen(stateGen *<a href="../state/stategen/index.html">stategen</a>.<a href="../state/stategen/index.html#State">State</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithStateNotifier">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=2021:2084#L72">WithStateNotifier</a>
					<a class="permalink" href="index.html#WithStateNotifier">&#xb6;</a>
					
					
				</h3>
				<pre>func WithStateNotifier(stateNotifier <a href="../core/feed/state/index.html">statefeed</a>.<a href="../core/feed/state/index.html#Notifier">Notifier</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			
				
				<h3 id="WithSyncCommsPool">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/options.go?s=1598:1661#L51">WithSyncCommsPool</a>
					<a class="permalink" href="index.html#WithSyncCommsPool">&#xb6;</a>
					
					
				</h3>
				<pre>func WithSyncCommsPool(syncCommsPool <a href="../operations/synccommittee/index.html">synccommittee</a>.<a href="../operations/synccommittee/index.html#Pool">Pool</a>) <a href="index.html#Option">Option</a></pre>
				
				
				
			

			
		
			
			
			<h2 id="Service">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go?s=4138:5675#L92">Service</a>
				<a class="permalink" href="index.html#Service">&#xb6;</a>
				
				
			</h2>
			<p>Service is responsible for handling all run time p2p related operations as the
main entry point for network messages.

			<pre>type Service struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewService">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go?s=5729:5790#L127">NewService</a>
					<a class="permalink" href="index.html#NewService">&#xb6;</a>
					
					
				</h3>
				<pre>func NewService(ctx <a href="../../../../../context/index.html">context</a>.<a href="../../../../../context/index.html#Context">Context</a>, opts ...<a href="index.html#Option">Option</a>) *<a href="index.html#Service">Service</a></pre>
				<p>NewService initializes new regular sync service.

				
				
			

			
				
				<h3 id="Service.Start">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go?s=6573:6598#L155">Start</a>
					<a class="permalink" href="index.html#Service.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) Start()</pre>
				<p>Start the regular sync service.

				
				
				
			
				
				<h3 id="Service.Status">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go?s=7563:7595#L195">Status</a>
					<a class="permalink" href="index.html#Service.Status">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) Status() <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>Status of the currently running regular sync service.

				
				
				
			
				
				<h3 id="Service.Stop">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/sync/service.go?s=7098:7128#L176">Stop</a>
					<a class="permalink" href="index.html#Service.Stop">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) Stop() <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>Stop the regular sync service.

				
				
				
			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="initial-sync/index.html">initial-sync</a>
					</td>
				
					<td class="pkg-synopsis">
						Package initialsync includes all initial block download and processing logic for the beacon node, using a round robin strategy and a finite-state-machine to handle edge-cases in a beacon node&#39;s sync status.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="initial-sync/testing/index.html">testing</a>
					</td>
				
					<td class="pkg-synopsis">
						Package testing includes useful mocks for testing initial sync status in unit tests.
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
