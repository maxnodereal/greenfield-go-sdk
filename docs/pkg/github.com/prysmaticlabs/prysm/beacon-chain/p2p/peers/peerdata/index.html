<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>peerdata - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package peerdata
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
			
				
				<dd><a href="index.html#PeerConnectionState">type PeerConnectionState</a></dd>
				
				
			
				
				<dd><a href="index.html#PeerData">type PeerData</a></dd>
				
				
			
				
				<dd><a href="index.html#Store">type Store</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewStore">func NewStore(ctx context.Context, config *StoreConfig) *Store</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Store.Config">func (s *Store) Config() *StoreConfig</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Store.DeletePeerData">func (s *Store) DeletePeerData(pid peer.ID)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Store.PeerData">func (s *Store) PeerData(pid peer.ID) (*PeerData, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Store.PeerDataGetOrCreate">func (s *Store) PeerDataGetOrCreate(pid peer.ID) *PeerData</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Store.Peers">func (s *Store) Peers() map[peer.ID]*PeerData</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Store.SetPeerData">func (s *Store) SetPeerData(pid peer.ID, data *PeerData)</a></dd>
				
			
				
				<dd><a href="index.html#StoreConfig">type StoreConfig</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go">store.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var (
    <span class="comment">// ErrPeerUnknown is returned when there is an attempt to obtain data from a peer that is not known.</span>
    <span id="ErrPeerUnknown">ErrPeerUnknown</span> = <a href="../../../../../../../errors/index.html">errors</a>.<a href="../../../../../../../errors/index.html#New">New</a>(&#34;peer unknown&#34;)
    <span class="comment">// ErrNoPeerStatus is returned when there is a map entry for a given peer but there is no chain</span>
    <span class="comment">// status for that peer. This should happen in rare circumstances only, but is a very possible</span>
    <span class="comment">// scenario in a chaotic and adversarial network.</span>
    <span id="ErrNoPeerStatus">ErrNoPeerStatus</span> = <a href="../../../../../../../errors/index.html">errors</a>.<a href="../../../../../../../errors/index.html#New">New</a>(&#34;no chain status for peer&#34;)
)</pre>
			
		
		
		
			
			
			<h2 id="PeerConnectionState">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=877:923#L17">PeerConnectionState</a>
				<a class="permalink" href="index.html#PeerConnectionState">&#xb6;</a>
				
				
			</h2>
			<p>PeerConnectionState is the state of the connection.

			<pre>type PeerConnectionState <a href="../../../../proto/prysm/v1alpha1/index.html">ethpb</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#ConnectionState">ConnectionState</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PeerData">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=1594:2218#L37">PeerData</a>
				<a class="permalink" href="index.html#PeerData">&#xb6;</a>
				
				
			</h2>
			<p>PeerData aggregates protocol and application level info about a single peer.

			<pre>type PeerData struct {
    <span class="comment">// Network related data.</span>
<span id="PeerData.Address"></span>    Address       <a href="http://localhost:6060/pkg/github.com/multiformats/go-multiaddr/">ma</a>.<a href="http://localhost:6060/pkg/github.com/multiformats/go-multiaddr/#Multiaddr">Multiaddr</a>
<span id="PeerData.Direction"></span>    Direction     <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/">network</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/network/#Direction">Direction</a>
<span id="PeerData.ConnState"></span>    ConnState     <a href="index.html#PeerConnectionState">PeerConnectionState</a>
<span id="PeerData.Enr"></span>    Enr           *<a href="../../../../../../ethereum/go-ethereum/p2p/enr/index.html">enr</a>.<a href="../../../../../../ethereum/go-ethereum/p2p/enr/index.html#Record">Record</a>
<span id="PeerData.NextValidTime"></span>    NextValidTime <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Time">Time</a>
    <span class="comment">// Chain related data.</span>
<span id="PeerData.MetaData"></span>    MetaData                  <a href="../../../../proto/prysm/v1alpha1/metadata/index.html">metadata</a>.<a href="../../../../proto/prysm/v1alpha1/metadata/index.html#Metadata">Metadata</a>
<span id="PeerData.ChainState"></span>    ChainState                *<a href="../../../../proto/prysm/v1alpha1/index.html">ethpb</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#Status">Status</a>
<span id="PeerData.ChainStateLastUpdated"></span>    ChainStateLastUpdated     <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Time">Time</a>
<span id="PeerData.ChainStateValidationError"></span>    ChainStateValidationError <a href="../../../../../../../builtin/index.html#error">error</a>
    <span class="comment">// Scorers internal data.</span>
<span id="PeerData.BadResponses"></span>    BadResponses         <a href="../../../../../../../builtin/index.html#int">int</a>
<span id="PeerData.ProcessedBlocks"></span>    ProcessedBlocks      <a href="../../../../../../../builtin/index.html#uint64">uint64</a>
<span id="PeerData.BlockProviderUpdated"></span>    BlockProviderUpdated <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Time">Time</a>
    <span class="comment">// Gossip Scoring data.</span>
<span id="PeerData.TopicScores"></span>    TopicScores      map[<a href="../../../../../../../builtin/index.html#string">string</a>]*<a href="../../../../proto/prysm/v1alpha1/index.html">ethpb</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#TopicScoreSnapshot">TopicScoreSnapshot</a>
<span id="PeerData.GossipScore"></span>    GossipScore      <a href="../../../../../../../builtin/index.html#float64">float64</a>
<span id="PeerData.BehaviourPenalty"></span>    BehaviourPenalty <a href="../../../../../../../builtin/index.html#float64">float64</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Store">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=1402:1512#L29">Store</a>
				<a class="permalink" href="index.html#Store">&#xb6;</a>
				
				
			</h2>
			<p>Store is a container for various peer related data (both protocol and app level).
Container implements RWMutex, so data access can be restricted on the container level. This allows
different components rely on the very same peer map container.
Note: access to data is controlled by clients i.e. client code is responsible for locking/unlocking
the mutex when accessing data.

			<pre>type Store struct {
    <a href="../../../../../../../sync/index.html">sync</a>.<a href="../../../../../../../sync/index.html#RWMutex">RWMutex</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewStore">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=2261:2323#L60">NewStore</a>
					<a class="permalink" href="index.html#NewStore">&#xb6;</a>
					
					
				</h3>
				<pre>func NewStore(ctx <a href="../../../../../../../context/index.html">context</a>.<a href="../../../../../../../context/index.html#Context">Context</a>, config *<a href="index.html#StoreConfig">StoreConfig</a>) *<a href="index.html#Store">Store</a></pre>
				<p>NewStore creates new peer data store.

				
				
			

			
				
				<h3 id="Store.Config">func (*Store) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=3761:3798#L105">Config</a>
					<a class="permalink" href="index.html#Store.Config">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Store">Store</a>) Config() *<a href="index.html#StoreConfig">StoreConfig</a></pre>
				<p>Config exposes store configuration params.

				
				
				
			
				
				<h3 id="Store.DeletePeerData">func (*Store) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=3453:3496#L94">DeletePeerData</a>
					<a class="permalink" href="index.html#Store.DeletePeerData">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Store">Store</a>) DeletePeerData(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>)</pre>
				<p>DeletePeerData removes data associated with a given peer.
Important: it is assumed that store mutex is locked when calling this method.

				
				
				
			
				
				<h3 id="Store.PeerData">func (*Store) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=2564:2619#L70">PeerData</a>
					<a class="permalink" href="index.html#Store.PeerData">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Store">Store</a>) PeerData(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) (*<a href="index.html#PeerData">PeerData</a>, <a href="../../../../../../../builtin/index.html#bool">bool</a>)</pre>
				<p>PeerData returns data associated with a given peer, if any.
Important: it is assumed that store mutex is locked when calling this method.

				
				
				
			
				
				<h3 id="Store.PeerDataGetOrCreate">func (*Store) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=2916:2974#L78">PeerDataGetOrCreate</a>
					<a class="permalink" href="index.html#Store.PeerDataGetOrCreate">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Store">Store</a>) PeerDataGetOrCreate(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) *<a href="index.html#PeerData">PeerData</a></pre>
				<p>PeerDataGetOrCreate returns data associated with a given peer.
If no data has been associated yet, newly created and associated data object is returned.
Important: it is assumed that store mutex is locked when calling this method.

				
				
				
			
				
				<h3 id="Store.Peers">func (*Store) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=3648:3693#L100">Peers</a>
					<a class="permalink" href="index.html#Store.Peers">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Store">Store</a>) Peers() map[<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>]*<a href="index.html#PeerData">PeerData</a></pre>
				<p>Peers returns map of peer data objects.
Important: it is assumed that store mutex is locked when calling this method.

				
				
				
			
				
				<h3 id="Store.SetPeerData">func (*Store) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=3228:3284#L88">SetPeerData</a>
					<a class="permalink" href="index.html#Store.SetPeerData">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Store">Store</a>) SetPeerData(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, data *<a href="index.html#PeerData">PeerData</a>)</pre>
				<p>SetPeerData updates data associated with a given peer.
Important: it is assumed that store mutex is locked when calling this method.

				
				
				
			
		
			
			
			<h2 id="StoreConfig">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/peerdata/store.go?s=969:1010#L20">StoreConfig</a>
				<a class="permalink" href="index.html#StoreConfig">&#xb6;</a>
				
				
			</h2>
			<p>StoreConfig holds peer store parameters.

			<pre>type StoreConfig struct {
<span id="StoreConfig.MaxPeers"></span>    MaxPeers <a href="../../../../../../../builtin/index.html#int">int</a>
}
</pre>

			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
