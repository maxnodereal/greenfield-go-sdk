<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>scorers - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package scorers
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
			
			
				
				<dd><a href="index.html#BadResponsesScorer">type BadResponsesScorer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.BadPeers">func (s *BadResponsesScorer) BadPeers() []peer.ID</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.Count">func (s *BadResponsesScorer) Count(pid peer.ID) (int, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.Decay">func (s *BadResponsesScorer) Decay()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.Increment">func (s *BadResponsesScorer) Increment(pid peer.ID)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.IsBadPeer">func (s *BadResponsesScorer) IsBadPeer(pid peer.ID) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.Params">func (s *BadResponsesScorer) Params() *BadResponsesScorerConfig</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BadResponsesScorer.Score">func (s *BadResponsesScorer) Score(pid peer.ID) float64</a></dd>
				
			
				
				<dd><a href="index.html#BadResponsesScorerConfig">type BadResponsesScorerConfig</a></dd>
				
				
			
				
				<dd><a href="index.html#BlockProviderScorer">type BlockProviderScorer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.BadPeers">func (_ *BlockProviderScorer) BadPeers() []peer.ID</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.Decay">func (s *BlockProviderScorer) Decay()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.FormatScorePretty">func (s *BlockProviderScorer) FormatScorePretty(pid peer.ID) string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.IncrementProcessedBlocks">func (s *BlockProviderScorer) IncrementProcessedBlocks(pid peer.ID, cnt uint64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.IsBadPeer">func (_ *BlockProviderScorer) IsBadPeer(_ peer.ID) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.MaxScore">func (s *BlockProviderScorer) MaxScore() float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.Params">func (s *BlockProviderScorer) Params() *BlockProviderScorerConfig</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.ProcessedBlocks">func (s *BlockProviderScorer) ProcessedBlocks(pid peer.ID) uint64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.Score">func (s *BlockProviderScorer) Score(pid peer.ID) float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.Sorted">func (s *BlockProviderScorer) Sorted(pids []peer.ID, scoreFn func(pid peer.ID, score float64) float64) []peer.ID</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.Touch">func (s *BlockProviderScorer) Touch(pid peer.ID, t ...time.Time)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BlockProviderScorer.WeightSorted">func (s *BlockProviderScorer) WeightSorted(r *rand.Rand, pids []peer.ID, scoreFn func(pid peer.ID, score float64) float64) []peer.ID</a></dd>
				
			
				
				<dd><a href="index.html#BlockProviderScorerConfig">type BlockProviderScorerConfig</a></dd>
				
				
			
				
				<dd><a href="index.html#Config">type Config</a></dd>
				
				
			
				
				<dd><a href="index.html#GossipScorer">type GossipScorer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GossipScorer.BadPeers">func (s *GossipScorer) BadPeers() []peer.ID</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GossipScorer.GossipData">func (s *GossipScorer) GossipData(pid peer.ID) (float64, float64, map[string]*pbrpc.TopicScoreSnapshot, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GossipScorer.IsBadPeer">func (s *GossipScorer) IsBadPeer(pid peer.ID) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GossipScorer.Score">func (s *GossipScorer) Score(pid peer.ID) float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GossipScorer.SetGossipData">func (s *GossipScorer) SetGossipData(pid peer.ID, gScore float64, bPenalty float64, topicScores map[string]*pbrpc.TopicScoreSnapshot)</a></dd>
				
			
				
				<dd><a href="index.html#GossipScorerConfig">type GossipScorerConfig</a></dd>
				
				
			
				
				<dd><a href="index.html#PeerStatusScorer">type PeerStatusScorer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeerStatusScorer.BadPeers">func (s *PeerStatusScorer) BadPeers() []peer.ID</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeerStatusScorer.IsBadPeer">func (s *PeerStatusScorer) IsBadPeer(pid peer.ID) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeerStatusScorer.PeerStatus">func (s *PeerStatusScorer) PeerStatus(pid peer.ID) (*pb.Status, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeerStatusScorer.Score">func (s *PeerStatusScorer) Score(pid peer.ID) float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeerStatusScorer.SetHeadSlot">func (s *PeerStatusScorer) SetHeadSlot(slot types.Slot)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeerStatusScorer.SetPeerStatus">func (s *PeerStatusScorer) SetPeerStatus(pid peer.ID, chainState *pb.Status, validationError error)</a></dd>
				
			
				
				<dd><a href="index.html#PeerStatusScorerConfig">type PeerStatusScorerConfig</a></dd>
				
				
			
				
				<dd><a href="index.html#Scorer">type Scorer</a></dd>
				
				
			
				
				<dd><a href="index.html#Service">type Service</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewService">func NewService(ctx context.Context, store *peerdata.Store, config *Config) *Service</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.ActiveScorersCount">func (s *Service) ActiveScorersCount() int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.BadPeers">func (s *Service) BadPeers() []peer.ID</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.BadResponsesScorer">func (s *Service) BadResponsesScorer() *BadResponsesScorer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.BlockProviderScorer">func (s *Service) BlockProviderScorer() *BlockProviderScorer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.GossipScorer">func (s *Service) GossipScorer() *GossipScorer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.IsBadPeer">func (s *Service) IsBadPeer(pid peer.ID) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.IsBadPeerNoLock">func (s *Service) IsBadPeerNoLock(pid peer.ID) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.PeerStatusScorer">func (s *Service) PeerStatusScorer() *PeerStatusScorer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.Score">func (s *Service) Score(pid peer.ID) float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.ScoreNoLock">func (s *Service) ScoreNoLock(pid peer.ID) float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Service.ValidationError">func (s *Service) ValidationError(pid peer.ID) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go">bad_responses.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go">block_providers.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go">gossip_scorer.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go">peer_status.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go">service.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span class="comment">// DefaultBadResponsesThreshold defines how many bad responses to tolerate before peer is deemed bad.</span>
    <span id="DefaultBadResponsesThreshold">DefaultBadResponsesThreshold</span> = 6
    <span class="comment">// DefaultBadResponsesDecayInterval defines how often to decay previous statistics.</span>
    <span class="comment">// Every interval bad responses counter will be decremented by 1.</span>
    <span id="DefaultBadResponsesDecayInterval">DefaultBadResponsesDecayInterval</span> = <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Hour">Hour</a>
    <span class="comment">// DefaultBadResponsesPenaltyFactor defines the penalty factor applied to a peer based on their bad</span>
    <span class="comment">// response count.</span>
    <span id="DefaultBadResponsesPenaltyFactor">DefaultBadResponsesPenaltyFactor</span> = 10
)</pre>
			
				
				<pre>const (
    <span class="comment">// DefaultBlockProviderProcessedBatchWeight is a default reward weight of a processed batch of blocks.</span>
    <span id="DefaultBlockProviderProcessedBatchWeight">DefaultBlockProviderProcessedBatchWeight</span> = <a href="../../../../../../../builtin/index.html#float64">float64</a>(0.1)
    <span class="comment">// DefaultBlockProviderProcessedBlocksCap defines default value for processed blocks cap.</span>
    <span class="comment">// e.g. 20 * 64 := 20 batches of size 64 (with 0.05 per batch reward, 20 batches result in score of 1.0).</span>
    <span id="DefaultBlockProviderProcessedBlocksCap">DefaultBlockProviderProcessedBlocksCap</span> = <a href="../../../../../../../builtin/index.html#uint64">uint64</a>(10 * 64)
    <span class="comment">// DefaultBlockProviderDecayInterval defines how often the decaying routine is called.</span>
    <span id="DefaultBlockProviderDecayInterval">DefaultBlockProviderDecayInterval</span> = 30 * <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Second">Second</a>
    <span class="comment">// DefaultBlockProviderDecay defines default blocks that are to be subtracted from stats on each</span>
    <span class="comment">// decay interval. Effectively, this param provides minimum expected performance for a peer to remain</span>
    <span class="comment">// high scorer.</span>
    <span id="DefaultBlockProviderDecay">DefaultBlockProviderDecay</span> = <a href="../../../../../../../builtin/index.html#uint64">uint64</a>(1 * 64)
    <span class="comment">// DefaultBlockProviderStalePeerRefreshInterval defines default interval at which peers should be given</span>
    <span class="comment">// opportunity to provide blocks (their score gets boosted, up until they are selected for</span>
    <span class="comment">// fetching).</span>
    <span id="DefaultBlockProviderStalePeerRefreshInterval">DefaultBlockProviderStalePeerRefreshInterval</span> = 5 * <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Minute">Minute</a>
)</pre>
			
				<p>BadPeerScore defines score that is returned for a bad peer (all other metrics are ignored).
The bad peer score was decided to be based on our determined gossip threshold, so that
all the other scoring services have their relevant penalties on similar scales.

				<pre>const <span id="BadPeerScore">BadPeerScore</span> = gossipThreshold</pre>
			
				<p>ScoreRoundingFactor defines how many digits to keep in decimal part.
This parameter is used in math.Round(score*ScoreRoundingFactor) / ScoreRoundingFactor.

				<pre>const <span id="ScoreRoundingFactor">ScoreRoundingFactor</span> = 10000</pre>
			
		
		
		
		
			
			
			<h2 id="BadResponsesScorer">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=758:850#L14">BadResponsesScorer</a>
				<a class="permalink" href="index.html#BadResponsesScorer">&#xb6;</a>
				
				
			</h2>
			<p>BadResponsesScorer represents bad responses scoring service.

			<pre>type BadResponsesScorer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="BadResponsesScorer.BadPeers">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=3951:4000#L124">BadPeers</a>
					<a class="permalink" href="index.html#BadResponsesScorer.BadPeers">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) BadPeers() []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>BadPeers returns the peers that are considered bad.

				
				
				
			
				
				<h3 id="BadResponsesScorer.Count">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=2606:2666#L77">Count</a>
					<a class="permalink" href="index.html#BadResponsesScorer.Count">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) Count(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) (<a href="../../../../../../../builtin/index.html#int">int</a>, <a href="../../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Count obtains the number of bad responses we have received from the given remote peer.

				
				
				
			
				
				<h3 id="BadResponsesScorer.Decay">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=4539:4575#L140">Decay</a>
					<a class="permalink" href="index.html#BadResponsesScorer.Decay">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) Decay()</pre>
				<p>Decay reduces the bad responses of all peers, giving reformed peers a chance to join the network.
This can be run periodically, although note that each time it runs it does give all bad peers another chance as well
to clog up the network with bad responses, so should not be run too frequently; once an hour would be reasonable.

				
				
				
			
				
				<h3 id="BadResponsesScorer.Increment">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=3110:3161#L93">Increment</a>
					<a class="permalink" href="index.html#BadResponsesScorer.Increment">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) Increment(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>)</pre>
				<p>Increment increments the number of bad responses we have received from the given remote peer.
If peer doesn&apos;t exist this method is no-op.

				
				
				
			
				
				<h3 id="BadResponsesScorer.IsBadPeer">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=3539:3595#L109">IsBadPeer</a>
					<a class="permalink" href="index.html#BadResponsesScorer.IsBadPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) IsBadPeer(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsBadPeer states if the peer is to be considered bad.
If the peer is unknown this will return `false`, which makes using this function easier than returning an error.

				
				
				
			
				
				<h3 id="BadResponsesScorer.Params">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=2430:2493#L72">Params</a>
					<a class="permalink" href="index.html#BadResponsesScorer.Params">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) Params() *<a href="index.html#BadResponsesScorerConfig">BadResponsesScorerConfig</a></pre>
				<p>Params exposes scorer&apos;s parameters.

				
				
				
			
				
				<h3 id="BadResponsesScorer.Score">func (*BadResponsesScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=1780:1835#L46">Score</a>
					<a class="permalink" href="index.html#BadResponsesScorer.Score">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a>) Score(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>Score returns score (penalty) of bad responses peer produced.

				
				
				
			
		
			
			
			<h2 id="BadResponsesScorerConfig">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/bad_responses.go?s=945:1187#L20">BadResponsesScorerConfig</a>
				<a class="permalink" href="index.html#BadResponsesScorerConfig">&#xb6;</a>
				
				
			</h2>
			<p>BadResponsesScorerConfig holds configuration parameters for bad response scoring service.

			<pre>type BadResponsesScorerConfig struct {
<span id="BadResponsesScorerConfig.Threshold"></span>    <span class="comment">// Threshold specifies number of bad responses tolerated, before peer is banned.</span>
    Threshold <a href="../../../../../../../builtin/index.html#int">int</a>
<span id="BadResponsesScorerConfig.DecayInterval"></span>    <span class="comment">// DecayInterval specifies how often bad response stats should be decayed.</span>
    DecayInterval <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Duration">Duration</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="BlockProviderScorer">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=1588:1872#L28">BlockProviderScorer</a>
				<a class="permalink" href="index.html#BlockProviderScorer">&#xb6;</a>
				
				
			</h2>
			<p>BlockProviderScorer represents block provider scoring service.

			<pre>type BlockProviderScorer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="BlockProviderScorer.BadPeers">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=7073:7123#L177">BadPeers</a>
					<a class="permalink" href="index.html#BlockProviderScorer.BadPeers">&#xb6;</a>
					
					
				</h3>
				<pre>func (_ *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) BadPeers() []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>BadPeers returns the peers that are considered bad.
No peers are considered bad by block providers scorer.

				
				
				
			
				
				<h3 id="BlockProviderScorer.Decay">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=7355:7392#L184">Decay</a>
					<a class="permalink" href="index.html#BlockProviderScorer.Decay">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) Decay()</pre>
				<p>Decay updates block provider counters by decaying them.
This urges peers to keep up the performance to continue getting a high score (and allows
new peers to contest previously high scoring ones).

				
				
				
			
				
				<h3 id="BlockProviderScorer.FormatScorePretty">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=10046:10113#L281">FormatScorePretty</a>
					<a class="permalink" href="index.html#BlockProviderScorer.FormatScorePretty">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) FormatScorePretty(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#string">string</a></pre>
				<p>FormatScorePretty returns full scoring information in a human-readable format.

				
				
				
			
				
				<h3 id="BlockProviderScorer.IncrementProcessedBlocks">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=5137:5216#L117">IncrementProcessedBlocks</a>
					<a class="permalink" href="index.html#BlockProviderScorer.IncrementProcessedBlocks">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) IncrementProcessedBlocks(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, cnt <a href="../../../../../../../builtin/index.html#uint64">uint64</a>)</pre>
				<p>IncrementProcessedBlocks increments the number of blocks that have been successfully processed.

				
				
				
			
				
				<h3 id="BlockProviderScorer.IsBadPeer">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=6885:6940#L171">IsBadPeer</a>
					<a class="permalink" href="index.html#BlockProviderScorer.IsBadPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (_ *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) IsBadPeer(_ <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsBadPeer states if the peer is to be considered bad.
Block provider scorer cannot guarantee that lower score of a peer is indeed a sign of a bad peer.
Therefore this scorer never marks peers as bad, and relies on scores to probabilistically sort
out low-scorers (see WeightSorted method).

				
				
				
			
				
				<h3 id="BlockProviderScorer.MaxScore">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=10450:10498#L293">MaxScore</a>
					<a class="permalink" href="index.html#BlockProviderScorer.MaxScore">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) MaxScore() <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>MaxScore exposes maximum score attainable by peers.

				
				
				
			
				
				<h3 id="BlockProviderScorer.Params">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=4950:5015#L112">Params</a>
					<a class="permalink" href="index.html#BlockProviderScorer.Params">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) Params() *<a href="index.html#BlockProviderScorerConfig">BlockProviderScorerConfig</a></pre>
				<p>Params exposes scorer&apos;s parameters.

				
				
				
			
				
				<h3 id="BlockProviderScorer.ProcessedBlocks">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=6211:6276#L153">ProcessedBlocks</a>
					<a class="permalink" href="index.html#BlockProviderScorer.ProcessedBlocks">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) ProcessedBlocks(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#uint64">uint64</a></pre>
				<p>ProcessedBlocks returns number of peer returned blocks that are successfully processed.

				
				
				
			
				
				<h3 id="BlockProviderScorer.Score">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=4167:4223#L89">Score</a>
					<a class="permalink" href="index.html#BlockProviderScorer.Score">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) Score(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>Score calculates and returns block provider score.

				
				
				
			
				
				<h3 id="BlockProviderScorer.Sorted">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=9051:9167#L246">Sorted</a>
					<a class="permalink" href="index.html#BlockProviderScorer.Sorted">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) Sorted(
    pids []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, scoreFn func(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, score <a href="../../../../../../../builtin/index.html#float64">float64</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a>,
) []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>Sorted returns a list of block providers sorted by score in descending order.
When custom scorer function is provided, items are returned in order provided by it.

				
				
				
			
				
				<h3 id="BlockProviderScorer.Touch">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=5712:5776#L136">Touch</a>
					<a class="permalink" href="index.html#BlockProviderScorer.Touch">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) Touch(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, t ...<a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Time">Time</a>)</pre>
				<p>Touch updates last access time for a given peer. This allows to detect peers that are
stale and boost their scores to increase chances in block fetching participation.

				
				
				
			
				
				<h3 id="BlockProviderScorer.WeightSorted">func (*BlockProviderScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=7812:7948#L199">WeightSorted</a>
					<a class="permalink" href="index.html#BlockProviderScorer.WeightSorted">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a>) WeightSorted(
    r *<a href="../../../../crypto/rand/index.html">rand</a>.<a href="../../../../crypto/rand/index.html#Rand">Rand</a>, pids []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, scoreFn func(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, score <a href="../../../../../../../builtin/index.html#float64">float64</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a>,
) []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>WeightSorted returns a list of block providers weight sorted by score, where items are selected
probabilistically with more &quot;heavy&quot; items having a higher chance of being picked.

				
				
				
			
		
			
			
			<h2 id="BlockProviderScorerConfig">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/block_providers.go?s=1971:2877#L37">BlockProviderScorerConfig</a>
				<a class="permalink" href="index.html#BlockProviderScorerConfig">&#xb6;</a>
				
				
			</h2>
			<p>BlockProviderScorerConfig holds configuration parameters for block providers scoring service.

			<pre>type BlockProviderScorerConfig struct {
<span id="BlockProviderScorerConfig.ProcessedBatchWeight"></span>    <span class="comment">// ProcessedBatchWeight defines a reward for a single processed batch of blocks.</span>
    ProcessedBatchWeight <a href="../../../../../../../builtin/index.html#float64">float64</a>
<span id="BlockProviderScorerConfig.ProcessedBlocksCap"></span>    <span class="comment">// ProcessedBlocksCap defines the highest number of processed blocks that are counted towards peer&#39;s score.</span>
    <span class="comment">// Once that cap is attained, peer is considered good to fetch from (and several peers having the</span>
    <span class="comment">// same score, are picked at random). To stay at max score, peer must continue to perform, as</span>
    <span class="comment">// stats decays quickly.</span>
    ProcessedBlocksCap <a href="../../../../../../../builtin/index.html#uint64">uint64</a>
<span id="BlockProviderScorerConfig.DecayInterval"></span>    <span class="comment">// DecayInterval defines how often stats should be decayed.</span>
    DecayInterval <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Duration">Duration</a>
<span id="BlockProviderScorerConfig.Decay"></span>    <span class="comment">// Decay specifies number of blocks subtracted from stats on each decay step.</span>
    Decay <a href="../../../../../../../builtin/index.html#uint64">uint64</a>
<span id="BlockProviderScorerConfig.StalePeerRefreshInterval"></span>    <span class="comment">// StalePeerRefreshInterval is an interval at which peers should be given an opportunity</span>
    <span class="comment">// to provide blocks (scores are boosted to max up until such peers are selected).</span>
    StalePeerRefreshInterval <a href="../../../../../../../time/index.html">time</a>.<a href="../../../../../../../time/index.html#Duration">Duration</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Config">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=1353:1580#L35">Config</a>
				<a class="permalink" href="index.html#Config">&#xb6;</a>
				
				
			</h2>
			<p>Config holds configuration parameters for scoring service.

			<pre>type Config struct {
<span id="Config.BadResponsesScorerConfig"></span>    BadResponsesScorerConfig  *<a href="index.html#BadResponsesScorerConfig">BadResponsesScorerConfig</a>
<span id="Config.BlockProviderScorerConfig"></span>    BlockProviderScorerConfig *<a href="index.html#BlockProviderScorerConfig">BlockProviderScorerConfig</a>
<span id="Config.PeerStatusScorerConfig"></span>    PeerStatusScorerConfig    *<a href="index.html#PeerStatusScorerConfig">PeerStatusScorerConfig</a>
<span id="Config.GossipScorerConfig"></span>    GossipScorerConfig        *<a href="index.html#GossipScorerConfig">GossipScorerConfig</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="GossipScorer">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=516:596#L8">GossipScorer</a>
				<a class="permalink" href="index.html#GossipScorer">&#xb6;</a>
				
				
			</h2>
			<p>GossipScorer represents scorer that evaluates peers based on their gossip performance.
Gossip scoring metrics are periodically calculated in libp2p&apos;s internal pubsub module.

			<pre>type GossipScorer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="GossipScorer.BadPeers">func (*GossipScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=1776:1819#L60">BadPeers</a>
					<a class="permalink" href="index.html#GossipScorer.BadPeers">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GossipScorer">GossipScorer</a>) BadPeers() []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>BadPeers returns the peers that are considered bad.

				
				
				
			
				
				<h3 id="GossipScorer.GossipData">func (*GossipScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=2600:2710#L88">GossipData</a>
					<a class="permalink" href="index.html#GossipScorer.GossipData">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GossipScorer">GossipScorer</a>) GossipData(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) (<a href="../../../../../../../builtin/index.html#float64">float64</a>, <a href="../../../../../../../builtin/index.html#float64">float64</a>, map[<a href="../../../../../../../builtin/index.html#string">string</a>]*<a href="../../../../proto/prysm/v1alpha1/index.html">pbrpc</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#TopicScoreSnapshot">TopicScoreSnapshot</a>, <a href="../../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>GossipData gets the gossip related information of the given remote peer.
This can return nil if there is no known gossip record the peer.
This will error if the peer does not exist.

				
				
				
			
				
				<h3 id="GossipScorer.IsBadPeer">func (*GossipScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=1380:1430#L44">IsBadPeer</a>
					<a class="permalink" href="index.html#GossipScorer.IsBadPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GossipScorer">GossipScorer</a>) IsBadPeer(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsBadPeer states if the peer is to be considered bad.

				
				
				
			
				
				<h3 id="GossipScorer.Score">func (*GossipScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=1016:1065#L28">Score</a>
					<a class="permalink" href="index.html#GossipScorer.Score">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GossipScorer">GossipScorer</a>) Score(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>Score returns calculated peer score.

				
				
				
			
				
				<h3 id="GossipScorer.SetGossipData">func (*GossipScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=2077:2211#L74">SetGossipData</a>
					<a class="permalink" href="index.html#GossipScorer.SetGossipData">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#GossipScorer">GossipScorer</a>) SetGossipData(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, gScore <a href="../../../../../../../builtin/index.html#float64">float64</a>,
    bPenalty <a href="../../../../../../../builtin/index.html#float64">float64</a>, topicScores map[<a href="../../../../../../../builtin/index.html#string">string</a>]*<a href="../../../../proto/prysm/v1alpha1/index.html">pbrpc</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#TopicScoreSnapshot">TopicScoreSnapshot</a>)</pre>
				<p>SetGossipData sets the gossip related data of a peer.

				
				
				
			
		
			
			
			<h2 id="GossipScorerConfig">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/gossip_scorer.go?s=679:711#L14">GossipScorerConfig</a>
				<a class="permalink" href="index.html#GossipScorerConfig">&#xb6;</a>
				
				
			</h2>
			<p>GossipScorerConfig holds configuration parameters for gossip scoring service.

			<pre>type GossipScorerConfig struct{}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PeerStatusScorer">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=570:748#L9">PeerStatusScorer</a>
				<a class="permalink" href="index.html#PeerStatusScorer">&#xb6;</a>
				
				
			</h2>
			<p>PeerStatusScorer represents scorer that evaluates peers based on their statuses.
Peer statuses are updated by regularly polling peers (see sync/rpc_status.go).

			<pre>type PeerStatusScorer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="PeerStatusScorer.BadPeers">func (*PeerStatusScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=2774:2821#L87">BadPeers</a>
					<a class="permalink" href="index.html#PeerStatusScorer.BadPeers">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a>) BadPeers() []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>BadPeers returns the peers that are considered bad.

				
				
				
			
				
				<h3 id="PeerStatusScorer.IsBadPeer">func (*PeerStatusScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=2083:2137#L60">IsBadPeer</a>
					<a class="permalink" href="index.html#PeerStatusScorer.IsBadPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a>) IsBadPeer(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsBadPeer states if the peer is to be considered bad.

				
				
				
			
				
				<h3 id="PeerStatusScorer.PeerStatus">func (*PeerStatusScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=3802:3872#L119">PeerStatus</a>
					<a class="permalink" href="index.html#PeerStatusScorer.PeerStatus">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a>) PeerStatus(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) (*<a href="../../../../proto/prysm/v1alpha1/index.html">pb</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#Status">Status</a>, <a href="../../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>PeerStatus gets the chain state of the given remote peer.
This can return nil if there is no known chain state for the peer.
This will error if the peer does not exist.

				
				
				
			
				
				<h3 id="PeerStatusScorer.Score">func (*PeerStatusScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=1210:1263#L31">Score</a>
					<a class="permalink" href="index.html#PeerStatusScorer.Score">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a>) Score(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>Score returns calculated peer score.

				
				
				
			
				
				<h3 id="PeerStatusScorer.SetHeadSlot">func (*PeerStatusScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=4309:4364#L137">SetHeadSlot</a>
					<a class="permalink" href="index.html#PeerStatusScorer.SetHeadSlot">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a>) SetHeadSlot(slot <a href="../../../../../eth2-types/index.html">types</a>.<a href="../../../../../eth2-types/index.html#Slot">Slot</a>)</pre>
				<p>SetHeadSlot updates known head slot.

				
				
				
			
				
				<h3 id="PeerStatusScorer.SetPeerStatus">func (*PeerStatusScorer) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=3079:3178#L101">SetPeerStatus</a>
					<a class="permalink" href="index.html#PeerStatusScorer.SetPeerStatus">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a>) SetPeerStatus(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>, chainState *<a href="../../../../proto/prysm/v1alpha1/index.html">pb</a>.<a href="../../../../proto/prysm/v1alpha1/index.html#Status">Status</a>, validationError <a href="../../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>SetPeerStatus sets chain state data for a given peer.

				
				
				
			
		
			
			
			<h2 id="PeerStatusScorerConfig">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/peer_status.go?s=840:876#L17">PeerStatusScorerConfig</a>
				<a class="permalink" href="index.html#PeerStatusScorerConfig">&#xb6;</a>
				
				
			</h2>
			<p>PeerStatusScorerConfig holds configuration parameters for peer status scoring service.

			<pre>type PeerStatusScorerConfig struct{}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Scorer">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=821:925#L15">Scorer</a>
				<a class="permalink" href="index.html#Scorer">&#xb6;</a>
				
				
			</h2>
			<p>Scorer defines minimum set of methods every peer scorer must expose.

			<pre>type Scorer interface {
    Score(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a>
    IsBadPeer(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a>
    BadPeers() []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Service">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=1006:1289#L22">Service</a>
				<a class="permalink" href="index.html#Service">&#xb6;</a>
				
				
			</h2>
			<p>Service manages peer scorers that are used to calculate overall peer score.

			<pre>type Service struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewService">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=1645:1729#L43">NewService</a>
					<a class="permalink" href="index.html#NewService">&#xb6;</a>
					
					
				</h3>
				<pre>func NewService(ctx <a href="../../../../../../../context/index.html">context</a>.<a href="../../../../../../../context/index.html#Context">Context</a>, store *<a href="../peerdata/index.html">peerdata</a>.<a href="../peerdata/index.html#Store">Store</a>, config *<a href="index.html#Config">Config</a>) *<a href="index.html#Service">Service</a></pre>
				<p>NewService provides fully initialized peer scoring service.

				
				
			

			
				
				<h3 id="Service.ActiveScorersCount">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=3175:3217#L86">ActiveScorersCount</a>
					<a class="permalink" href="index.html#Service.ActiveScorersCount">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) ActiveScorersCount() <a href="../../../../../../../builtin/index.html#int">int</a></pre>
				<p>ActiveScorersCount returns number of scorers that can affect score (have non-zero weight).

				
				
				
			
				
				<h3 id="Service.BadPeers">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=4771:4809#L140">BadPeers</a>
					<a class="permalink" href="index.html#Service.BadPeers">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) BadPeers() []<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a></pre>
				<p>BadPeers returns the peers that are considered bad by any of registered scorers.

				
				
				
			
				
				<h3 id="Service.BadResponsesScorer">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=2513:2571#L66">BadResponsesScorer</a>
					<a class="permalink" href="index.html#Service.BadResponsesScorer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) BadResponsesScorer() *<a href="index.html#BadResponsesScorer">BadResponsesScorer</a></pre>
				<p>BadResponsesScorer exposes bad responses scoring service.

				
				
				
			
				
				<h3 id="Service.BlockProviderScorer">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=2677:2737#L71">BlockProviderScorer</a>
					<a class="permalink" href="index.html#Service.BlockProviderScorer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) BlockProviderScorer() *<a href="index.html#BlockProviderScorer">BlockProviderScorer</a></pre>
				<p>BlockProviderScorer exposes block provider scoring service.

				
				
				
			
				
				<h3 id="Service.GossipScorer">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=2998:3044#L81">GossipScorer</a>
					<a class="permalink" href="index.html#Service.GossipScorer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) GossipScorer() *<a href="index.html#GossipScorer">GossipScorer</a></pre>
				<p>GossipScorer exposes the peer&apos;s gossip scoring service.

				
				
				
			
				
				<h3 id="Service.IsBadPeer">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=4199:4244#L117">IsBadPeer</a>
					<a class="permalink" href="index.html#Service.IsBadPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) IsBadPeer(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsBadPeer traverses all the scorers to see if any of them classifies peer as bad.

				
				
				
			
				
				<h3 id="Service.IsBadPeerNoLock">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=4379:4430#L124">IsBadPeerNoLock</a>
					<a class="permalink" href="index.html#Service.IsBadPeerNoLock">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) IsBadPeerNoLock(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsBadPeerNoLock is a lock-free version of IsBadPeer.

				
				
				
			
				
				<h3 id="Service.PeerStatusScorer">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=2844:2898#L76">PeerStatusScorer</a>
					<a class="permalink" href="index.html#Service.PeerStatusScorer">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) PeerStatusScorer() *<a href="index.html#PeerStatusScorer">PeerStatusScorer</a></pre>
				<p>PeerStatusScorer exposes peer chain status scoring service.

				
				
				
			
				
				<h3 id="Service.Score">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=3372:3416#L97">Score</a>
					<a class="permalink" href="index.html#Service.Score">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) Score(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>Score returns calculated peer score across all tracked metrics.

				
				
				
			
				
				<h3 id="Service.ScoreNoLock">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=3539:3589#L104">ScoreNoLock</a>
					<a class="permalink" href="index.html#Service.ScoreNoLock">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) ScoreNoLock(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>ScoreNoLock is a lock-free version of Score.

				
				
				
			
				
				<h3 id="Service.ValidationError">func (*Service) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/beacon-chain/p2p/peers/scorers/service.go?s=5146:5198#L155">ValidationError</a>
					<a class="permalink" href="index.html#Service.ValidationError">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#Service">Service</a>) ValidationError(pid <a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/">peer</a>.<a href="http://localhost:6060/pkg/github.com/libp2p/go-libp2p-core/peer/#ID">ID</a>) <a href="../../../../../../../builtin/index.html#error">error</a></pre>
				<p>ValidationError returns peer data validation error, which potentially provides more information
why peer is considered bad.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
