<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>file - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package file
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/prysmaticlabs/prysm/io/file"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#CopyDir">func CopyDir(src, dst string) error</a></dd>
			
				
				<dd><a href="index.html#CopyFile">func CopyFile(src, dst string) error</a></dd>
			
				
				<dd><a href="index.html#DirFiles">func DirFiles(dir string) ([]string, error)</a></dd>
			
				
				<dd><a href="index.html#DirsEqual">func DirsEqual(src, dst string) bool</a></dd>
			
				
				<dd><a href="index.html#ExpandPath">func ExpandPath(p string) (string, error)</a></dd>
			
				
				<dd><a href="index.html#FileExists">func FileExists(filename string) bool</a></dd>
			
				
				<dd><a href="index.html#HandleBackupDir">func HandleBackupDir(dirPath string, permissionOverride bool) error</a></dd>
			
				
				<dd><a href="index.html#HasDir">func HasDir(dirPath string) (bool, error)</a></dd>
			
				
				<dd><a href="index.html#HasReadWritePermissions">func HasReadWritePermissions(itemPath string) (bool, error)</a></dd>
			
				
				<dd><a href="index.html#HashDir">func HashDir(dir string) (string, error)</a></dd>
			
				
				<dd><a href="index.html#HomeDir">func HomeDir() string</a></dd>
			
				
				<dd><a href="index.html#MkdirAll">func MkdirAll(dirPath string) error</a></dd>
			
				
				<dd><a href="index.html#ReadFileAsBytes">func ReadFileAsBytes(filename string) ([]byte, error)</a></dd>
			
				
				<dd><a href="index.html#RecursiveFileFind">func RecursiveFileFind(filename, dir string) (bool, string, error)</a></dd>
			
				
				<dd><a href="index.html#WriteFile">func WriteFile(file string, data []byte) error</a></dd>
			
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go">fileutil.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="CopyDir">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=6235:6270#L211">CopyDir</a>
				<a class="permalink" href="index.html#CopyDir">&#xb6;</a>
				
				
			</h2>
			<pre>func CopyDir(src, dst <a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>CopyDir copies contents of one directory into another, recursively.

			
			

		
			
			
			<h2 id="CopyFile">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=5751:5787#L194">CopyFile</a>
				<a class="permalink" href="index.html#CopyFile">&#xb6;</a>
				
				
			</h2>
			<pre>func CopyFile(src, dst <a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>CopyFile copy a file from source to destination path.

			
			

		
			
			
			<h2 id="DirFiles">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=8476:8519#L292">DirFiles</a>
				<a class="permalink" href="index.html#DirFiles">&#xb6;</a>
				
				
			</h2>
			<pre>func DirFiles(dir <a href="../../../../../builtin/index.html#string">string</a>) ([]<a href="../../../../../builtin/index.html#string">string</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>DirFiles returns list of files found within a given directory and its sub-directories.
Directory prefix will not be included as a part of returned file string i.e. for a file located
in &quot;dir/foo/bar&quot; only &quot;foo/bar&quot; part will be returned.

			
			

		
			
			
			<h2 id="DirsEqual">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=7086:7122#L243">DirsEqual</a>
				<a class="permalink" href="index.html#DirsEqual">&#xb6;</a>
				
				
			</h2>
			<pre>func DirsEqual(src, dst <a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#bool">bool</a></pre>
			<p>DirsEqual checks whether two directories have the same content.

			
			

		
			
			
			<h2 id="ExpandPath">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=516:557#L16">ExpandPath</a>
				<a class="permalink" href="index.html#ExpandPath">&#xb6;</a>
				
				
			</h2>
			<pre>func ExpandPath(p <a href="../../../../../builtin/index.html#string">string</a>) (<a href="../../../../../builtin/index.html#string">string</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>ExpandPath given a string which may be a relative path.
1. replace tilde with users home dir
2. expands embedded environment variables
3. cleans the path, e.g. /a/b/../c -&gt; /a/c
Note, it has limitations, e.g. ~someuser/tmp will not be expanded

			
			

		
			
			
			<h2 id="FileExists">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=4014:4051#L137">FileExists</a>
				<a class="permalink" href="index.html#FileExists">&#xb6;</a>
				
				
			</h2>
			<pre>func FileExists(filename <a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#bool">bool</a></pre>
			<p>FileExists returns true if a file is not a directory and exists
at the specified path.

			
			

		
			
			
			<h2 id="HandleBackupDir">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=877:944#L26">HandleBackupDir</a>
				<a class="permalink" href="index.html#HandleBackupDir">&#xb6;</a>
				
				
			</h2>
			<pre>func HandleBackupDir(dirPath <a href="../../../../../builtin/index.html#string">string</a>, permissionOverride <a href="../../../../../builtin/index.html#bool">bool</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>HandleBackupDir takes an input directory path and either alters its permissions to be usable if it already exists, creates it if not

			
			

		
			
			
			<h2 id="HasDir">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=3351:3392#L110">HasDir</a>
				<a class="permalink" href="index.html#HasDir">&#xb6;</a>
				
				
			</h2>
			<pre>func HasDir(dirPath <a href="../../../../../builtin/index.html#string">string</a>) (<a href="../../../../../builtin/index.html#bool">bool</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>HasDir checks if a directory indeed exists at the specified path.

			
			

		
			
			
			<h2 id="HasReadWritePermissions">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=3711:3770#L127">HasReadWritePermissions</a>
				<a class="permalink" href="index.html#HasReadWritePermissions">&#xb6;</a>
				
				
			</h2>
			<pre>func HasReadWritePermissions(itemPath <a href="../../../../../builtin/index.html#string">string</a>) (<a href="../../../../../builtin/index.html#bool">bool</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>HasReadWritePermissions checks if file at a path has proper
0600 permissions set.

			
			

		
			
			
			<h2 id="HashDir">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=7584:7624#L260">HashDir</a>
				<a class="permalink" href="index.html#HashDir">&#xb6;</a>
				
				
			</h2>
			<pre>func HashDir(dir <a href="../../../../../builtin/index.html#string">string</a>) (<a href="../../../../../builtin/index.html#string">string</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>HashDir calculates and returns hash of directory: each file&apos;s hash is calculated and saved along
with the file name into the list, after which list is hashed to produce the final signature.
Implementation is based on <a href="https://github.com/golang/mod/blob/release-branch.go1.15/sumdb/dirhash/hash.go">https://github.com/golang/mod/blob/release-branch.go1.15/sumdb/dirhash/hash.go</a>

			
			

		
			
			
			<h2 id="HomeDir">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=3114:3135#L99">HomeDir</a>
				<a class="permalink" href="index.html#HomeDir">&#xb6;</a>
				
				
			</h2>
			<pre>func HomeDir() <a href="../../../../../builtin/index.html#string">string</a></pre>
			<p>HomeDir for a user.

			
			

		
			
			
			<h2 id="MkdirAll">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=1972:2007#L58">MkdirAll</a>
				<a class="permalink" href="index.html#MkdirAll">&#xb6;</a>
				
				
			</h2>
			<pre>func MkdirAll(dirPath <a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>MkdirAll takes in a path, expands it if necessary, and looks through the
permissions of every directory along the path, ensuring we are not attempting
to overwrite any existing permissions. Finally, creates the directory accordingly
with standardized, Prysm project permissions. This is the static-analysis enforced
method for creating a directory programmatically in Prysm.

			
			

		
			
			
			<h2 id="ReadFileAsBytes">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=5442:5495#L185">ReadFileAsBytes</a>
				<a class="permalink" href="index.html#ReadFileAsBytes">&#xb6;</a>
				
				
			</h2>
			<pre>func ReadFileAsBytes(filename <a href="../../../../../builtin/index.html#string">string</a>) ([]<a href="../../../../../builtin/index.html#byte">byte</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>ReadFileAsBytes expands a file name&apos;s absolute path and reads it as bytes from disk.

			
			

		
			
			
			<h2 id="RecursiveFileFind">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=4719:4785#L158">RecursiveFileFind</a>
				<a class="permalink" href="index.html#RecursiveFileFind">&#xb6;</a>
				
				
			</h2>
			<pre>func RecursiveFileFind(filename, dir <a href="../../../../../builtin/index.html#string">string</a>) (<a href="../../../../../builtin/index.html#bool">bool</a>, <a href="../../../../../builtin/index.html#string">string</a>, <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>RecursiveFileFind searches for file in a directory and its subdirectories.

			
			

		
			
			
			<h2 id="WriteFile">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/io/file/fileutil.go?s=2638:2684#L81">WriteFile</a>
				<a class="permalink" href="index.html#WriteFile">&#xb6;</a>
				
				
			</h2>
			<pre>func WriteFile(file <a href="../../../../../builtin/index.html#string">string</a>, data []<a href="../../../../../builtin/index.html#byte">byte</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>WriteFile is the static-analysis enforced method for writing binary data to a file
in Prysm, enforcing a single entrypoint with standardized permissions.

			
			

		
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
