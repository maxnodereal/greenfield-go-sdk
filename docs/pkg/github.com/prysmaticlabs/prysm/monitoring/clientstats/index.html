<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>clientstats - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package clientstats
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/prysmaticlabs/prysm/monitoring/clientstats"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
			
			
				
				<dd><a href="index.html#APIMessage">type APIMessage</a></dd>
				
				
			
				
				<dd><a href="index.html#BeaconNodeStats">type BeaconNodeStats</a></dd>
				
				
			
				
				<dd><a href="index.html#CommonStats">type CommonStats</a></dd>
				
				
			
				
				<dd><a href="index.html#Scraper">type Scraper</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBeaconNodeScraper">func NewBeaconNodeScraper(promExpoURL string) Scraper</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewValidatorScraper">func NewValidatorScraper(promExpoURL string) Scraper</a></dd>
				
				
			
				
				<dd><a href="index.html#Updater">type Updater</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewClientStatsHTTPPostUpdater">func NewClientStatsHTTPPostUpdater(u string) Updater</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewGenericClientStatsUpdater">func NewGenericClientStatsUpdater(w io.Writer) Updater</a></dd>
				
				
			
				
				<dd><a href="index.html#ValidatorStats">type ValidatorStats</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/interfaces.go">interfaces.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/scrapers.go">scrapers.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/types.go">types.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/updaters.go">updaters.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="ClientName">ClientName</span>            = &#34;prysm&#34;
    <span id="BeaconNodeProcessName">BeaconNodeProcessName</span> = &#34;beaconnode&#34;
    <span id="ValidatorProcessName">ValidatorProcessName</span>  = &#34;validator&#34;
    <span id="APIVersion">APIVersion</span>            = 1
)</pre>
			
		
		
		
		
			
			
			<h2 id="APIMessage">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/types.go?s=481:689#L5">APIMessage</a>
				<a class="permalink" href="index.html#APIMessage">&#xb6;</a>
				
				
			</h2>
			<p>APIMessage are common to all requests to the client-stats API
Note that there is a &quot;system&quot; type that we do not currently
support -- if we did APIMessage would be present on the system
messages as well as validator and beaconnode, whereas
CommonStats would only be part of beaconnode and validator.

			<pre>type APIMessage struct {
<span id="APIMessage.APIVersion"></span>    APIVersion  <a href="../../../../../builtin/index.html#int">int</a>    `json:&#34;version&#34;`
<span id="APIMessage.Timestamp"></span>    Timestamp   <a href="../../../../../builtin/index.html#int64">int64</a>  `json:&#34;timestamp&#34;` <span class="comment">// unix timestamp in milliseconds</span>
<span id="APIMessage.ProcessName"></span>    ProcessName <a href="../../../../../builtin/index.html#string">string</a> `json:&#34;process&#34;`   <span class="comment">// validator, beaconnode, system</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="BeaconNodeStats">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/types.go?s=2341:3380#L40">BeaconNodeStats</a>
				<a class="permalink" href="index.html#BeaconNodeStats">&#xb6;</a>
				
				
			</h2>
			<p>BeaconNodeStats embeds CommonStats and represents metrics specific to
the beacon-node process. This type is used to marshal metrics data
to the POST body sent to the metrics collcetor. To make the connection
to client-stats clear, BeaconNodeStats is also used by prometheus
collection code introduced to support client-stats.
Note that some metrics are labeled NA because they are expected
to be present with their zero-value when not supported by a client.

			<pre>type BeaconNodeStats struct {
    <span class="comment">// TODO(#8850): add support for this after slasher refactor is merged</span>
<span id="BeaconNodeStats.SlasherActive"></span>    SlasherActive              <a href="../../../../../builtin/index.html#bool">bool</a>  `json:&#34;slasher_active&#34;`
<span id="BeaconNodeStats.SyncEth1FallbackConfigured"></span>    SyncEth1FallbackConfigured <a href="../../../../../builtin/index.html#bool">bool</a>  `json:&#34;sync_eth1_fallback_configured&#34;`
<span id="BeaconNodeStats.SyncEth1FallbackConnected"></span>    SyncEth1FallbackConnected  <a href="../../../../../builtin/index.html#bool">bool</a>  `json:&#34;sync_eth1_fallback_connected&#34;`
<span id="BeaconNodeStats.SyncEth1Connected"></span>    SyncEth1Connected          <a href="../../../../../builtin/index.html#bool">bool</a>  `json:&#34;sync_eth1_connected&#34;`
<span id="BeaconNodeStats.SyncEth2Synced"></span>    SyncEth2Synced             <a href="../../../../../builtin/index.html#bool">bool</a>  `json:&#34;sync_eth2_synced&#34;`
<span id="BeaconNodeStats.DiskBeaconchainBytesTotal"></span>    DiskBeaconchainBytesTotal  <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;disk_beaconchain_bytes_total&#34;`
    <span class="comment">// N/A -- would require significant network code changes at this time</span>
<span id="BeaconNodeStats.NetworkLibp2pBytesTotalReceive"></span>    NetworkLibp2pBytesTotalReceive <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;network_libp2p_bytes_total_receive&#34;`
    <span class="comment">// N/A -- would require significant network code changes at this time</span>
<span id="BeaconNodeStats.NetworkLibp2pBytesTotalTransmit"></span>    NetworkLibp2pBytesTotalTransmit <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;network_libp2p_bytes_total_transmit&#34;`
    <span class="comment">// p2p_peer_count where label &#34;state&#34; == &#34;Connected&#34;</span>
<span id="BeaconNodeStats.NetworkPeersConnected"></span>    NetworkPeersConnected <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;network_peers_connected&#34;`
    <span class="comment">// beacon_head_slot</span>
<span id="BeaconNodeStats.SyncBeaconHeadSlot"></span>    SyncBeaconHeadSlot <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;sync_beacon_head_slot&#34;`
    <a href="index.html#CommonStats">CommonStats</a>        `json:&#34;,inline&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="CommonStats">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/types.go?s=1030:1860#L16">CommonStats</a>
				<a class="permalink" href="index.html#CommonStats">&#xb6;</a>
				
				
			</h2>
			<p>CommonStats represent generic metrics that are expected on both
beaconnode and validator metric types. This type is used for
marshaling metrics to the POST body sent to the metrics collcetor.
Note that some metrics are labeled NA because they are expected
to be present with their zero-value when not supported by a client.

			<pre>type CommonStats struct {
<span id="CommonStats.CPUProcessSecondsTotal"></span>    CPUProcessSecondsTotal <a href="../../../../../builtin/index.html#int64">int64</a>  `json:&#34;cpu_process_seconds_total&#34;`
<span id="CommonStats.MemoryProcessBytes"></span>    MemoryProcessBytes     <a href="../../../../../builtin/index.html#int64">int64</a>  `json:&#34;memory_process_bytes&#34;`
<span id="CommonStats.ClientName"></span>    ClientName             <a href="../../../../../builtin/index.html#string">string</a> `json:&#34;client_name&#34;`
<span id="CommonStats.ClientVersion"></span>    ClientVersion          <a href="../../../../../builtin/index.html#string">string</a> `json:&#34;client_version&#34;`
<span id="CommonStats.ClientBuild"></span>    ClientBuild            <a href="../../../../../builtin/index.html#int64">int64</a>  `json:&#34;client_build&#34;`
    <span class="comment">// TODO(#8849): parse the grpc connection string to determine</span>
    <span class="comment">// if multiple addresses are present</span>
<span id="CommonStats.SyncEth2FallbackConfigured"></span>    SyncEth2FallbackConfigured <a href="../../../../../builtin/index.html#bool">bool</a> `json:&#34;sync_eth2_fallback_configured&#34;`
    <span class="comment">// N/A -- when multiple addresses are provided to grpc, requests are</span>
    <span class="comment">// load-balanced between the provided endpoints.</span>
    <span class="comment">// This is different from a &#34;fallback&#34; configuration where</span>
    <span class="comment">// the second address is treated as a failover.</span>
<span id="CommonStats.SyncEth2FallbackConnected"></span>    SyncEth2FallbackConnected <a href="../../../../../builtin/index.html#bool">bool</a> `json:&#34;sync_eth2_fallback_connected&#34;`
    <a href="index.html#APIMessage">APIMessage</a>                `json:&#34;,inline&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Scraper">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/interfaces.go?s=254:309#L1">Scraper</a>
				<a class="permalink" href="index.html#Scraper">&#xb6;</a>
				
				
			</h2>
			<p>A Scraper polls the data source it has been configured with
and interprets the content to produce a client-stats process
metric. Scrapers currently exist to produce &apos;validator&apos; and
&apos;beaconnode&apos; metric types.

			<pre>type Scraper interface {
    Scrape() (<a href="../../../../../io/index.html">io</a>.<a href="../../../../../io/index.html#Reader">Reader</a>, <a href="../../../../../builtin/index.html#error">error</a>)
}</pre>

			

			

			
			
			

			
				
				<h3 id="NewBeaconNodeScraper">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/scrapers.go?s=837:890#L29">NewBeaconNodeScraper</a>
					<a class="permalink" href="index.html#NewBeaconNodeScraper">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBeaconNodeScraper(promExpoURL <a href="../../../../../builtin/index.html#string">string</a>) <a href="index.html#Scraper">Scraper</a></pre>
				<p>NewBeaconNodeScraper constructs a Scaper capable of scraping
the prometheus endpoint of a beacon-node process and producing
the json body for the beaconnode client-stats process type.

				
				
			
				
				<h3 id="NewValidatorScraper">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/scrapers.go?s=1498:1550#L56">NewValidatorScraper</a>
					<a class="permalink" href="index.html#NewValidatorScraper">&#xb6;</a>
					
					
				</h3>
				<pre>func NewValidatorScraper(promExpoURL <a href="../../../../../builtin/index.html#string">string</a>) <a href="index.html#Scraper">Scraper</a></pre>
				<p>NewValidatorScraper constructs a Scaper capable of scraping
the prometheus endpoint of a validator process and producing
the json body for the validator client-stats process type.

				
				
			

			
		
			
			
			<h2 id="Updater">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/interfaces.go?s=530:581#L7">Updater</a>
				<a class="permalink" href="index.html#Updater">&#xb6;</a>
				
				
			</h2>
			<p>An Updater can take the io.Reader created by Scraper and
send it to a data sink for consumption. An Updater is used
for instance ot send the scraped data for a beacon-node to
a remote client-stats endpoint.

			<pre>type Updater interface {
    Update(<a href="../../../../../io/index.html">io</a>.<a href="../../../../../io/index.html#Reader">Reader</a>) <a href="../../../../../builtin/index.html#error">error</a>
}</pre>

			

			

			
			
			

			
				
				<h3 id="NewClientStatsHTTPPostUpdater">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/updaters.go?s=1268:1320#L46">NewClientStatsHTTPPostUpdater</a>
					<a class="permalink" href="index.html#NewClientStatsHTTPPostUpdater">&#xb6;</a>
					
					
				</h3>
				<pre>func NewClientStatsHTTPPostUpdater(u <a href="../../../../../builtin/index.html#string">string</a>) <a href="index.html#Updater">Updater</a></pre>
				<p>NewClientStatsHTTPPostUpdater is used when the update endpoint
is reachable via an HTTP POST request.

				
				
			
				
				<h3 id="NewGenericClientStatsUpdater">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/updaters.go?s=420:474#L13">NewGenericClientStatsUpdater</a>
					<a class="permalink" href="index.html#NewGenericClientStatsUpdater">&#xb6;</a>
					
					
				</h3>
				<pre>func NewGenericClientStatsUpdater(w <a href="../../../../../io/index.html">io</a>.<a href="../../../../../io/index.html#Writer">Writer</a>) <a href="index.html#Updater">Updater</a></pre>
				<p>NewGenericClientStatsUpdater can Update any io.Writer.
It is used by the cli to write to stdout when an http endpoint
is not provided. The output could be piped into another program
or used for debugging.

				
				
			

			
		
			
			
			<h2 id="ValidatorStats">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/monitoring/clientstats/types.go?s=3711:4055#L64">ValidatorStats</a>
				<a class="permalink" href="index.html#ValidatorStats">&#xb6;</a>
				
				
			</h2>
			<p>ValidatorStats embeds CommonStats and represents metrics specific to
the validator process. This type is used to marshal metrics data
to the POST body sent to the metrics collcetor.
Note that some metrics are labeled NA because they are expected
to be present with their zero-value when not supported by a client.

			<pre>type ValidatorStats struct {
    <span class="comment">// N/A -- TODO(#8848): verify whether we can obtain this metric from the validator process</span>
<span id="ValidatorStats.ValidatorTotal"></span>    ValidatorTotal <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;validator_total&#34;`
    <span class="comment">// N/A -- TODO(#8848): verify whether we can obtain this metric from the validator process</span>
<span id="ValidatorStats.ValidatorActive"></span>    ValidatorActive <a href="../../../../../builtin/index.html#int64">int64</a> `json:&#34;validator_active&#34;`
    <a href="index.html#CommonStats">CommonStats</a>     `json:&#34;,inline&#34;`
}
</pre>

			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
