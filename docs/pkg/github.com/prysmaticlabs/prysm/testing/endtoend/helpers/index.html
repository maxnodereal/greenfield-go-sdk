<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>helpers - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package helpers
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/prysmaticlabs/prysm/testing/endtoend/helpers"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package helpers defines helper functions to peer into
end to end processes and kill processes as needed.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#ComponentsStarted">func ComponentsStarted(ctx context.Context, comps []e2etypes.ComponentRunner) error</a></dd>
			
				
				<dd><a href="index.html#DeleteAndCreateFile">func DeleteAndCreateFile(tmpPath, fileName string) (*os.File, error)</a></dd>
			
				
				<dd><a href="index.html#EpochTickerStartTime">func EpochTickerStartTime(genesis *eth.Genesis) time.Time</a></dd>
			
				
				<dd><a href="index.html#GraffitiYamlFile">func GraffitiYamlFile(testDir string) (string, error)</a></dd>
			
				
				<dd><a href="index.html#LogErrorOutput">func LogErrorOutput(t *testing.T, file io.Reader, title string, index int)</a></dd>
			
				
				<dd><a href="index.html#LogOutput">func LogOutput(t *testing.T)</a></dd>
			
				
				<dd><a href="index.html#NewLocalConnection">func NewLocalConnection(ctx context.Context, port int) (*grpc.ClientConn, error)</a></dd>
			
				
				<dd><a href="index.html#NewLocalConnections">func NewLocalConnections(ctx context.Context, numConns int) ([]*grpc.ClientConn, func(), error)</a></dd>
			
				
				<dd><a href="index.html#WaitForTextInFile">func WaitForTextInFile(file *os.File, text string) error</a></dd>
			
				
				<dd><a href="index.html#WaitOnNodes">func WaitOnNodes(ctx context.Context, nodes []e2etypes.ComponentRunner, nodesStarted func()) error</a></dd>
			
				
				<dd><a href="index.html#WritePprofFiles">func WritePprofFiles(testDir string, index int) error</a></dd>
			
			
				
				<dd><a href="index.html#EpochTicker">type EpochTicker</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewEpochTicker">func NewEpochTicker(genesisTime time.Time, secondsPerEpoch uint64) *EpochTicker</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EpochTicker.C">func (s *EpochTicker) C() &lt;-chan uint64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EpochTicker.Done">func (s *EpochTicker) Done()</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/epochTimer.go">epochTimer.go</a>
			
				<a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go">helpers.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="AltairE2EForkEpoch">AltairE2EForkEpoch</span> = 6
)</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>Graffiti is a list of sample graffiti strings.

				<pre>var <span id="Graffiti">Graffiti</span> = []<a href="../../../../../../builtin/index.html#string">string</a>{&#34;Sushi&#34;, &#34;Ramen&#34;, &#34;Takoyaki&#34;}</pre>
			
		
		
			
			
			<h2 id="ComponentsStarted">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=6306:6389#L212">ComponentsStarted</a>
				<a class="permalink" href="index.html#ComponentsStarted">&#xb6;</a>
				
				
			</h2>
			<pre>func ComponentsStarted(ctx <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, comps []<a href="../types/index.html">e2etypes</a>.<a href="../types/index.html#ComponentRunner">ComponentRunner</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
			<p>ComponentsStarted checks, sequentially, each provided component, blocks until all of the components are ready.

			
			

		
			
			
			<h2 id="DeleteAndCreateFile">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=1228:1296#L34">DeleteAndCreateFile</a>
				<a class="permalink" href="index.html#DeleteAndCreateFile">&#xb6;</a>
				
				
			</h2>
			<pre>func DeleteAndCreateFile(tmpPath, fileName <a href="../../../../../../builtin/index.html#string">string</a>) (*<a href="../../../../../../os/index.html">os</a>.<a href="../../../../../../os/index.html#File">File</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
			<p>DeleteAndCreateFile checks if the file path given exists, if it does, it deletes it and creates a new file.
If not, it just creates the requested file.

			
			

		
			
			
			<h2 id="EpochTickerStartTime">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=6625:6682#L225">EpochTickerStartTime</a>
				<a class="permalink" href="index.html#EpochTickerStartTime">&#xb6;</a>
				
				
			</h2>
			<pre>func EpochTickerStartTime(genesis *<a href="../../../proto/prysm/v1alpha1/index.html">eth</a>.<a href="../../../proto/prysm/v1alpha1/index.html#Genesis">Genesis</a>) <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Time">Time</a></pre>
			<p>EpochTickerStartTime calculates the best time to start epoch ticker for a given genesis.

			
			

		
			
			
			<h2 id="GraffitiYamlFile">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=2696:2749#L87">GraffitiYamlFile</a>
				<a class="permalink" href="index.html#GraffitiYamlFile">&#xb6;</a>
				
				
			</h2>
			<pre>func GraffitiYamlFile(testDir <a href="../../../../../../builtin/index.html#string">string</a>) (<a href="../../../../../../builtin/index.html#string">string</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
			<p>GraffitiYamlFile outputs graffiti YAML file into a testing directory.

			
			

		
			
			
			<h2 id="LogErrorOutput">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=3690:3764#L122">LogErrorOutput</a>
				<a class="permalink" href="index.html#LogErrorOutput">&#xb6;</a>
				
				
			</h2>
			<pre>func LogErrorOutput(t *<a href="../../../../../../testing/index.html">testing</a>.<a href="../../../../../../testing/index.html#T">T</a>, file <a href="../../../../../../io/index.html">io</a>.<a href="../../../../../../io/index.html#Reader">Reader</a>, title <a href="../../../../../../builtin/index.html#string">string</a>, index <a href="../../../../../../builtin/index.html#int">int</a>)</pre>
			<p>LogErrorOutput logs the output of a specific file.

			
			

		
			
			
			<h2 id="LogOutput">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=3030:3058#L102">LogOutput</a>
				<a class="permalink" href="index.html#LogOutput">&#xb6;</a>
				
				
			</h2>
			<pre>func LogOutput(t *<a href="../../../../../../testing/index.html">testing</a>.<a href="../../../../../../testing/index.html#T">T</a>)</pre>
			<p>LogOutput logs the output of all log files made.

			
			

		
			
			
			<h2 id="NewLocalConnection">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=5331:5411#L180">NewLocalConnection</a>
				<a class="permalink" href="index.html#NewLocalConnection">&#xb6;</a>
				
				
			</h2>
			<pre>func NewLocalConnection(ctx <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, port <a href="../../../../../../builtin/index.html#int">int</a>) (*<a href="../../../../../../google.golang.org/grpc/index.html">grpc</a>.<a href="../../../../../../google.golang.org/grpc/index.html#ClientConn">ClientConn</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
			<p>NewLocalConnection creates and returns GRPC connection on a given localhost port.

			
			

		
			
			
			<h2 id="NewLocalConnections">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=5738:5833#L193">NewLocalConnections</a>
				<a class="permalink" href="index.html#NewLocalConnections">&#xb6;</a>
				
				
			</h2>
			<pre>func NewLocalConnections(ctx <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, numConns <a href="../../../../../../builtin/index.html#int">int</a>) ([]*<a href="../../../../../../google.golang.org/grpc/index.html">grpc</a>.<a href="../../../../../../google.golang.org/grpc/index.html#ClientConn">ClientConn</a>, func(), <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
			<p>NewLocalConnections returns number of GRPC connections, along with function to close all of them.

			
			

		
			
			
			<h2 id="WaitForTextInFile">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=1680:1736#L49">WaitForTextInFile</a>
				<a class="permalink" href="index.html#WaitForTextInFile">&#xb6;</a>
				
				
			</h2>
			<pre>func WaitForTextInFile(file *<a href="../../../../../../os/index.html">os</a>.<a href="../../../../../../os/index.html#File">File</a>, text <a href="../../../../../../builtin/index.html#string">string</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
			<p>WaitForTextInFile checks a file every polling interval for the text requested.

			
			

		
			
			
			<h2 id="WaitOnNodes">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=7360:7458#L236">WaitOnNodes</a>
				<a class="permalink" href="index.html#WaitOnNodes">&#xb6;</a>
				
				
			</h2>
			<pre>func WaitOnNodes(ctx <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, nodes []<a href="../types/index.html">e2etypes</a>.<a href="../types/index.html#ComponentRunner">ComponentRunner</a>, nodesStarted func()) <a href="../../../../../../builtin/index.html#error">error</a></pre>
			<p>WaitOnNodes waits on nodes to complete execution, accepts function that will be called when all nodes are ready.

			
			

		
			
			
			<h2 id="WritePprofFiles">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/helpers.go?s=4258:4311#L143">WritePprofFiles</a>
				<a class="permalink" href="index.html#WritePprofFiles">&#xb6;</a>
				
				
			</h2>
			<pre>func WritePprofFiles(testDir <a href="../../../../../../builtin/index.html#string">string</a>, index <a href="../../../../../../builtin/index.html#int">int</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
			<p>WritePprofFiles writes the memory heap and cpu profile files to the test path.

			
			

		
		
			
			
			<h2 id="EpochTicker">type <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/epochTimer.go?s=436:501#L5">EpochTicker</a>
				<a class="permalink" href="index.html#EpochTicker">&#xb6;</a>
				
				
			</h2>
			<p>EpochTicker is a special ticker for timing epoch changes.
The channel emits over the epoch interval, and ensures that
the ticks are in line with the genesis time. This means that
the duration between the ticks and the genesis time are always a
multiple of the epoch duration.
In addition, the channel returns the new epoch number.

			<pre>type EpochTicker struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewEpochTicker">func <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/epochTimer.go?s=829:908#L24">NewEpochTicker</a>
					<a class="permalink" href="index.html#NewEpochTicker">&#xb6;</a>
					
					
				</h3>
				<pre>func NewEpochTicker(genesisTime <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Time">Time</a>, secondsPerEpoch <a href="../../../../../../builtin/index.html#uint64">uint64</a>) *<a href="index.html#EpochTicker">EpochTicker</a></pre>
				<p>NewEpochTicker starts the EpochTicker.

				
				
			

			
				
				<h3 id="EpochTicker.C">func (*EpochTicker) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/epochTimer.go?s=606:645#L12">C</a>
					<a class="permalink" href="index.html#EpochTicker.C">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#EpochTicker">EpochTicker</a>) C() &lt;-chan <a href="../../../../../../builtin/index.html#uint64">uint64</a></pre>
				<p>C returns the ticker channel. Call Cancel afterwards to ensure
that the goroutine exits cleanly.

				
				
				
			
				
				<h3 id="EpochTicker.Done">func (*EpochTicker) <a href="http://localhost:6060/src/github.com/prysmaticlabs/prysm/testing/endtoend/helpers/epochTimer.go?s=712:740#L17">Done</a>
					<a class="permalink" href="index.html#EpochTicker.Done">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#EpochTicker">EpochTicker</a>) Done()</pre>
				<p>Done should be called to clean up the ticker.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
