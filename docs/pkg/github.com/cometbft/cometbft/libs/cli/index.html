<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>cli - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package cli
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/cometbft/cometbft/libs/cli"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
			
				
				<dd><a href="index.html#NewCompletionCmd">func NewCompletionCmd(rootCmd *cobra.Command, hidden bool) *cobra.Command</a></dd>
			
				
				<dd><a href="index.html#RunCaptureWithArgs">func RunCaptureWithArgs(cmd Executable, args []string, env map[string]string) (stdout, stderr string, err error)</a></dd>
			
				
				<dd><a href="index.html#RunWithArgs">func RunWithArgs(cmd Executable, args []string, env map[string]string) error</a></dd>
			
				
				<dd><a href="index.html#WriteConfigVals">func WriteConfigVals(dir string, vals map[string]string) error</a></dd>
			
			
				
				<dd><a href="index.html#Executable">type Executable</a></dd>
				
				
			
				
				<dd><a href="index.html#Executor">type Executor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PrepareBaseCmd">func PrepareBaseCmd(cmd *cobra.Command, envPrefix, defaultHome string) Executor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PrepareMainCmd">func PrepareMainCmd(cmd *cobra.Command, envPrefix, defaultHome string) Executor</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Executor.Execute">func (e Executor) Execute() error</a></dd>
				
			
				
				<dd><a href="index.html#ExitCoder">type ExitCoder</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/helper.go">helper.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go">setup.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="HomeFlag">HomeFlag</span>     = &#34;home&#34;
    <span id="TraceFlag">TraceFlag</span>    = &#34;trace&#34;
    <span id="OutputFlag">OutputFlag</span>   = &#34;output&#34;
    <span id="EncodingFlag">EncodingFlag</span> = &#34;encoding&#34;
)</pre>
			
		
		
		
			
			
			<h2 id="NewCompletionCmd">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/helper.go?s=2616:2689#L83">NewCompletionCmd</a>
				<a class="permalink" href="index.html#NewCompletionCmd">&#xb6;</a>
				
				
			</h2>
			<pre>func NewCompletionCmd(rootCmd *<a href="../../../../spf13/cobra/index.html">cobra</a>.<a href="../../../../spf13/cobra/index.html#Command">Command</a>, hidden <a href="../../../../../builtin/index.html#bool">bool</a>) *<a href="../../../../spf13/cobra/index.html">cobra</a>.<a href="../../../../spf13/cobra/index.html#Command">Command</a></pre>
			<p>NewCompletionCmd returns a cobra.Command that generates bash and zsh
completion scripts for the given root command. If hidden is true, the
command will not show up in the root command&apos;s list of available commands.

			
			

		
			
			
			<h2 id="RunCaptureWithArgs">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/helper.go?s=1425:1537#L46">RunCaptureWithArgs</a>
				<a class="permalink" href="index.html#RunCaptureWithArgs">&#xb6;</a>
				
				
			</h2>
			<pre>func RunCaptureWithArgs(cmd <a href="index.html#Executable">Executable</a>, args []<a href="../../../../../builtin/index.html#string">string</a>, env map[<a href="../../../../../builtin/index.html#string">string</a>]<a href="../../../../../builtin/index.html#string">string</a>) (stdout, stderr <a href="../../../../../builtin/index.html#string">string</a>, err <a href="../../../../../builtin/index.html#error">error</a>)</pre>
			<p>RunCaptureWithArgs executes the given command with the specified command
line args and environmental variables set. It returns string fields
representing output written to stdout and stderr, additionally any error
from cmd.Execute() is also returned

			
			

		
			
			
			<h2 id="RunWithArgs">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/helper.go?s=618:694#L16">RunWithArgs</a>
				<a class="permalink" href="index.html#RunWithArgs">&#xb6;</a>
				
				
			</h2>
			<pre>func RunWithArgs(cmd <a href="index.html#Executable">Executable</a>, args []<a href="../../../../../builtin/index.html#string">string</a>, env map[<a href="../../../../../builtin/index.html#string">string</a>]<a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>RunWithArgs executes the given command with the specified command line args
and environmental variables set. It returns any error returned from cmd.Execute()

			
			

		
			
			
			<h2 id="WriteConfigVals">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/helper.go?s=208:270#L5">WriteConfigVals</a>
				<a class="permalink" href="index.html#WriteConfigVals">&#xb6;</a>
				
				
			</h2>
			<pre>func WriteConfigVals(dir <a href="../../../../../builtin/index.html#string">string</a>, vals map[<a href="../../../../../builtin/index.html#string">string</a>]<a href="../../../../../builtin/index.html#string">string</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
			<p>WriteConfigVals writes a toml file with the given values.
It returns an error if writing was impossible.

			
			

		
		
			
			
			<h2 id="Executable">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go?s=343:389#L13">Executable</a>
				<a class="permalink" href="index.html#Executable">&#xb6;</a>
				
				
			</h2>
			<p>Executable is the minimal interface to *corba.Command, so we can
wrap if desired before the test

			<pre>type Executable interface {
    Execute() <a href="../../../../../builtin/index.html#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Executor">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go?s=2270:2375#L65">Executor</a>
				<a class="permalink" href="index.html#Executor">&#xb6;</a>
				
				
			</h2>
			<p>Executor wraps the cobra Command with a nicer Execute method

			<pre>type Executor struct {
    *<a href="../../../../spf13/cobra/index.html">cobra</a>.<a href="../../../../spf13/cobra/index.html#Command">Command</a>
<span id="Executor.Exit"></span>    Exit func(<a href="../../../../../builtin/index.html#int">int</a>) <span class="comment">// this is os.Exit by default, override in tests</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="PrepareBaseCmd">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go?s=449:528#L18">PrepareBaseCmd</a>
					<a class="permalink" href="index.html#PrepareBaseCmd">&#xb6;</a>
					
					
				</h3>
				<pre>func PrepareBaseCmd(cmd *<a href="../../../../spf13/cobra/index.html">cobra</a>.<a href="../../../../spf13/cobra/index.html#Command">Command</a>, envPrefix, defaultHome <a href="../../../../../builtin/index.html#string">string</a>) <a href="index.html#Executor">Executor</a></pre>
				<p>PrepareBaseCmd is meant for CometBFT and other servers

				
				
			
				
				<h3 id="PrepareMainCmd">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go?s=1101:1180#L30">PrepareMainCmd</a>
					<a class="permalink" href="index.html#PrepareMainCmd">&#xb6;</a>
					
					
				</h3>
				<pre>func PrepareMainCmd(cmd *<a href="../../../../spf13/cobra/index.html">cobra</a>.<a href="../../../../spf13/cobra/index.html#Command">Command</a>, envPrefix, defaultHome <a href="../../../../../builtin/index.html#string">string</a>) <a href="index.html#Executor">Executor</a></pre>
				<p>PrepareMainCmd is meant for client side libs that want some more flags
<p>This adds --encoding (hex, btc, base64) and --output (text, json) to
the command.  These only really make sense in interactive commands.

				
				
			

			
				
				<h3 id="Executor.Execute">func (Executor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go?s=2583:2616#L76">Execute</a>
					<a class="permalink" href="index.html#Executor.Execute">&#xb6;</a>
					
					
				</h3>
				<pre>func (e <a href="index.html#Executor">Executor</a>) Execute() <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>execute adds all child commands to the root command sets flags appropriately.
This is called by main.main(). It only needs to happen once to the rootCmd.

				
				
				
			
		
			
			
			<h2 id="ExitCoder">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/libs/cli/setup.go?s=2377:2421#L70">ExitCoder</a>
				<a class="permalink" href="index.html#ExitCoder">&#xb6;</a>
				
				
			</h2>
			
			<pre>type ExitCoder interface {
    ExitCode() <a href="../../../../../builtin/index.html#int">int</a>
}</pre>

			

			

			
			
			

			

			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="flags/index.html">flags</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
