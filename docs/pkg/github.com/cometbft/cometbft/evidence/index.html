<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>evidence - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package evidence
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/cometbft/cometbft/evidence"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package evidence handles all evidence storage and gossiping from detection to block proposal.
For the different types of evidence refer to the `evidence.go` file in the types package
or <a href="https://github.com/cometbft/cometbft/blob/v0.37.x/spec/consensus/light-client/accountability.md">https://github.com/cometbft/cometbft/blob/v0.37.x/spec/consensus/light-client/accountability.md</a>.
<h3 id="hdr-Gossiping">Gossiping</h3>
<p>The core functionality begins with the evidence reactor (see reactor.
go) which operates both the sending and receiving of evidence.
<p>The `Receive` function takes a list of evidence and does the following:
<p>1. Checks that it does not already have the evidence stored
<p>2. Verifies the evidence against the node&apos;s state (see state/validation.go#VerifyEvidence)
<p>3. Stores the evidence to a db and a concurrent list
<p>The gossiping of evidence is initiated when a peer is added which starts a go routine to broadcast currently
uncommitted evidence at intervals of 60 seconds (set by the by broadcastEvidenceIntervalS).
It uses a concurrent list to store the evidence and before sending verifies that each evidence is still valid in the
sense that it has not exceeded the max evidence age and height (see types/params.go#EvidenceParams).
<p>There are two buckets that evidence can be stored in: Pending &amp; Committed.
<p>1. Pending is awaiting to be committed (evidence is usually broadcasted then)
<p>2. Committed is for those already on the block and is to ensure that evidence isn&apos;t submitted twice
<p>All evidence is proto encoded to disk.
<h3 id="hdr-Proposing">Proposing</h3>
<p>When a new block is being proposed (in state/execution.go#CreateProposalBlock),
`PendingEvidence(maxBytes)` is called to send up to the maxBytes of uncommitted evidence, from the evidence store,
prioritized in order of age. All evidence is checked for expiration.
<p>When a node receives evidence in a block it will use the evidence module as a cache first to see if it has
already verified the evidence before trying to verify it again.
<p>Once the proposed evidence is submitted,
the evidence is marked as committed and is moved from the broadcasted set to the committed set.
As a result it is also removed from the concurrent list so that it is no longer gossiped.
<h3 id="hdr-Minor_Functionality">Minor Functionality</h3>
<p>As all evidence (including POLC&apos;s) are bounded by an expiration date, those that exceed this are no longer needed
and hence pruned. Currently, only committed evidence in which a marker to the height that the evidence was committed
and hence very small is saved. All updates are made from the `Update(block, state)` function which should be called
when a new block is committed.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
			
				
				<dd><a href="index.html#VerifyDuplicateVote">func VerifyDuplicateVote(e *types.DuplicateVoteEvidence, chainID string, valSet *types.ValidatorSet) error</a></dd>
			
				
				<dd><a href="index.html#VerifyLightClientAttack">func VerifyLightClientAttack(e *types.LightClientAttackEvidence, commonHeader, trustedHeader *types.SignedHeader, commonVals *types.ValidatorSet, now time.Time, trustPeriod time.Duration) error</a></dd>
			
			
				
				<dd><a href="index.html#BlockStore">type BlockStore</a></dd>
				
				
			
				
				<dd><a href="index.html#PeerState">type PeerState</a></dd>
				
				
			
				
				<dd><a href="index.html#Pool">type Pool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPool">func NewPool(evidenceDB dbm.DB, stateDB sm.Store, blockStore BlockStore) (*Pool, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.AddEvidence">func (evpool *Pool) AddEvidence(ev types.Evidence) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.CheckEvidence">func (evpool *Pool) CheckEvidence(evList types.EvidenceList) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.Close">func (evpool *Pool) Close() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.EvidenceFront">func (evpool *Pool) EvidenceFront() *clist.CElement</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.EvidenceWaitChan">func (evpool *Pool) EvidenceWaitChan() &lt;-chan struct{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.PendingEvidence">func (evpool *Pool) PendingEvidence(maxBytes int64) ([]types.Evidence, int64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.ReportConflictingVotes">func (evpool *Pool) ReportConflictingVotes(voteA, voteB *types.Vote)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.SetLogger">func (evpool *Pool) SetLogger(l log.Logger)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.Size">func (evpool *Pool) Size() uint32</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.State">func (evpool *Pool) State() sm.State</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Pool.Update">func (evpool *Pool) Update(state sm.State, ev types.EvidenceList)</a></dd>
				
			
				
				<dd><a href="index.html#Reactor">type Reactor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewReactor">func NewReactor(evpool *Pool) *Reactor</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.AddPeer">func (evR *Reactor) AddPeer(peer p2p.Peer)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.GetChannels">func (evR *Reactor) GetChannels() []*p2p.ChannelDescriptor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.ReceiveEnvelope">func (evR *Reactor) ReceiveEnvelope(e p2p.Envelope)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.SetEventBus">func (evR *Reactor) SetEventBus(b *types.EventBus)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.SetLogger">func (evR *Reactor) SetLogger(l log.Logger)</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/doc.go">doc.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go">pool.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go">reactor.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/services.go">services.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/verify.go">verify.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="EvidenceChannel">EvidenceChannel</span> = <a href="../../../../builtin/index.html#byte">byte</a>(0x38)
)</pre>
			
		
		
		
			
			
			<h2 id="VerifyDuplicateVote">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/verify.go?s=6788:6894#L152">VerifyDuplicateVote</a>
				<a class="permalink" href="index.html#VerifyDuplicateVote">&#xb6;</a>
				
				
			</h2>
			<pre>func VerifyDuplicateVote(e *<a href="../types/index.html">types</a>.<a href="../types/index.html#DuplicateVoteEvidence">DuplicateVoteEvidence</a>, chainID <a href="../../../../builtin/index.html#string">string</a>, valSet *<a href="../types/index.html">types</a>.<a href="../types/index.html#ValidatorSet">ValidatorSet</a>) <a href="../../../../builtin/index.html#error">error</a></pre>
			<p>VerifyDuplicateVote verifies DuplicateVoteEvidence against the state of full node. This involves the
following checks:
<ul>
<li>the validator is in the validator set at the height of the evidence
<li>the height, round, type and validator address of the votes must be the same
<li>the block ID&apos;s must be different
<li>The signatures must both be valid
</ul>

			
			

		
			
			
			<h2 id="VerifyLightClientAttack">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/verify.go?s=4033:4227#L103">VerifyLightClientAttack</a>
				<a class="permalink" href="index.html#VerifyLightClientAttack">&#xb6;</a>
				
				
			</h2>
			<pre>func VerifyLightClientAttack(e *<a href="../types/index.html">types</a>.<a href="../types/index.html#LightClientAttackEvidence">LightClientAttackEvidence</a>, commonHeader, trustedHeader *<a href="../types/index.html">types</a>.<a href="../types/index.html#SignedHeader">SignedHeader</a>,
    commonVals *<a href="../types/index.html">types</a>.<a href="../types/index.html#ValidatorSet">ValidatorSet</a>, now <a href="../../../../time/index.html">time</a>.<a href="../../../../time/index.html#Time">Time</a>, trustPeriod <a href="../../../../time/index.html">time</a>.<a href="../../../../time/index.html#Duration">Duration</a>) <a href="../../../../builtin/index.html#error">error</a></pre>
			<p>VerifyLightClientAttack verifies LightClientAttackEvidence against the state of the full node. This involves
the following checks:
<ul>
<li>the common header from the full node has at least 1/3 voting power which is also present in
the conflicting header&apos;s commit
<li>2/3+ of the conflicting validator set correctly signed the conflicting block
<li>the nodes trusted header at the same height as the conflicting header has a different hash
</ul>
<p>CONTRACT: must run ValidateBasic() on the evidence before verifying
<pre>must check that the evidence has not expired (i.e. is outside the maximum age threshold)
</pre>

			
			

		
		
			
			
			<h2 id="BlockStore">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/services.go?s=125:261#L1">BlockStore</a>
				<a class="permalink" href="index.html#BlockStore">&#xb6;</a>
				
				
			</h2>
			
			<pre>type BlockStore interface {
    LoadBlockMeta(height <a href="../../../../builtin/index.html#int64">int64</a>) *<a href="../types/index.html">types</a>.<a href="../types/index.html#BlockMeta">BlockMeta</a>
    LoadBlockCommit(height <a href="../../../../builtin/index.html#int64">int64</a>) *<a href="../types/index.html">types</a>.<a href="../types/index.html#Commit">Commit</a>
    Height() <a href="../../../../builtin/index.html#int64">int64</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PeerState">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=6108:6155#L204">PeerState</a>
				<a class="permalink" href="index.html#PeerState">&#xb6;</a>
				
				
			</h2>
			<p>PeerState describes the state of a peer.

			<pre>type PeerState interface {
    GetHeight() <a href="../../../../builtin/index.html#int64">int64</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Pool">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=594:1307#L19">Pool</a>
				<a class="permalink" href="index.html#Pool">&#xb6;</a>
				
				
			</h2>
			<p>Pool maintains a pool of valid evidence to be broadcasted and committed

			<pre>type Pool struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPool">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=1443:1530#L45">NewPool</a>
					<a class="permalink" href="index.html#NewPool">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPool(evidenceDB <a href="../../cometbft-db/index.html">dbm</a>.<a href="../../cometbft-db/index.html#DB">DB</a>, stateDB <a href="../state/index.html">sm</a>.<a href="../state/index.html#Store">Store</a>, blockStore <a href="index.html#BlockStore">BlockStore</a>) (*<a href="index.html#Pool">Pool</a>, <a href="../../../../builtin/index.html#error">error</a>)</pre>
				<p>NewPool creates an evidence pool. If using an existing evidence store,
it will add all pending evidence to the concurrent list.

				
				
			

			
				
				<h3 id="Pool.AddEvidence">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=4469:4525#L124">AddEvidence</a>
					<a class="permalink" href="index.html#Pool.AddEvidence">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) AddEvidence(ev <a href="../types/index.html">types</a>.<a href="../types/index.html#Evidence">Evidence</a>) <a href="../../../../builtin/index.html#error">error</a></pre>
				<p>AddEvidence checks the evidence is valid and adds it to the pool.

				
				
				
			
				
				<h3 id="Pool.CheckEvidence">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=6554:6620#L182">CheckEvidence</a>
					<a class="permalink" href="index.html#Pool.CheckEvidence">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) CheckEvidence(evList <a href="../types/index.html">types</a>.<a href="../types/index.html#EvidenceList">EvidenceList</a>) <a href="../../../../builtin/index.html#error">error</a></pre>
				<p>CheckEvidence takes an array of evidence from a block and verifies all the evidence there.
If it has already verified the evidence then it jumps to the next one. It ensures that no
evidence has already been committed or is being proposed twice. It also adds any
evidence that it doesn&apos;t currently have so that it can quickly form ABCI Evidence later.

				
				
				
			
				
				<h3 id="Pool.Close">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=8645:8678#L249">Close</a>
					<a class="permalink" href="index.html#Pool.Close">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) Close() <a href="../../../../builtin/index.html#error">error</a></pre>
				
				
				
				
			
				
				<h3 id="Pool.EvidenceFront">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=7945:7996#L223">EvidenceFront</a>
					<a class="permalink" href="index.html#Pool.EvidenceFront">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) EvidenceFront() *<a href="../libs/clist/index.html">clist</a>.<a href="../libs/clist/index.html#CElement">CElement</a></pre>
				<p>EvidenceFront goes to the first evidence in the clist

				
				
				
			
				
				<h3 id="Pool.EvidenceWaitChan">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=8150:8204#L228">EvidenceWaitChan</a>
					<a class="permalink" href="index.html#Pool.EvidenceWaitChan">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) EvidenceWaitChan() &lt;-chan struct{}</pre>
				<p>EvidenceWaitChan is a channel that closes once the first evidence in the list is there. i.e Front is not nil

				
				
				
			
				
				<h3 id="Pool.PendingEvidence">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=2476:2553#L77">PendingEvidence</a>
					<a class="permalink" href="index.html#Pool.PendingEvidence">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) PendingEvidence(maxBytes <a href="../../../../builtin/index.html#int64">int64</a>) ([]<a href="../types/index.html">types</a>.<a href="../types/index.html#Evidence">Evidence</a>, <a href="../../../../builtin/index.html#int64">int64</a>)</pre>
				<p>PendingEvidence is used primarily as part of block proposal and returns up to maxNum of uncommitted evidence.

				
				
				
			
				
				<h3 id="Pool.ReportConflictingVotes">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=5960:6028#L169">ReportConflictingVotes</a>
					<a class="permalink" href="index.html#Pool.ReportConflictingVotes">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) ReportConflictingVotes(voteA, voteB *<a href="../types/index.html">types</a>.<a href="../types/index.html#Vote">Vote</a>)</pre>
				<p>ReportConflictingVotes takes two conflicting votes and forms duplicate vote evidence,
adding it eventually to the evidence pool.
<p>Duplicate vote attacks happen before the block is committed and the timestamp is
finalized, thus the evidence pool holds these votes in a buffer, forming the
evidence from them once consensus at that height has been reached and `Update()` with
the new state called.
<p>Votes are not verified.

				
				
				
			
				
				<h3 id="Pool.SetLogger">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=8279:8322#L233">SetLogger</a>
					<a class="permalink" href="index.html#Pool.SetLogger">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) SetLogger(l <a href="../libs/log/index.html">log</a>.<a href="../libs/log/index.html#Logger">Logger</a>)</pre>
				<p>SetLogger sets the Logger.

				
				
				
			
				
				<h3 id="Pool.Size">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=8399:8432#L238">Size</a>
					<a class="permalink" href="index.html#Pool.Size">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) Size() <a href="../../../../builtin/index.html#uint32">uint32</a></pre>
				<p>Size returns the number of evidence in the pool.

				
				
				
			
				
				<h3 id="Pool.State">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=8536:8572#L243">State</a>
					<a class="permalink" href="index.html#Pool.State">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) State() <a href="../state/index.html">sm</a>.<a href="../state/index.html#State">State</a></pre>
				<p>State returns the current state of the evpool.

				
				
				
			
				
				<h3 id="Pool.Update">func (*Pool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/pool.go?s=3299:3364#L95">Update</a>
					<a class="permalink" href="index.html#Pool.Update">&#xb6;</a>
					
					
				</h3>
				<pre>func (evpool *<a href="index.html#Pool">Pool</a>) Update(state <a href="../state/index.html">sm</a>.<a href="../state/index.html#State">State</a>, ev <a href="../types/index.html">types</a>.<a href="../types/index.html#EvidenceList">EvidenceList</a>)</pre>
				<p>Update takes both the new state and the evidence committed at that height and performs
the following operations:
<ol>
<li>Take any conflicting votes from consensus and use the state&apos;s LastBlockTime to form
DuplicateVoteEvidence and add it to the pool.
<li>Update the pool&apos;s state which contains evidence params relating to expiry.
<li>Moves pending evidence that has now been committed into the committed pool.
<li>Removes any expired evidence based on both height and time.
</ol>

				
				
				
			
		
			
			
			<h2 id="Reactor">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=910:992#L21">Reactor</a>
				<a class="permalink" href="index.html#Reactor">&#xb6;</a>
				
				
			</h2>
			<p>Reactor handles evpool evidence broadcasting amongst peers.

			<pre>type Reactor struct {
    <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#BaseReactor">BaseReactor</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewReactor">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=1064:1102#L28">NewReactor</a>
					<a class="permalink" href="index.html#NewReactor">&#xb6;</a>
					
					
				</h3>
				<pre>func NewReactor(evpool *<a href="index.html#Pool">Pool</a>) *<a href="index.html#Reactor">Reactor</a></pre>
				<p>NewReactor returns a new Reactor with the given config and evpool.

				
				
			

			
				
				<h3 id="Reactor.AddPeer">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=1761:1803#L56">AddPeer</a>
					<a class="permalink" href="index.html#Reactor.AddPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (evR *<a href="index.html#Reactor">Reactor</a>) AddPeer(peer <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#Peer">Peer</a>)</pre>
				<p>AddPeer implements Reactor.

				
				
				
			
				
				<h3 id="Reactor.GetChannels">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=1466:1524#L44">GetChannels</a>
					<a class="permalink" href="index.html#Reactor.GetChannels">&#xb6;</a>
					
					
				</h3>
				<pre>func (evR *<a href="index.html#Reactor">Reactor</a>) GetChannels() []*<a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#ChannelDescriptor">ChannelDescriptor</a></pre>
				<p>GetChannels implements Reactor.
It returns the list of channels for this reactor.

				
				
				
			
				
				<h3 id="Reactor.ReceiveEnvelope">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=1927:1978#L62">ReceiveEnvelope</a>
					<a class="permalink" href="index.html#Reactor.ReceiveEnvelope">&#xb6;</a>
					
					
				</h3>
				<pre>func (evR *<a href="index.html#Reactor">Reactor</a>) ReceiveEnvelope(e <a href="../p2p/index.html">p2p</a>.<a href="../p2p/index.html#Envelope">Envelope</a>)</pre>
				<p>Receive implements Reactor.
It adds any received evidence to the evpool.

				
				
				
			
				
				<h3 id="Reactor.SetEventBus">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=2618:2668#L87">SetEventBus</a>
					<a class="permalink" href="index.html#Reactor.SetEventBus">&#xb6;</a>
					
					
				</h3>
				<pre>func (evR *<a href="index.html#Reactor">Reactor</a>) SetEventBus(b *<a href="../types/index.html">types</a>.<a href="../types/index.html#EventBus">EventBus</a>)</pre>
				<p>SetEventBus implements events.Eventable.

				
				
				
			
				
				<h3 id="Reactor.SetLogger">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/evidence/reactor.go?s=1288:1331#L37">SetLogger</a>
					<a class="permalink" href="index.html#Reactor.SetLogger">&#xb6;</a>
					
					
				</h3>
				<pre>func (evR *<a href="index.html#Reactor">Reactor</a>) SetLogger(l <a href="../libs/log/index.html">log</a>.<a href="../libs/log/index.html#Logger">Logger</a>)</pre>
				<p>SetLogger sets the Logger on the reactor and the underlying Evidence.

				
				
				
			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="mocks/index.html">mocks</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
