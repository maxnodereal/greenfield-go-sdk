<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>v1 - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package v1
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/cometbft/cometbft/mempool/v1"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Deprecated: Priority mempool will be removed in the next major release.
<p>Deprecated: Priority mempool will be removed in the next major release.
<p>Deprecated: Priority mempool will be removed in the next major release.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
			
				
				<dd><a href="index.html#PeerState">type PeerState</a></dd>
				
				
			
				
				<dd><a href="index.html#Reactor">type Reactor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewReactor">func NewReactor(config *cfg.MempoolConfig, mempool *TxMempool) *Reactor</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.AddPeer">func (memR *Reactor) AddPeer(peer p2p.Peer)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.GetChannels">func (memR *Reactor) GetChannels() []*p2p.ChannelDescriptor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.InitPeer">func (memR *Reactor) InitPeer(peer p2p.Peer) p2p.Peer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.OnStart">func (memR *Reactor) OnStart() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.ReceiveEnvelope">func (memR *Reactor) ReceiveEnvelope(e p2p.Envelope)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.RemovePeer">func (memR *Reactor) RemovePeer(peer p2p.Peer, reason interface{})</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Reactor.SetLogger">func (memR *Reactor) SetLogger(l log.Logger)</a></dd>
				
			
				
				<dd><a href="index.html#TxMempool">type TxMempool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewTxMempool">func NewTxMempool(logger log.Logger, cfg *config.MempoolConfig, proxyAppConn proxy.AppConnMempool, height int64, options ...TxMempoolOption) *TxMempool</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.CheckTx">func (txmp *TxMempool) CheckTx(tx types.Tx, cb func(*abci.Response), txInfo mempool.TxInfo) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.EnableTxsAvailable">func (txmp *TxMempool) EnableTxsAvailable()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.Flush">func (txmp *TxMempool) Flush()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.FlushAppConn">func (txmp *TxMempool) FlushAppConn() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.Lock">func (txmp *TxMempool) Lock()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.ReapMaxBytesMaxGas">func (txmp *TxMempool) ReapMaxBytesMaxGas(maxBytes, maxGas int64) types.Txs</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.ReapMaxTxs">func (txmp *TxMempool) ReapMaxTxs(max int) types.Txs</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.RemoveTxByKey">func (txmp *TxMempool) RemoveTxByKey(txKey types.TxKey) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.Size">func (txmp *TxMempool) Size() int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.SizeBytes">func (txmp *TxMempool) SizeBytes() int64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.TxsAvailable">func (txmp *TxMempool) TxsAvailable() &lt;-chan struct{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.TxsFront">func (txmp *TxMempool) TxsFront() *clist.CElement</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.TxsWaitChan">func (txmp *TxMempool) TxsWaitChan() &lt;-chan struct{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.Unlock">func (txmp *TxMempool) Unlock()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxMempool.Update">func (txmp *TxMempool) Update(blockHeight int64, blockTxs types.Txs, deliverTxResponses []*abci.ResponseDeliverTx, newPreFn mempool.PreCheckFunc, newPostFn mempool.PostCheckFunc) error</a></dd>
				
			
				
				<dd><a href="index.html#TxMempoolOption">type TxMempoolOption</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithMetrics">func WithMetrics(metrics *mempool.Metrics) TxMempoolOption</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithPostCheck">func WithPostCheck(f mempool.PostCheckFunc) TxMempoolOption</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WithPreCheck">func WithPreCheck(f mempool.PreCheckFunc) TxMempoolOption</a></dd>
				
				
			
				
				<dd><a href="index.html#TxsMessage">type TxsMessage</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TxsMessage.String">func (m *TxsMessage) String() string</a></dd>
				
			
				
				<dd><a href="index.html#WrappedTx">type WrappedTx</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.GasWanted">func (w *WrappedTx) GasWanted() int64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.HasPeer">func (w *WrappedTx) HasPeer(id uint16) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.Priority">func (w *WrappedTx) Priority() int64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.Sender">func (w *WrappedTx) Sender() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.SetGasWanted">func (w *WrappedTx) SetGasWanted(gas int64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.SetPeer">func (w *WrappedTx) SetPeer(id uint16)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.SetPriority">func (w *WrappedTx) SetPriority(p int64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.SetSender">func (w *WrappedTx) SetSender(sender string)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrappedTx.Size">func (w *WrappedTx) Size() int64</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go">mempool.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go">reactor.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go">tx.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
		
			
			
			<h2 id="PeerState">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=5414:5461#L182">PeerState</a>
				<a class="permalink" href="index.html#PeerState">&#xb6;</a>
				
				
			</h2>
			<p>PeerState describes the state of a peer.

			<pre>type PeerState interface {
    GetHeight() <a href="../../../../../builtin/index.html#int64">int64</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Reactor">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=650:759#L12">Reactor</a>
				<a class="permalink" href="index.html#Reactor">&#xb6;</a>
				
				
			</h2>
			<p>Reactor handles mempool tx broadcasting amongst peers.
It maintains a map from peer ID to counter, to prevent gossiping txs to the
peers you received it from.

			<pre>type Reactor struct {
    <a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#BaseReactor">BaseReactor</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewReactor">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=2543:2614#L83">NewReactor</a>
					<a class="permalink" href="index.html#NewReactor">&#xb6;</a>
					
					
				</h3>
				<pre>func NewReactor(config *<a href="../../config/index.html">cfg</a>.<a href="../../config/index.html#MempoolConfig">MempoolConfig</a>, mempool *<a href="index.html#TxMempool">TxMempool</a>) *<a href="index.html#Reactor">Reactor</a></pre>
				<p>NewReactor returns a new Reactor with the given config and mempool.

				
				
			

			
				
				<h3 id="Reactor.AddPeer">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=3906:3949#L134">AddPeer</a>
					<a class="permalink" href="index.html#Reactor.AddPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) AddPeer(peer <a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#Peer">Peer</a>)</pre>
				<p>AddPeer implements Reactor.
It starts a broadcast routine ensuring all txs are forwarded to the given peer.

				
				
				
			
				
				<h3 id="Reactor.GetChannels">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=3350:3409#L114">GetChannels</a>
					<a class="permalink" href="index.html#Reactor.GetChannels">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) GetChannels() []*<a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#ChannelDescriptor">ChannelDescriptor</a></pre>
				<p>GetChannels implements Reactor by returning the list of channels for this
reactor.

				
				
				
			
				
				<h3 id="Reactor.InitPeer">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=2844:2897#L94">InitPeer</a>
					<a class="permalink" href="index.html#Reactor.InitPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) InitPeer(peer <a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#Peer">Peer</a>) <a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#Peer">Peer</a></pre>
				<p>InitPeer implements Reactor by creating a state for the peer.

				
				
				
			
				
				<h3 id="Reactor.OnStart">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=3125:3161#L105">OnStart</a>
					<a class="permalink" href="index.html#Reactor.OnStart">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) OnStart() <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>OnStart implements p2p.BaseReactor.

				
				
				
			
				
				<h3 id="Reactor.ReceiveEnvelope">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=4292:4344#L148">ReceiveEnvelope</a>
					<a class="permalink" href="index.html#Reactor.ReceiveEnvelope">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) ReceiveEnvelope(e <a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#Envelope">Envelope</a>)</pre>
				<p>Receive implements Reactor.
It adds any received transactions to the mempool.

				
				
				
			
				
				<h3 id="Reactor.RemovePeer">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=4055:4121#L141">RemovePeer</a>
					<a class="permalink" href="index.html#Reactor.RemovePeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) RemovePeer(peer <a href="../../p2p/index.html">p2p</a>.<a href="../../p2p/index.html#Peer">Peer</a>, reason interface{})</pre>
				<p>RemovePeer implements Reactor.

				
				
				
			
				
				<h3 id="Reactor.SetLogger">func (*Reactor) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=3019:3063#L100">SetLogger</a>
					<a class="permalink" href="index.html#Reactor.SetLogger">&#xb6;</a>
					
					
				</h3>
				<pre>func (memR *<a href="index.html#Reactor">Reactor</a>) SetLogger(l <a href="../../libs/log/index.html">log</a>.<a href="../../libs/log/index.html#Logger">Logger</a>)</pre>
				<p>SetLogger sets the Logger on the reactor and the underlying mempool.

				
				
				
			
		
			
			
			<h2 id="TxMempool">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=1184:2045#L27">TxMempool</a>
				<a class="permalink" href="index.html#TxMempool">&#xb6;</a>
				
				
			</h2>
			<p>TxMempool implemements the Mempool interface and allows the application to
set priority values on transactions in the CheckTx response. When selecting
transactions to include in a block, higher-priority transactions are chosen
first.  When evicting transactions from the mempool for size constraints,
lower-priority transactions are evicted sooner.
<p>Within the mempool, transactions are ordered by time of arrival, and are
gossiped to the rest of the network based on that order (gossip order does
not take priority into account).

			<pre>type TxMempool struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewTxMempool">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=2179:2338#L53">NewTxMempool</a>
					<a class="permalink" href="index.html#NewTxMempool">&#xb6;</a>
					
					
				</h3>
				<pre>func NewTxMempool(
    logger <a href="../../libs/log/index.html">log</a>.<a href="../../libs/log/index.html#Logger">Logger</a>,
    cfg *<a href="../../config/index.html">config</a>.<a href="../../config/index.html#MempoolConfig">MempoolConfig</a>,
    proxyAppConn <a href="../../proxy/index.html">proxy</a>.<a href="../../proxy/index.html#AppConnMempool">AppConnMempool</a>,
    height <a href="../../../../../builtin/index.html#int64">int64</a>,
    options ...<a href="index.html#TxMempoolOption">TxMempoolOption</a>,
) *<a href="index.html#TxMempool">TxMempool</a></pre>
				<p>NewTxMempool constructs a new, empty priority mempool at the specified
initial height and using the given config and options.

				
				
			

			
				
				<h3 id="TxMempool.CheckTx">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=6491:6588#L168">CheckTx</a>
					<a class="permalink" href="index.html#TxMempool.CheckTx">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) CheckTx(tx <a href="../../types/index.html">types</a>.<a href="../../types/index.html#Tx">Tx</a>, cb func(*<a href="../../abci/types/index.html">abci</a>.<a href="../../abci/types/index.html#Response">Response</a>), txInfo <a href="../index.html">mempool</a>.<a href="../index.html#TxInfo">TxInfo</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>CheckTx adds the given transaction to the mempool if it fits and passes the
application&apos;s ABCI CheckTx method.
<p>CheckTx reports an error without adding tx if:
<p>- The size of tx exceeds the configured maximum transaction size.
- The pre-check hook is defined and reports an error for tx.
- The transaction already exists in the cache.
- The proxy connection to the application fails.
<p>If tx passes all of the above conditions, it is passed (asynchronously) to
the application&apos;s ABCI CheckTx method and this CheckTx method returns nil.
If cb != nil, it is called when the ABCI request completes to report the
application response.
<p>If the application accepts the transaction and the mempool is full, the
mempool evicts one or more of the lowest-priority transaction whose priority
is (strictly) lower than the priority of tx and whose size together exceeds
the size of tx, and adds tx instead. If no such transactions exist, tx is
discarded.

				
				
				
			
				
				<h3 id="TxMempool.EnableTxsAvailable">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=5127:5170#L137">EnableTxsAvailable</a>
					<a class="permalink" href="index.html#TxMempool.EnableTxsAvailable">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) EnableTxsAvailable()</pre>
				<p>EnableTxsAvailable enables the mempool to trigger events when transactions
are available on a block by block basis.

				
				
				
			
				
				<h3 id="TxMempool.Flush">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=9644:9674#L270">Flush</a>
					<a class="permalink" href="index.html#TxMempool.Flush">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) Flush()</pre>
				<p>Flush purges the contents of the mempool and the cache, leaving both empty.
The current height is not modified by this operation.

				
				
				
			
				
				<h3 id="TxMempool.FlushAppConn">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=4517:4560#L122">FlushAppConn</a>
					<a class="permalink" href="index.html#TxMempool.FlushAppConn">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) FlushAppConn() <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>FlushAppConn executes FlushSync on the mempool&apos;s proxyAppConn.
<p>The caller must hold an exclusive mempool lock (by calling txmp.Lock) before
calling FlushAppConn.

				
				
				
			
				
				<h3 id="TxMempool.Lock">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=3844:3873#L105">Lock</a>
					<a class="permalink" href="index.html#TxMempool.Lock">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) Lock()</pre>
				<p>Lock obtains a write-lock on the mempool. A caller must be sure to explicitly
release the lock when finished.

				
				
				
			
				
				<h3 id="TxMempool.ReapMaxBytesMaxGas">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=11141:11216#L315">ReapMaxBytesMaxGas</a>
					<a class="permalink" href="index.html#TxMempool.ReapMaxBytesMaxGas">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) ReapMaxBytesMaxGas(maxBytes, maxGas <a href="../../../../../builtin/index.html#int64">int64</a>) <a href="../../types/index.html">types</a>.<a href="../../types/index.html#Txs">Txs</a></pre>
				<p>ReapMaxBytesMaxGas returns a slice of valid transactions that fit within the
size and gas constraints. The results are ordered by nonincreasing priority,
with ties broken by increasing order of arrival.  Reaping transactions does
not remove them from the mempool.
<p>If maxBytes &lt; 0, no limit is set on the total size in bytes.
If maxGas &lt; 0, no limit is set on the total gas cost.
<p>If the mempool is empty or has no transactions fitting within the given
constraints, the result will also be empty.

				
				
				
			
				
				<h3 id="TxMempool.ReapMaxTxs">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=12517:12569#L348">ReapMaxTxs</a>
					<a class="permalink" href="index.html#TxMempool.ReapMaxTxs">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) ReapMaxTxs(max <a href="../../../../../builtin/index.html#int">int</a>) <a href="../../types/index.html">types</a>.<a href="../../types/index.html#Txs">Txs</a></pre>
				<p>ReapMaxTxs returns up to max transactions from the mempool. The results are
ordered by nonincreasing priority with ties broken by increasing order of
arrival. Reaping transactions does not remove them from the mempool.
<p>If max &lt; 0, all transactions in the mempool are reaped.
<p>The result may have fewer than max elements (possibly zero) if the mempool
does not have that many transactions available.

				
				
				
			
				
				<h3 id="TxMempool.RemoveTxByKey">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=8480:8541#L234">RemoveTxByKey</a>
					<a class="permalink" href="index.html#TxMempool.RemoveTxByKey">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) RemoveTxByKey(txKey <a href="../../types/index.html">types</a>.<a href="../../types/index.html#TxKey">TxKey</a>) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>RemoveTxByKey removes the transaction with the specified key from the
mempool. It reports an error if no such transaction exists.  This operation
does not remove the transaction from the cache.

				
				
				
			
				
				<h3 id="TxMempool.Size">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=4085:4118#L112">Size</a>
					<a class="permalink" href="index.html#TxMempool.Size">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) Size() <a href="../../../../../builtin/index.html#int">int</a></pre>
				<p>Size returns the number of valid transactions in the mempool. It is
thread-safe.

				
				
				
			
				
				<h3 id="TxMempool.SizeBytes">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=4257:4297#L116">SizeBytes</a>
					<a class="permalink" href="index.html#TxMempool.SizeBytes">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) SizeBytes() <a href="../../../../../builtin/index.html#int64">int64</a></pre>
				<p>SizeBytes return the total sum in bytes of all the valid transactions in the
mempool. It is thread-safe.

				
				
				
			
				
				<h3 id="TxMempool.TxsAvailable">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=5411:5464#L146">TxsAvailable</a>
					<a class="permalink" href="index.html#TxMempool.TxsAvailable">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) TxsAvailable() &lt;-chan struct{}</pre>
				<p>TxsAvailable returns a channel which fires once for every height, and only
when transactions are available in the mempool. It is thread-safe.

				
				
				
			
				
				<h3 id="TxMempool.TxsFront">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=12016:12065#L338">TxsFront</a>
					<a class="permalink" href="index.html#TxMempool.TxsFront">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) TxsFront() *<a href="../../libs/clist/index.html">clist</a>.<a href="../../libs/clist/index.html#CElement">CElement</a></pre>
				<p>TxsFront returns the frontmost element of the pending transaction list.
It will be nil if the mempool is empty.

				
				
				
			
				
				<h3 id="TxMempool.TxsWaitChan">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=11813:11865#L334">TxsWaitChan</a>
					<a class="permalink" href="index.html#TxMempool.TxsWaitChan">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) TxsWaitChan() &lt;-chan struct{}</pre>
				<p>TxsWaitChan returns a channel that is closed when there is at least one
transaction available to be gossiped.

				
				
				
			
				
				<h3 id="TxMempool.Unlock">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=3943:3974#L108">Unlock</a>
					<a class="permalink" href="index.html#TxMempool.Unlock">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) Unlock()</pre>
				<p>Unlock releases a write-lock on the mempool.

				
				
				
			
				
				<h3 id="TxMempool.Update">func (*TxMempool) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=13315:13507#L371">Update</a>
					<a class="permalink" href="index.html#TxMempool.Update">&#xb6;</a>
					
					
				</h3>
				<pre>func (txmp *<a href="index.html#TxMempool">TxMempool</a>) Update(
    blockHeight <a href="../../../../../builtin/index.html#int64">int64</a>,
    blockTxs <a href="../../types/index.html">types</a>.<a href="../../types/index.html#Txs">Txs</a>,
    deliverTxResponses []*<a href="../../abci/types/index.html">abci</a>.<a href="../../abci/types/index.html#ResponseDeliverTx">ResponseDeliverTx</a>,
    newPreFn <a href="../index.html">mempool</a>.<a href="../index.html#PreCheckFunc">PreCheckFunc</a>,
    newPostFn <a href="../index.html">mempool</a>.<a href="../index.html#PostCheckFunc">PostCheckFunc</a>,
) <a href="../../../../../builtin/index.html#error">error</a></pre>
				<p>Update removes all the given transactions from the mempool and the cache,
and updates the current block height. The blockTxs and deliverTxResponses
must have the same length with each response corresponding to the tx at the
same offset.
<p>If the configuration enables recheck, Update sends each remaining
transaction after removing blockTxs to the ABCI CheckTx method.  Any
transactions marked as invalid during recheck are also removed.
<p>The caller must hold an exclusive mempool lock (by calling txmp.Lock) before
calling Update.

				
				
				
			
		
			
			
			<h2 id="TxMempoolOption">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=588:625#L16">TxMempoolOption</a>
				<a class="permalink" href="index.html#TxMempoolOption">&#xb6;</a>
				
				
			</h2>
			<p>TxMempoolOption sets an optional parameter on the TxMempool.

			<pre>type TxMempoolOption func(*<a href="index.html#TxMempool">TxMempool</a>)</pre>

			

			

			
			
			

			
				
				<h3 id="WithMetrics">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=3607:3665#L99">WithMetrics</a>
					<a class="permalink" href="index.html#WithMetrics">&#xb6;</a>
					
					
				</h3>
				<pre>func WithMetrics(metrics *<a href="../index.html">mempool</a>.<a href="../index.html#Metrics">Metrics</a>) <a href="index.html#TxMempoolOption">TxMempoolOption</a></pre>
				<p>WithMetrics sets the mempool&apos;s metrics collector.

				
				
			
				
				<h3 id="WithPostCheck">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=3436:3495#L94">WithPostCheck</a>
					<a class="permalink" href="index.html#WithPostCheck">&#xb6;</a>
					
					
				</h3>
				<pre>func WithPostCheck(f <a href="../index.html">mempool</a>.<a href="../index.html#PostCheckFunc">PostCheckFunc</a>) <a href="index.html#TxMempoolOption">TxMempoolOption</a></pre>
				<p>WithPostCheck sets a filter for the mempool to reject a transaction if
f(tx, resp) returns an error. This is executed after CheckTx. It only applies
to the first created block. After that, Update overwrites the existing value.

				
				
			
				
				<h3 id="WithPreCheck">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/mempool.go?s=3085:3142#L87">WithPreCheck</a>
					<a class="permalink" href="index.html#WithPreCheck">&#xb6;</a>
					
					
				</h3>
				<pre>func WithPreCheck(f <a href="../index.html">mempool</a>.<a href="../index.html#PreCheckFunc">PreCheckFunc</a>) <a href="index.html#TxMempoolOption">TxMempoolOption</a></pre>
				<p>WithPreCheck sets a filter for the mempool to reject a transaction if f(tx)
returns an error. This is executed before CheckTx. It only applies to the
first created block. After that, Update() overwrites the existing value.

				
				
			

			
		
			
			
			<h2 id="TxsMessage">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=7659:7701#L265">TxsMessage</a>
				<a class="permalink" href="index.html#TxsMessage">&#xb6;</a>
				
				
			</h2>
			<p>TxsMessage is a Message containing transactions.

			<pre>type TxsMessage struct {
<span id="TxsMessage.Txs"></span>    Txs []<a href="../../types/index.html">types</a>.<a href="../../types/index.html#Tx">Tx</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="TxsMessage.String">func (*TxsMessage) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/reactor.go?s=7764:7800#L270">String</a>
					<a class="permalink" href="index.html#TxsMessage.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="index.html#TxsMessage">TxsMessage</a>) String() <a href="../../../../../builtin/index.html#string">string</a></pre>
				<p>String returns a string representation of the TxsMessage.

				
				
				
			
		
			
			
			<h2 id="WrappedTx">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=265:853#L3">WrappedTx</a>
				<a class="permalink" href="index.html#WrappedTx">&#xb6;</a>
				
				
			</h2>
			<p>WrappedTx defines a wrapper around a raw transaction with additional metadata
that is used for indexing.

			<pre>type WrappedTx struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="WrappedTx.GasWanted">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=1629:1666#L46">GasWanted</a>
					<a class="permalink" href="index.html#WrappedTx.GasWanted">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) GasWanted() <a href="../../../../../builtin/index.html#int64">int64</a></pre>
				<p>GasWanted reports the application-assigned gas requirement of w.

				
				
				
			
				
				<h3 id="WrappedTx.HasPeer">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=1271:1314#L31">HasPeer</a>
					<a class="permalink" href="index.html#WrappedTx.HasPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) HasPeer(id <a href="../../../../../builtin/index.html#uint16">uint16</a>) <a href="../../../../../builtin/index.html#bool">bool</a></pre>
				<p>HasPeer reports whether the specified peer ID is a sender of w.

				
				
				
			
				
				<h3 id="WrappedTx.Priority">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=2257:2293#L74">Priority</a>
					<a class="permalink" href="index.html#WrappedTx.Priority">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) Priority() <a href="../../../../../builtin/index.html#int64">int64</a></pre>
				<p>Priority reports the application-assigned priority of w.

				
				
				
			
				
				<h3 id="WrappedTx.Sender">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=1945:1980#L60">Sender</a>
					<a class="permalink" href="index.html#WrappedTx.Sender">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) Sender() <a href="../../../../../builtin/index.html#string">string</a></pre>
				<p>Sender reports the application-assigned sender of w.

				
				
				
			
				
				<h3 id="WrappedTx.SetGasWanted">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=1457:1500#L39">SetGasWanted</a>
					<a class="permalink" href="index.html#WrappedTx.SetGasWanted">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) SetGasWanted(gas <a href="../../../../../builtin/index.html#int64">int64</a>)</pre>
				<p>SetGasWanted sets the application-assigned gas requirement of w.

				
				
				
			
				
				<h3 id="WrappedTx.SetPeer">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=1031:1069#L20">SetPeer</a>
					<a class="permalink" href="index.html#WrappedTx.SetPeer">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) SetPeer(id <a href="../../../../../builtin/index.html#uint16">uint16</a>)</pre>
				<p>SetPeer adds the specified peer ID as a sender of w.

				
				
				
			
				
				<h3 id="WrappedTx.SetPriority">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=2099:2139#L67">SetPriority</a>
					<a class="permalink" href="index.html#WrappedTx.SetPriority">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) SetPriority(p <a href="../../../../../builtin/index.html#int64">int64</a>)</pre>
				<p>SetPriority sets the application-assigned priority of w.

				
				
				
			
				
				<h3 id="WrappedTx.SetSender">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=1784:1828#L53">SetSender</a>
					<a class="permalink" href="index.html#WrappedTx.SetSender">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) SetSender(sender <a href="../../../../../builtin/index.html#string">string</a>)</pre>
				<p>SetSender sets the application-assigned sender of w.

				
				
				
			
				
				<h3 id="WrappedTx.Size">func (*WrappedTx) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/mempool/v1/tx.go?s=913:945#L17">Size</a>
					<a class="permalink" href="index.html#WrappedTx.Size">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrappedTx">WrappedTx</a>) Size() <a href="../../../../../builtin/index.html#int64">int64</a></pre>
				<p>Size reports the size of the raw transaction in bytes.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
