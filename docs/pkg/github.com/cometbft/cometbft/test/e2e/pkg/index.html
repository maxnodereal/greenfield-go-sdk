<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>e2e - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package e2e
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/cometbft/cometbft/test/e2e/pkg"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
			
			
				
				<dd><a href="index.html#InfrastructureData">type InfrastructureData</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#InfrastructureDataFromFile">func InfrastructureDataFromFile(p string) (InfrastructureData, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewDockerInfrastructureData">func NewDockerInfrastructureData(m Manifest) (InfrastructureData, error)</a></dd>
				
				
			
				
				<dd><a href="index.html#InstanceData">type InstanceData</a></dd>
				
				
			
				
				<dd><a href="index.html#Manifest">type Manifest</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LoadManifest">func LoadManifest(file string) (Manifest, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Manifest.Save">func (m Manifest) Save(file string) error</a></dd>
				
			
				
				<dd><a href="index.html#ManifestNode">type ManifestNode</a></dd>
				
				
			
				
				<dd><a href="index.html#Mode">type Mode</a></dd>
				
				
			
				
				<dd><a href="index.html#Node">type Node</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Node.AddressP2P">func (n Node) AddressP2P(withID bool) string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Node.AddressRPC">func (n Node) AddressRPC() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Node.Client">func (n Node) Client() (*rpchttp.HTTP, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Node.Stateless">func (n Node) Stateless() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Node.Validate">func (n Node) Validate(testnet Testnet) error</a></dd>
				
			
				
				<dd><a href="index.html#Perturbation">type Perturbation</a></dd>
				
				
			
				
				<dd><a href="index.html#Protocol">type Protocol</a></dd>
				
				
			
				
				<dd><a href="index.html#Testnet">type Testnet</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LoadTestnet">func LoadTestnet(manifest Manifest, fname string, ifd InfrastructureData) (*Testnet, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Testnet.ArchiveNodes">func (t Testnet) ArchiveNodes() []*Node</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Testnet.HasPerturbations">func (t Testnet) HasPerturbations() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Testnet.IPv6">func (t Testnet) IPv6() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Testnet.LookupNode">func (t Testnet) LookupNode(name string) *Node</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Testnet.RandomNode">func (t Testnet) RandomNode() *Node</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Testnet.Validate">func (t Testnet) Validate() error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/infrastructure.go">infrastructure.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/manifest.go">manifest.go</a>
			
				<a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go">testnet.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="ModeValidator">ModeValidator</span> <a href="index.html#Mode">Mode</a> = &#34;validator&#34;
    <span id="ModeFull">ModeFull</span>      <a href="index.html#Mode">Mode</a> = &#34;full&#34;
    <span id="ModeLight">ModeLight</span>     <a href="index.html#Mode">Mode</a> = &#34;light&#34;
    <span id="ModeSeed">ModeSeed</span>      <a href="index.html#Mode">Mode</a> = &#34;seed&#34;

    <span id="ProtocolBuiltin">ProtocolBuiltin</span> <a href="index.html#Protocol">Protocol</a> = &#34;builtin&#34;
    <span id="ProtocolFile">ProtocolFile</span>    <a href="index.html#Protocol">Protocol</a> = &#34;file&#34;
    <span id="ProtocolGRPC">ProtocolGRPC</span>    <a href="index.html#Protocol">Protocol</a> = &#34;grpc&#34;
    <span id="ProtocolTCP">ProtocolTCP</span>     <a href="index.html#Protocol">Protocol</a> = &#34;tcp&#34;
    <span id="ProtocolUNIX">ProtocolUNIX</span>    <a href="index.html#Protocol">Protocol</a> = &#34;unix&#34;

    <span id="PerturbationDisconnect">PerturbationDisconnect</span> <a href="index.html#Perturbation">Perturbation</a> = &#34;disconnect&#34;
    <span id="PerturbationKill">PerturbationKill</span>       <a href="index.html#Perturbation">Perturbation</a> = &#34;kill&#34;
    <span id="PerturbationPause">PerturbationPause</span>      <a href="index.html#Perturbation">Perturbation</a> = &#34;pause&#34;
    <span id="PerturbationRestart">PerturbationRestart</span>    <a href="index.html#Perturbation">Perturbation</a> = &#34;restart&#34;
    <span id="PerturbationUpgrade">PerturbationUpgrade</span>    <a href="index.html#Perturbation">Perturbation</a> = &#34;upgrade&#34;

    <span id="EvidenceAgeHeight">EvidenceAgeHeight</span> <a href="../../../../../../builtin/index.html#int64">int64</a>         = 7
    <span id="EvidenceAgeTime">EvidenceAgeTime</span>   <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a> = 500 * <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Millisecond">Millisecond</a>
)</pre>
			
		
		
		
		
			
			
			<h2 id="InfrastructureData">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/infrastructure.go?s=312:1076#L9">InfrastructureData</a>
				<a class="permalink" href="index.html#InfrastructureData">&#xb6;</a>
				
				
			</h2>
			<p>InfrastructureData contains the relevant information for a set of existing
infrastructure that is to be used for running a testnet.

			<pre>type InfrastructureData struct {

<span id="InfrastructureData.Provider"></span>    <span class="comment">// Provider is the name of infrastructure provider backing the testnet.</span>
    <span class="comment">// For example, &#39;docker&#39; if it is running locally in a docker network or</span>
    <span class="comment">// &#39;digital-ocean&#39;, &#39;aws&#39;, &#39;google&#39;, etc. if it is from a cloud provider.</span>
    Provider <a href="../../../../../../builtin/index.html#string">string</a> `json:&#34;provider&#34;`

<span id="InfrastructureData.Instances"></span>    <span class="comment">// Instances is a map of all of the machine instances on which to run</span>
    <span class="comment">// processes for a testnet.</span>
    <span class="comment">// The key of the map is the name of the instance, which each must correspond</span>
    <span class="comment">// to the names of one of the testnet nodes defined in the testnet manifest.</span>
    Instances map[<a href="../../../../../../builtin/index.html#string">string</a>]<a href="index.html#InstanceData">InstanceData</a> `json:&#34;instances&#34;`

<span id="InfrastructureData.Network"></span>    <span class="comment">// Network is the CIDR notation range of IP addresses that all of the instances&#39;</span>
    <span class="comment">// IP addresses are expected to be within.</span>
    Network <a href="../../../../../../builtin/index.html#string">string</a> `json:&#34;network&#34;`
}
</pre>

			

			

			
			
			

			
				
				<h3 id="InfrastructureDataFromFile">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/infrastructure.go?s=1851:1920#L56">InfrastructureDataFromFile</a>
					<a class="permalink" href="index.html#InfrastructureDataFromFile">&#xb6;</a>
					
					
				</h3>
				<pre>func InfrastructureDataFromFile(p <a href="../../../../../../builtin/index.html#string">string</a>) (<a href="index.html#InfrastructureData">InfrastructureData</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				
				
				
			
				
				<h3 id="NewDockerInfrastructureData">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/infrastructure.go?s=1263:1335#L33">NewDockerInfrastructureData</a>
					<a class="permalink" href="index.html#NewDockerInfrastructureData">&#xb6;</a>
					
					
				</h3>
				<pre>func NewDockerInfrastructureData(m <a href="index.html#Manifest">Manifest</a>) (<a href="index.html#InfrastructureData">InfrastructureData</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				
				
				
			

			
		
			
			
			<h2 id="InstanceData">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/infrastructure.go?s=1195:1261#L29">InstanceData</a>
				<a class="permalink" href="index.html#InstanceData">&#xb6;</a>
				
				
			</h2>
			<p>InstanceData contains the relevant information for a machine instance backing
one of the nodes in the testnet.

			<pre>type InstanceData struct {
<span id="InstanceData.IPAddress"></span>    IPAddress <a href="../../../../../../net/index.html">net</a>.<a href="../../../../../../net/index.html#IP">IP</a> `json:&#34;ip_address&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Manifest">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/manifest.go?s=125:3238#L2">Manifest</a>
				<a class="permalink" href="index.html#Manifest">&#xb6;</a>
				
				
			</h2>
			<p>Manifest represents a TOML testnet manifest.

			<pre>type Manifest struct {
<span id="Manifest.IPv6"></span>    <span class="comment">// IPv6 uses IPv6 networking instead of IPv4. Defaults to IPv4.</span>
    IPv6 <a href="../../../../../../builtin/index.html#bool">bool</a> `toml:&#34;ipv6&#34;`

<span id="Manifest.InitialHeight"></span>    <span class="comment">// InitialHeight specifies the initial block height, set in genesis. Defaults to 1.</span>
    InitialHeight <a href="../../../../../../builtin/index.html#int64">int64</a> `toml:&#34;initial_height&#34;`

<span id="Manifest.InitialState"></span>    <span class="comment">// InitialState is an initial set of key/value pairs for the application,</span>
    <span class="comment">// set in genesis. Defaults to nothing.</span>
    InitialState map[<a href="../../../../../../builtin/index.html#string">string</a>]<a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;initial_state&#34;`

<span id="Manifest.Validators"></span>    <span class="comment">// Validators is the initial validator set in genesis, given as node names</span>
    <span class="comment">// and power:</span>
    <span class="comment">//</span>
    <span class="comment">// validators = { validator01 = 10; validator02 = 20; validator03 = 30 }</span>
    <span class="comment">//</span>
    <span class="comment">// Defaults to all nodes that have mode=validator at power 100. Explicitly</span>
    <span class="comment">// specifying an empty set will start with no validators in genesis, and</span>
    <span class="comment">// the application must return the validator set in InitChain via the</span>
    <span class="comment">// setting validator_update.0 (see below).</span>
    Validators *map[<a href="../../../../../../builtin/index.html#string">string</a>]<a href="../../../../../../builtin/index.html#int64">int64</a> `toml:&#34;validators&#34;`

<span id="Manifest.ValidatorUpdates"></span>    <span class="comment">// ValidatorUpdates is a map of heights to validator names and their power,</span>
    <span class="comment">// and will be returned by the ABCI application. For example, the following</span>
    <span class="comment">// changes the power of validator01 and validator02 at height 1000:</span>
    <span class="comment">//</span>
    <span class="comment">// [validator_update.1000]</span>
    <span class="comment">// validator01 = 20</span>
    <span class="comment">// validator02 = 10</span>
    <span class="comment">//</span>
    <span class="comment">// Specifying height 0 returns the validator update during InitChain. The</span>
    <span class="comment">// application returns the validator updates as-is, i.e. removing a</span>
    <span class="comment">// validator must be done by returning it with power 0, and any validators</span>
    <span class="comment">// not specified are not changed.</span>
    ValidatorUpdates map[<a href="../../../../../../builtin/index.html#string">string</a>]map[<a href="../../../../../../builtin/index.html#string">string</a>]<a href="../../../../../../builtin/index.html#int64">int64</a> `toml:&#34;validator_update&#34;`

<span id="Manifest.Nodes"></span>    <span class="comment">// Nodes specifies the network nodes. At least one node must be given.</span>
    Nodes map[<a href="../../../../../../builtin/index.html#string">string</a>]*<a href="index.html#ManifestNode">ManifestNode</a> `toml:&#34;node&#34;`

<span id="Manifest.KeyType"></span>    <span class="comment">// KeyType sets the curve that will be used by validators.</span>
    <span class="comment">// Options are ed25519 &amp; secp256k1</span>
    KeyType <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;key_type&#34;`

<span id="Manifest.Evidence"></span>    <span class="comment">// Evidence indicates the amount of evidence that will be injected into the</span>
    <span class="comment">// testnet via the RPC endpoint of a random node. Default is 0</span>
    Evidence <a href="../../../../../../builtin/index.html#int">int</a> `toml:&#34;evidence&#34;`

<span id="Manifest.ABCIProtocol"></span>    <span class="comment">// ABCIProtocol specifies the protocol used to communicate with the ABCI</span>
    <span class="comment">// application: &#34;unix&#34;, &#34;tcp&#34;, &#34;grpc&#34;, or &#34;builtin&#34;. Defaults to builtin.</span>
    <span class="comment">// builtin will build a complete CometBFT node into the application and</span>
    <span class="comment">// launch it instead of launching a separate CometBFT process.</span>
    ABCIProtocol <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;abci_protocol&#34;`

    <span class="comment">// Add artificial delays to each of the main ABCI calls to mimic computation time</span>
    <span class="comment">// of the application</span>
<span id="Manifest.PrepareProposalDelay"></span>    PrepareProposalDelay <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a> `toml:&#34;prepare_proposal_delay&#34;`
<span id="Manifest.ProcessProposalDelay"></span>    ProcessProposalDelay <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a> `toml:&#34;process_proposal_delay&#34;`
<span id="Manifest.CheckTxDelay"></span>    CheckTxDelay         <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a> `toml:&#34;check_tx_delay&#34;`

<span id="Manifest.UpgradeVersion"></span>    <span class="comment">// UpgradeVersion specifies to which version nodes need to upgrade.</span>
    <span class="comment">// Currently only uncoordinated upgrade is supported</span>
    UpgradeVersion <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;upgrade_version&#34;`

<span id="Manifest.LoadTxSizeBytes"></span>    LoadTxSizeBytes   <a href="../../../../../../builtin/index.html#int">int</a> `toml:&#34;load_tx_size_bytes&#34;`
<span id="Manifest.LoadTxBatchSize"></span>    LoadTxBatchSize   <a href="../../../../../../builtin/index.html#int">int</a> `toml:&#34;load_tx_batch_size&#34;`
<span id="Manifest.LoadTxConnections"></span>    LoadTxConnections <a href="../../../../../../builtin/index.html#int">int</a> `toml:&#34;load_tx_connections&#34;`

    <span class="comment">// Enable or disable Prometheus metrics on all nodes.</span>
    <span class="comment">// Defaults to false (disabled).</span>
<span id="Manifest.Prometheus"></span>    Prometheus <a href="../../../../../../builtin/index.html#bool">bool</a> `toml:&#34;prometheus&#34;`
}
</pre>

			

			

			
			
			

			
				
				<h3 id="LoadManifest">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/manifest.go?s=7462:7510#L168">LoadManifest</a>
					<a class="permalink" href="index.html#LoadManifest">&#xb6;</a>
					
					
				</h3>
				<pre>func LoadManifest(file <a href="../../../../../../builtin/index.html#string">string</a>) (<a href="index.html#Manifest">Manifest</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>LoadManifest loads a testnet manifest from a file.

				
				
			

			
				
				<h3 id="Manifest.Save">func (Manifest) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/manifest.go?s=7205:7246#L159">Save</a>
					<a class="permalink" href="index.html#Manifest.Save">&#xb6;</a>
					
					
				</h3>
				<pre>func (m <a href="index.html#Manifest">Manifest</a>) Save(file <a href="../../../../../../builtin/index.html#string">string</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>Save saves the testnet manifest to a file.

				
				
				
			
		
			
			
			<h2 id="ManifestNode">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/manifest.go?s=3297:7157#L76">ManifestNode</a>
				<a class="permalink" href="index.html#ManifestNode">&#xb6;</a>
				
				
			</h2>
			<p>ManifestNode represents a node in a testnet manifest.

			<pre>type ManifestNode struct {
<span id="ManifestNode.Mode"></span>    <span class="comment">// Mode specifies the type of node: &#34;validator&#34;, &#34;full&#34;, &#34;light&#34; or &#34;seed&#34;.</span>
    <span class="comment">// Defaults to &#34;validator&#34;. Full nodes do not get a signing key (a dummy key</span>
    <span class="comment">// is generated), and seed nodes run in seed mode with the PEX reactor enabled.</span>
    Mode <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;mode&#34;`

<span id="ManifestNode.Version"></span>    <span class="comment">// Version specifies which version of CometBFT this node is. Specifying different</span>
    <span class="comment">// versions for different nodes allows for testing the interaction of different</span>
    <span class="comment">// node&#39;s compatibility. Note that in order to use a node at a particular version,</span>
    <span class="comment">// there must be a docker image of the test app tagged with this version present</span>
    <span class="comment">// on the machine where the test is being run.</span>
    Version <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;version&#34;`

<span id="ManifestNode.Seeds"></span>    <span class="comment">// Seeds is the list of node names to use as P2P seed nodes. Defaults to none.</span>
    Seeds []<a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;seeds&#34;`

<span id="ManifestNode.PersistentPeers"></span>    <span class="comment">// PersistentPeers is a list of node names to maintain persistent P2P</span>
    <span class="comment">// connections to. If neither seeds nor persistent peers are specified,</span>
    <span class="comment">// this defaults to all other nodes in the network. For light clients,</span>
    <span class="comment">// this relates to the providers the light client is connected to.</span>
    PersistentPeers []<a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;persistent_peers&#34;`

<span id="ManifestNode.Database"></span>    <span class="comment">// Database specifies the database backend: &#34;goleveldb&#34;, &#34;cleveldb&#34;,</span>
    <span class="comment">// &#34;rocksdb&#34;, &#34;boltdb&#34;, or &#34;badgerdb&#34;. Defaults to goleveldb.</span>
    Database <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;database&#34;`

<span id="ManifestNode.PrivvalProtocol"></span>    <span class="comment">// PrivvalProtocol specifies the protocol used to sign consensus messages:</span>
    <span class="comment">// &#34;file&#34;, &#34;unix&#34;, or &#34;tcp&#34;. Defaults to &#34;file&#34;. For unix and tcp, the ABCI</span>
    <span class="comment">// application will launch a remote signer client in a separate goroutine.</span>
    <span class="comment">// Only nodes with mode=validator will actually make use of this.</span>
    PrivvalProtocol <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;privval_protocol&#34;`

<span id="ManifestNode.StartAt"></span>    <span class="comment">// StartAt specifies the block height at which the node will be started. The</span>
    <span class="comment">// runner will wait for the network to reach at least this block height.</span>
    StartAt <a href="../../../../../../builtin/index.html#int64">int64</a> `toml:&#34;start_at&#34;`

<span id="ManifestNode.BlockSync"></span>    <span class="comment">// BlockSync specifies the block sync mode: &#34;&#34; (disable), &#34;v0&#34; or &#34;v2&#34;.</span>
    <span class="comment">// Defaults to disabled.</span>
    <span class="comment">//</span>
    <span class="comment">// Note that BlockSync will always be enabled in the next major release and the</span>
    <span class="comment">// `block_sync` key will be removed from the config file.</span>
    BlockSync <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;block_sync&#34;`

<span id="ManifestNode.Mempool"></span>    <span class="comment">// Mempool specifies which version of mempool to use. Either &#34;v0&#34; or &#34;v1&#34;</span>
    <span class="comment">// This defaults to v0.</span>
    Mempool <a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;mempool_version&#34;`

<span id="ManifestNode.StateSync"></span>    <span class="comment">// StateSync enables state sync. The runner automatically configures trusted</span>
    <span class="comment">// block hashes and RPC servers. At least one node in the network must have</span>
<span id="ManifestNode.SnapshotInterval"></span>    <span class="comment">// SnapshotInterval set to non-zero, and the state syncing node must have</span>
    <span class="comment">// StartAt set to an appropriate height where a snapshot is available.</span>
    StateSync <a href="../../../../../../builtin/index.html#bool">bool</a> `toml:&#34;state_sync&#34;`

<span id="ManifestNode.PersistInterval"></span>    <span class="comment">// PersistInterval specifies the height interval at which the application</span>
    <span class="comment">// will persist state to disk. Defaults to 1 (every height), setting this to</span>
    <span class="comment">// 0 disables state persistence.</span>
    PersistInterval *<a href="../../../../../../builtin/index.html#uint64">uint64</a> `toml:&#34;persist_interval&#34;`

    <span class="comment">// SnapshotInterval specifies the height interval at which the application</span>
    <span class="comment">// will take state sync snapshots. Defaults to 0 (disabled).</span>
    SnapshotInterval <a href="../../../../../../builtin/index.html#uint64">uint64</a> `toml:&#34;snapshot_interval&#34;`

<span id="ManifestNode.RetainBlocks"></span>    <span class="comment">// RetainBlocks specifies the number of recent blocks to retain. Defaults to</span>
    <span class="comment">// 0, which retains all blocks. Must be greater that PersistInterval and</span>
    <span class="comment">// SnapshotInterval.</span>
    RetainBlocks <a href="../../../../../../builtin/index.html#uint64">uint64</a> `toml:&#34;retain_blocks&#34;`

<span id="ManifestNode.Perturb"></span>    <span class="comment">// Perturb lists perturbations to apply to the node after it has been</span>
    <span class="comment">// started and synced with the network:</span>
    <span class="comment">//</span>
    <span class="comment">// disconnect: temporarily disconnects the node from the network</span>
    <span class="comment">// kill:       kills the node with SIGKILL then restarts it</span>
    <span class="comment">// pause:      temporarily pauses (freezes) the node</span>
    <span class="comment">// restart:    restarts the node, shutting it down with SIGTERM</span>
    Perturb []<a href="../../../../../../builtin/index.html#string">string</a> `toml:&#34;perturb&#34;`

<span id="ManifestNode.SendNoLoad"></span>    <span class="comment">// SendNoLoad determines if the e2e test should send load to this node.</span>
    <span class="comment">// It defaults to false so unless the configured, the node will</span>
    <span class="comment">// receive load.</span>
    SendNoLoad <a href="../../../../../../builtin/index.html#bool">bool</a> `toml:&#34;send_no_load&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Mode">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=590:609#L24">Mode</a>
				<a class="permalink" href="index.html#Mode">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Mode <a href="../../../../../../builtin/index.html#string">string</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Node">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=2050:2765#L76">Node</a>
				<a class="permalink" href="index.html#Node">&#xb6;</a>
				
				
			</h2>
			<p>Node represents a CometBFT node in a testnet.

			<pre>type Node struct {
<span id="Node.Name"></span>    Name                <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Node.Version"></span>    Version             <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Node.Testnet"></span>    Testnet             *<a href="index.html#Testnet">Testnet</a>
<span id="Node.Mode"></span>    Mode                <a href="index.html#Mode">Mode</a>
<span id="Node.PrivvalKey"></span>    PrivvalKey          <a href="../../../crypto/index.html">crypto</a>.<a href="../../../crypto/index.html#PrivKey">PrivKey</a>
<span id="Node.NodeKey"></span>    NodeKey             <a href="../../../crypto/index.html">crypto</a>.<a href="../../../crypto/index.html#PrivKey">PrivKey</a>
<span id="Node.IP"></span>    IP                  <a href="../../../../../../net/index.html">net</a>.<a href="../../../../../../net/index.html#IP">IP</a>
<span id="Node.ProxyPort"></span>    ProxyPort           <a href="../../../../../../builtin/index.html#uint32">uint32</a>
<span id="Node.StartAt"></span>    StartAt             <a href="../../../../../../builtin/index.html#int64">int64</a>
<span id="Node.BlockSync"></span>    BlockSync           <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Node.StateSync"></span>    StateSync           <a href="../../../../../../builtin/index.html#bool">bool</a>
<span id="Node.Mempool"></span>    Mempool             <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Node.Database"></span>    Database            <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Node.ABCIProtocol"></span>    ABCIProtocol        <a href="index.html#Protocol">Protocol</a>
<span id="Node.PrivvalProtocol"></span>    PrivvalProtocol     <a href="index.html#Protocol">Protocol</a>
<span id="Node.PersistInterval"></span>    PersistInterval     <a href="../../../../../../builtin/index.html#uint64">uint64</a>
<span id="Node.SnapshotInterval"></span>    SnapshotInterval    <a href="../../../../../../builtin/index.html#uint64">uint64</a>
<span id="Node.RetainBlocks"></span>    RetainBlocks        <a href="../../../../../../builtin/index.html#uint64">uint64</a>
<span id="Node.Seeds"></span>    Seeds               []*<a href="index.html#Node">Node</a>
<span id="Node.PersistentPeers"></span>    PersistentPeers     []*<a href="index.html#Node">Node</a>
<span id="Node.Perturbations"></span>    Perturbations       []<a href="index.html#Perturbation">Perturbation</a>
<span id="Node.SendNoLoad"></span>    SendNoLoad          <a href="../../../../../../builtin/index.html#bool">bool</a>
<span id="Node.Prometheus"></span>    Prometheus          <a href="../../../../../../builtin/index.html#bool">bool</a>
<span id="Node.PrometheusProxyPort"></span>    PrometheusProxyPort <a href="../../../../../../builtin/index.html#uint32">uint32</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Node.AddressP2P">func (Node) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=14408:14452#L464">AddressP2P</a>
					<a class="permalink" href="index.html#Node.AddressP2P">&#xb6;</a>
					
					
				</h3>
				<pre>func (n <a href="index.html#Node">Node</a>) AddressP2P(withID <a href="../../../../../../builtin/index.html#bool">bool</a>) <a href="../../../../../../builtin/index.html#string">string</a></pre>
				<p>Address returns a P2P endpoint address for the node.

				
				
				
			
				
				<h3 id="Node.AddressRPC">func (Node) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=14816:14849#L478">AddressRPC</a>
					<a class="permalink" href="index.html#Node.AddressRPC">&#xb6;</a>
					
					
				</h3>
				<pre>func (n <a href="index.html#Node">Node</a>) AddressRPC() <a href="../../../../../../builtin/index.html#string">string</a></pre>
				<p>Address returns an RPC endpoint address for the node.

				
				
				
			
				
				<h3 id="Node.Client">func (Node) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=15096:15141#L488">Client</a>
					<a class="permalink" href="index.html#Node.Client">&#xb6;</a>
					
					
				</h3>
				<pre>func (n <a href="index.html#Node">Node</a>) Client() (*<a href="../../../rpc/client/http/index.html">rpchttp</a>.<a href="../../../rpc/client/http/index.html#HTTP">HTTP</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Client returns an RPC client for a node.

				
				
				
			
				
				<h3 id="Node.Stateless">func (Node) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=15306:15336#L493">Stateless</a>
					<a class="permalink" href="index.html#Node.Stateless">&#xb6;</a>
					
					
				</h3>
				<pre>func (n <a href="index.html#Node">Node</a>) Stateless() <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>Stateless returns true if the node is either a seed node or a light node

				
				
				
			
				
				<h3 id="Node.Validate">func (Node) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=9848:9893#L319">Validate</a>
					<a class="permalink" href="index.html#Node.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (n <a href="index.html#Node">Node</a>) Validate(testnet <a href="index.html#Testnet">Testnet</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>Validate validates a node.

				
				
				
			
		
			
			
			<h2 id="Perturbation">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=632:651#L26">Perturbation</a>
				<a class="permalink" href="index.html#Perturbation">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Perturbation <a href="../../../../../../builtin/index.html#string">string</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Protocol">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=611:630#L25">Protocol</a>
				<a class="permalink" href="index.html#Protocol">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Protocol <a href="../../../../../../builtin/index.html#string">string</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Testnet">type <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=1346:1999#L52">Testnet</a>
				<a class="permalink" href="index.html#Testnet">&#xb6;</a>
				
				
			</h2>
			<p>Testnet represents a single testnet.

			<pre>type Testnet struct {
<span id="Testnet.Name"></span>    Name                 <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.File"></span>    File                 <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.Dir"></span>    Dir                  <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.IP"></span>    IP                   *<a href="../../../../../../net/index.html">net</a>.<a href="../../../../../../net/index.html#IPNet">IPNet</a>
<span id="Testnet.InitialHeight"></span>    InitialHeight        <a href="../../../../../../builtin/index.html#int64">int64</a>
<span id="Testnet.InitialState"></span>    InitialState         map[<a href="../../../../../../builtin/index.html#string">string</a>]<a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.Validators"></span>    Validators           map[*<a href="index.html#Node">Node</a>]<a href="../../../../../../builtin/index.html#int64">int64</a>
<span id="Testnet.ValidatorUpdates"></span>    ValidatorUpdates     map[<a href="../../../../../../builtin/index.html#int64">int64</a>]map[*<a href="index.html#Node">Node</a>]<a href="../../../../../../builtin/index.html#int64">int64</a>
<span id="Testnet.Nodes"></span>    Nodes                []*<a href="index.html#Node">Node</a>
<span id="Testnet.KeyType"></span>    KeyType              <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.Evidence"></span>    Evidence             <a href="../../../../../../builtin/index.html#int">int</a>
<span id="Testnet.LoadTxSizeBytes"></span>    LoadTxSizeBytes      <a href="../../../../../../builtin/index.html#int">int</a>
<span id="Testnet.LoadTxBatchSize"></span>    LoadTxBatchSize      <a href="../../../../../../builtin/index.html#int">int</a>
<span id="Testnet.LoadTxConnections"></span>    LoadTxConnections    <a href="../../../../../../builtin/index.html#int">int</a>
<span id="Testnet.ABCIProtocol"></span>    ABCIProtocol         <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.PrepareProposalDelay"></span>    PrepareProposalDelay <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>
<span id="Testnet.ProcessProposalDelay"></span>    ProcessProposalDelay <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>
<span id="Testnet.CheckTxDelay"></span>    CheckTxDelay         <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>
<span id="Testnet.UpgradeVersion"></span>    UpgradeVersion       <a href="../../../../../../builtin/index.html#string">string</a>
<span id="Testnet.Prometheus"></span>    Prometheus           <a href="../../../../../../builtin/index.html#bool">bool</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="LoadTestnet">func <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=3108:3199#L108">LoadTestnet</a>
					<a class="permalink" href="index.html#LoadTestnet">&#xb6;</a>
					
					
				</h3>
				<pre>func LoadTestnet(manifest <a href="index.html#Manifest">Manifest</a>, fname <a href="../../../../../../builtin/index.html#string">string</a>, ifd <a href="index.html#InfrastructureData">InfrastructureData</a>) (*<a href="index.html#Testnet">Testnet</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>LoadTestnet loads a testnet from a manifest file, using the filename to
determine the testnet name and directory (from the basename of the file).
The testnet generation must be deterministic, since it is generated
separately by the runner and the test cases. For this reason, testnets use a
random seed to generate e.g. keys.

				
				
			

			
				
				<h3 id="Testnet.ArchiveNodes">func (Testnet) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=13589:13628#L428">ArchiveNodes</a>
					<a class="permalink" href="index.html#Testnet.ArchiveNodes">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#Testnet">Testnet</a>) ArchiveNodes() []*<a href="index.html#Node">Node</a></pre>
				<p>ArchiveNodes returns a list of archive nodes that start at the initial height
and contain the entire blockchain history. They are used e.g. as light client
RPC servers.

				
				
				
			
				
				<h3 id="Testnet.HasPerturbations">func (Testnet) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=14203:14243#L454">HasPerturbations</a>
					<a class="permalink" href="index.html#Testnet.HasPerturbations">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#Testnet">Testnet</a>) HasPerturbations() <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>HasPerturbations returns whether the network has any perturbations.

				
				
				
			
				
				<h3 id="Testnet.IPv6">func (Testnet) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=14069:14097#L449">IPv6</a>
					<a class="permalink" href="index.html#Testnet.IPv6">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#Testnet">Testnet</a>) IPv6() <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IPv6 returns true if the testnet is an IPv6 network.

				
				
				
			
				
				<h3 id="Testnet.LookupNode">func (Testnet) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=13268:13314#L416">LookupNode</a>
					<a class="permalink" href="index.html#Testnet.LookupNode">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#Testnet">Testnet</a>) LookupNode(name <a href="../../../../../../builtin/index.html#string">string</a>) *<a href="index.html#Node">Node</a></pre>
				<p>LookupNode looks up a node by name. For now, simply do a linear search.

				
				
				
			
				
				<h3 id="Testnet.RandomNode">func (Testnet) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=13856:13891#L439">RandomNode</a>
					<a class="permalink" href="index.html#Testnet.RandomNode">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#Testnet">Testnet</a>) RandomNode() *<a href="index.html#Node">Node</a></pre>
				<p>RandomNode returns a random non-seed node.

				
				
				
			
				
				<h3 id="Testnet.Validate">func (Testnet) <a href="http://localhost:6060/src/github.com/cometbft/cometbft/test/e2e/pkg/testnet.go?s=9427:9460#L300">Validate</a>
					<a class="permalink" href="index.html#Testnet.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#Testnet">Testnet</a>) Validate() <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>Validate validates a testnet.

				
				
				
			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="infra/index.html">infra</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="infra/docker/index.html">docker</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
