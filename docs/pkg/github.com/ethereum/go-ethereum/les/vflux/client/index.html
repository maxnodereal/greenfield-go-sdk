<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>client - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package client
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/ethereum/go-ethereum/les/vflux/client"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#StatScaleToTime">func StatScaleToTime(r float64) time.Duration</a></dd>
			
				
				<dd><a href="index.html#TimeToStatScale">func TimeToStatScale(d time.Duration) float64</a></dd>
			
			
				
				<dd><a href="index.html#FillSet">type FillSet</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewFillSet">func NewFillSet(ns *nodestate.NodeStateMachine, input enode.Iterator, flags nodestate.Flags) *FillSet</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FillSet.Close">func (fs *FillSet) Close()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FillSet.SetTarget">func (fs *FillSet) SetTarget(target int)</a></dd>
				
			
				
				<dd><a href="index.html#NodeValueTracker">type NodeValueTracker</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NodeValueTracker.RtStats">func (nv *NodeValueTracker) RtStats() ResponseTimeStats</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NodeValueTracker.Served">func (nv *NodeValueTracker) Served(reqs []ServedRequest, respTime time.Duration)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NodeValueTracker.UpdateCosts">func (nv *NodeValueTracker) UpdateCosts(reqCosts []uint64)</a></dd>
				
			
				
				<dd><a href="index.html#PrivateClientAPI">type PrivateClientAPI</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPrivateClientAPI">func NewPrivateClientAPI(vt *ValueTracker) *PrivateClientAPI</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PrivateClientAPI.Distribution">func (api *PrivateClientAPI) Distribution(nodeStr string, normalized bool) (RtDistribution, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PrivateClientAPI.RequestStats">func (api *PrivateClientAPI) RequestStats() []RequestStatsItem</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PrivateClientAPI.Timeout">func (api *PrivateClientAPI) Timeout(nodeStr string, failRate float64) (float64, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PrivateClientAPI.Value">func (api *PrivateClientAPI) Value(nodeStr string, timeout float64) (float64, error)</a></dd>
				
			
				
				<dd><a href="index.html#QueryFunc">type QueryFunc</a></dd>
				
				
			
				
				<dd><a href="index.html#QueueIterator">type QueueIterator</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewQueueIterator">func NewQueueIterator(ns *nodestate.NodeStateMachine, requireFlags, disableFlags nodestate.Flags, fifo bool, waitCallback func(bool)) *QueueIterator</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#QueueIterator.Close">func (qi *QueueIterator) Close()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#QueueIterator.Next">func (qi *QueueIterator) Next() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#QueueIterator.Node">func (qi *QueueIterator) Node() *enode.Node</a></dd>
				
			
				
				<dd><a href="index.html#RequestInfo">type RequestInfo</a></dd>
				
				
			
				
				<dd><a href="index.html#RequestStatsItem">type RequestStatsItem</a></dd>
				
				
			
				
				<dd><a href="index.html#ResponseTimeStats">type ResponseTimeStats</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.Add">func (rt *ResponseTimeStats) Add(respTime time.Duration, weight float64, expFactor utils.ExpirationFactor)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.AddStats">func (rt *ResponseTimeStats) AddStats(s *ResponseTimeStats)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.DecodeRLP">func (rt *ResponseTimeStats) DecodeRLP(s *rlp.Stream) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.Distribution">func (rt ResponseTimeStats) Distribution(normalized bool, expFactor utils.ExpirationFactor) (res RtDistribution)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.EncodeRLP">func (rt *ResponseTimeStats) EncodeRLP(w io.Writer) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.SubStats">func (rt *ResponseTimeStats) SubStats(s *ResponseTimeStats)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.Timeout">func (rt ResponseTimeStats) Timeout(failRatio float64) time.Duration</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ResponseTimeStats.Value">func (rt ResponseTimeStats) Value(weights ResponseTimeWeights, expFactor utils.ExpirationFactor) float64</a></dd>
				
			
				
				<dd><a href="index.html#ResponseTimeWeights">type ResponseTimeWeights</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TimeoutWeights">func TimeoutWeights(timeout time.Duration) (res ResponseTimeWeights)</a></dd>
				
				
			
				
				<dd><a href="index.html#RtDistribution">type RtDistribution</a></dd>
				
				
			
				
				<dd><a href="index.html#ServedRequest">type ServedRequest</a></dd>
				
				
			
				
				<dd><a href="index.html#ServerPool">type ServerPool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewServerPool">func NewServerPool(db ethdb.KeyValueStore, dbKey []byte, mixTimeout time.Duration, query QueryFunc, clock mclock.Clock, trustedURLs []string, requestList []RequestInfo) (*ServerPool, enode.Iterator)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.API">func (s *ServerPool) API() *PrivateClientAPI</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.AddMetrics">func (s *ServerPool) AddMetrics(suggestedTimeoutGauge, totalValueGauge, serverSelectableGauge, serverConnectedGauge metrics.Gauge, sessionValueMeter, serverDialedMeter metrics.Meter)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.AddSource">func (s *ServerPool) AddSource(source enode.Iterator)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.DialNode">func (s *ServerPool) DialNode(n *enode.Node) *enode.Node</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.GetTimeout">func (s *ServerPool) GetTimeout() time.Duration</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.Persist">func (s *ServerPool) Persist(n *enode.Node)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.RegisterNode">func (s *ServerPool) RegisterNode(node *enode.Node) (*NodeValueTracker, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.Start">func (s *ServerPool) Start()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.Stop">func (s *ServerPool) Stop()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ServerPool.UnregisterNode">func (s *ServerPool) UnregisterNode(node *enode.Node)</a></dd>
				
			
				
				<dd><a href="index.html#ValueTracker">type ValueTracker</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewValueTracker">func NewValueTracker(db ethdb.KeyValueStore, clock mclock.Clock, reqInfo []RequestInfo, updatePeriod time.Duration, transferRate, statsExpRate, offlineExpRate float64) *ValueTracker</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.GetNode">func (vt *ValueTracker) GetNode(id enode.ID) *NodeValueTracker</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.Register">func (vt *ValueTracker) Register(id enode.ID) *NodeValueTracker</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.RequestStats">func (vt *ValueTracker) RequestStats() []RequestStatsItem</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.RtStats">func (vt *ValueTracker) RtStats() ResponseTimeStats</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.StatsExpFactor">func (vt *ValueTracker) StatsExpFactor() utils.ExpirationFactor</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.StatsExpirer">func (vt *ValueTracker) StatsExpirer() *utils.Expirer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.Stop">func (vt *ValueTracker) Stop()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValueTracker.Unregister">func (vt *ValueTracker) Unregister(id enode.ID)</a></dd>
				
			
				
				<dd><a href="index.html#WrsIterator">type WrsIterator</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewWrsIterator">func NewWrsIterator(ns *nodestate.NodeStateMachine, requireFlags, disableFlags nodestate.Flags, weightField nodestate.Field) *WrsIterator</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrsIterator.Close">func (w *WrsIterator) Close()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrsIterator.Next">func (w *WrsIterator) Next() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WrsIterator.Node">func (w *WrsIterator) Node() *enode.Node</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go">api.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/fillset.go">fillset.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/queueiterator.go">queueiterator.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/requestbasket.go">requestbasket.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go">serverpool.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go">timestats.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go">valuetracker.go</a>
			
				<a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/wrsiterator.go">wrsiterator.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="StatScaleToTime">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=2293:2338#L60">StatScaleToTime</a>
				<a class="permalink" href="index.html#StatScaleToTime">&#xb6;</a>
				
				
			</h2>
			<pre>func StatScaleToTime(r <a href="../../../../../../builtin/index.html#float64">float64</a>) <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a></pre>
			<p>StatScaleToTime converts a distribution vector index to a response time. The index
is represented by a float64 so that linear interpolation can be applied.

			
			

		
			
			
			<h2 id="TimeToStatScale">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=1880:1925#L43">TimeToStatScale</a>
				<a class="permalink" href="index.html#TimeToStatScale">&#xb6;</a>
				
				
			</h2>
			<pre>func TimeToStatScale(d <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>) <a href="../../../../../../builtin/index.html#float64">float64</a></pre>
			<p>TimeToStatScale converts a response time to a distribution vector index. The index
is represented by a float64 so that linear interpolation can be applied.

			
			

		
		
			
			
			<h2 id="FillSet">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/fillset.go?s=1306:1524#L21">FillSet</a>
				<a class="permalink" href="index.html#FillSet">&#xb6;</a>
				
				
			</h2>
			<p>FillSet tries to read nodes from an input iterator and add them to a node set by
setting the specified node state flag(s) until the size of the set reaches the target.
Note that other mechanisms (like other FillSet instances reading from different inputs)
can also set the same flag(s) and FillSet will always care about the total number of
nodes having those flags.

			<pre>type FillSet struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewFillSet">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/fillset.go?s=1562:1663#L32">NewFillSet</a>
					<a class="permalink" href="index.html#NewFillSet">&#xb6;</a>
					
					
				</h3>
				<pre>func NewFillSet(ns *<a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#NodeStateMachine">NodeStateMachine</a>, input <a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Iterator">Iterator</a>, flags <a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#Flags">Flags</a>) *<a href="index.html#FillSet">FillSet</a></pre>
				<p>NewFillSet creates a new FillSet

				
				
			

			
				
				<h3 id="FillSet.Close">func (*FillSet) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/fillset.go?s=3012:3038#L90">Close</a>
					<a class="permalink" href="index.html#FillSet.Close">&#xb6;</a>
					
					
				</h3>
				<pre>func (fs *<a href="index.html#FillSet">FillSet</a>) Close()</pre>
				<p>Close shuts FillSet down and closes the input iterator

				
				
				
			
				
				<h3 id="FillSet.SetTarget">func (*FillSet) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/fillset.go?s=2798:2838#L79">SetTarget</a>
					<a class="permalink" href="index.html#FillSet.SetTarget">&#xb6;</a>
					
					
				</h3>
				<pre>func (fs *<a href="index.html#FillSet">FillSet</a>) SetTarget(target <a href="../../../../../../builtin/index.html#int">int</a>)</pre>
				<p>SetTarget sets the current target for node set size. If the previous target was not
reached and FillSet was still waiting for the next node from the input then the next
incoming node will be added to the set regardless of the target. This ensures that
all nodes coming from the input are eventually added to the set.

				
				
				
			
		
			
			
			<h2 id="NodeValueTracker">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=1405:1666#L35">NodeValueTracker</a>
				<a class="permalink" href="index.html#NodeValueTracker">&#xb6;</a>
				
				
			</h2>
			<p>NodeValueTracker collects service value statistics for a specific server node

			<pre>type NodeValueTracker struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="NodeValueTracker.RtStats">func (*NodeValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=4104:4159#L111">RtStats</a>
					<a class="permalink" href="index.html#NodeValueTracker.RtStats">&#xb6;</a>
					
					
				</h3>
				<pre>func (nv *<a href="index.html#NodeValueTracker">NodeValueTracker</a>) RtStats() <a href="index.html#ResponseTimeStats">ResponseTimeStats</a></pre>
				<p>RtStats returns the node&apos;s own response time distribution statistics

				
				
				
			
				
				<h3 id="NodeValueTracker.Served">func (*NodeValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=3575:3655#L94">Served</a>
					<a class="permalink" href="index.html#NodeValueTracker.Served">&#xb6;</a>
					
					
				</h3>
				<pre>func (nv *<a href="index.html#NodeValueTracker">NodeValueTracker</a>) Served(reqs []<a href="index.html#ServedRequest">ServedRequest</a>, respTime <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>)</pre>
				<p>Served adds a served request to the node&apos;s statistics. An actual request may be composed
of one or more request types (service vector indices).

				
				
				
			
				
				<h3 id="NodeValueTracker.UpdateCosts">func (*NodeValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=1735:1793#L47">UpdateCosts</a>
					<a class="permalink" href="index.html#NodeValueTracker.UpdateCosts">&#xb6;</a>
					
					
				</h3>
				<pre>func (nv *<a href="index.html#NodeValueTracker">NodeValueTracker</a>) UpdateCosts(reqCosts []<a href="../../../../../../builtin/index.html#uint64">uint64</a>)</pre>
				<p>UpdateCosts updates the node value tracker&apos;s request cost table

				
				
				
			
		
			
			
			<h2 id="PrivateClientAPI">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go?s=1026:1076#L18">PrivateClientAPI</a>
				<a class="permalink" href="index.html#PrivateClientAPI">&#xb6;</a>
				
				
			</h2>
			<p>PrivateClientAPI implements the vflux client side API

			<pre>type PrivateClientAPI struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPrivateClientAPI">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go?s=1128:1188#L23">NewPrivateClientAPI</a>
					<a class="permalink" href="index.html#NewPrivateClientAPI">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPrivateClientAPI(vt *<a href="index.html#ValueTracker">ValueTracker</a>) *<a href="index.html#PrivateClientAPI">PrivateClientAPI</a></pre>
				<p>NewPrivateClientAPI creates a PrivateClientAPI

				
				
			

			
				
				<h3 id="PrivateClientAPI.Distribution">func (*PrivateClientAPI) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go?s=2250:2348#L51">Distribution</a>
					<a class="permalink" href="index.html#PrivateClientAPI.Distribution">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#PrivateClientAPI">PrivateClientAPI</a>) Distribution(nodeStr <a href="../../../../../../builtin/index.html#string">string</a>, normalized <a href="../../../../../../builtin/index.html#bool">bool</a>) (<a href="index.html#RtDistribution">RtDistribution</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Distribution returns a distribution as a series of (X, Y) chart coordinates,
where the X axis is the response time in seconds while the Y axis is the amount of
service value received with a response time close to the X coordinate.
The distribution is optionally normalized to a sum of 1.
If nodeStr == &quot;&quot; then the global distribution is returned, otherwise the individual
distribution of the specified server node.

				
				
				
			
				
				<h3 id="PrivateClientAPI.RequestStats">func (*PrivateClientAPI) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go?s=1719:1781#L41">RequestStats</a>
					<a class="permalink" href="index.html#PrivateClientAPI.RequestStats">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#PrivateClientAPI">PrivateClientAPI</a>) RequestStats() []<a href="index.html#RequestStatsItem">RequestStatsItem</a></pre>
				<p>RequestStats returns the current contents of the reference request basket, with
request values meaning average per request rather than total.

				
				
				
			
				
				<h3 id="PrivateClientAPI.Timeout">func (*PrivateClientAPI) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go?s=3274:3361#L73">Timeout</a>
					<a class="permalink" href="index.html#PrivateClientAPI.Timeout">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#PrivateClientAPI">PrivateClientAPI</a>) Timeout(nodeStr <a href="../../../../../../builtin/index.html#string">string</a>, failRate <a href="../../../../../../builtin/index.html#float64">float64</a>) (<a href="../../../../../../builtin/index.html#float64">float64</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Timeout suggests a timeout value based on either the global distribution or the
distribution of the specified node. The parameter is the desired rate of timeouts
assuming a similar distribution in the future.
Note that the actual timeout should have a sensible minimum bound so that operating
under ideal working conditions for a long time (for example, using a local server
with very low response times) will not make it very hard for the system to accommodate
longer response times in the future.

				
				
				
			
				
				<h3 id="PrivateClientAPI.Value">func (*PrivateClientAPI) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/api.go?s=3801:3885#L86">Value</a>
					<a class="permalink" href="index.html#PrivateClientAPI.Value">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#PrivateClientAPI">PrivateClientAPI</a>) Value(nodeStr <a href="../../../../../../builtin/index.html#string">string</a>, timeout <a href="../../../../../../builtin/index.html#float64">float64</a>) (<a href="../../../../../../builtin/index.html#float64">float64</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>Value calculates the total service value provided either globally or by the specified
server node, using a weight function based on the given timeout.

				
				
				
			
		
			
			
			<h2 id="QueryFunc">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=4203:4239#L85">QueryFunc</a>
				<a class="permalink" href="index.html#QueryFunc">&#xb6;</a>
				
				
			</h2>
			<p>queryFunc sends a pre-negotiation query and blocks until a response arrives or timeout occurs.
It returns 1 if the remote node has confirmed that connection is possible, 0 if not
possible and -1 if no response arrived (timeout).

			<pre>type QueryFunc func(*<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a>) <a href="../../../../../../builtin/index.html#int">int</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="QueueIterator">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/queueiterator.go?s=1035:1239#L18">QueueIterator</a>
				<a class="permalink" href="index.html#QueueIterator">&#xb6;</a>
				
				
			</h2>
			<p>QueueIterator returns nodes from the specified selectable set in the same order as
they entered the set.

			<pre>type QueueIterator struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewQueueIterator">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/queueiterator.go?s=1507:1655#L32">NewQueueIterator</a>
					<a class="permalink" href="index.html#NewQueueIterator">&#xb6;</a>
					
					
				</h3>
				<pre>func NewQueueIterator(ns *<a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#NodeStateMachine">NodeStateMachine</a>, requireFlags, disableFlags <a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#Flags">Flags</a>, fifo <a href="../../../../../../builtin/index.html#bool">bool</a>, waitCallback func(<a href="../../../../../../builtin/index.html#bool">bool</a>)) *<a href="index.html#QueueIterator">QueueIterator</a></pre>
				<p>NewQueueIterator creates a new QueueIterator. Nodes are selectable if they have all the required
and none of the disabled flags set. When a node is selected the selectedFlag is set which also
disables further selectability until it is removed or times out.

				
				
			

			
				
				<h3 id="QueueIterator.Close">func (*QueueIterator) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/queueiterator.go?s=3154:3186#L100">Close</a>
					<a class="permalink" href="index.html#QueueIterator.Close">&#xb6;</a>
					
					
				</h3>
				<pre>func (qi *<a href="index.html#QueueIterator">QueueIterator</a>) Close()</pre>
				<p>Close ends the iterator.

				
				
				
			
				
				<h3 id="QueueIterator.Next">func (*QueueIterator) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/queueiterator.go?s=2478:2514#L68">Next</a>
					<a class="permalink" href="index.html#QueueIterator.Next">&#xb6;</a>
					
					
				</h3>
				<pre>func (qi *<a href="index.html#QueueIterator">QueueIterator</a>) Next() <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>Next moves to the next selectable node.

				
				
				
			
				
				<h3 id="QueueIterator.Node">func (*QueueIterator) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/queueiterator.go?s=3296:3339#L108">Node</a>
					<a class="permalink" href="index.html#QueueIterator.Node">&#xb6;</a>
					
					
				</h3>
				<pre>func (qi *<a href="index.html#QueueIterator">QueueIterator</a>) Node() *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a></pre>
				<p>Node returns the current node.

				
				
				
			
		
			
			
			<h2 id="RequestInfo">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=5304:5544#L156">RequestInfo</a>
				<a class="permalink" href="index.html#RequestInfo">&#xb6;</a>
				
				
			</h2>
			<p>RequestInfo is an initializer structure for the service vector.

			<pre>type RequestInfo struct {
<span id="RequestInfo.Name"></span>    <span class="comment">// Name identifies the request type and is used for re-mapping the service vector if necessary</span>
    Name <a href="../../../../../../builtin/index.html#string">string</a>
<span id="RequestInfo.InitAmount"></span>    <span class="comment">// InitAmount and InitValue are used to initialize the reference basket</span>
    InitAmount, InitValue <a href="../../../../../../builtin/index.html#float64">float64</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="RequestStatsItem">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=15229:15318#L474">RequestStatsItem</a>
				<a class="permalink" href="index.html#RequestStatsItem">&#xb6;</a>
				
				
			</h2>
			
			<pre>type RequestStatsItem struct {
<span id="RequestStatsItem.Name"></span>    Name                <a href="../../../../../../builtin/index.html#string">string</a>
<span id="RequestStatsItem.ReqAmount"></span>    ReqAmount, ReqValue <a href="../../../../../../builtin/index.html#float64">float64</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ResponseTimeStats">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=1479:1554#L32">ResponseTimeStats</a>
				<a class="permalink" href="index.html#ResponseTimeStats">&#xb6;</a>
				
				
			</h2>
			<p>ResponseTimeStats is the response time distribution of a set of answered requests,
weighted with request value, either served by a single server or aggregated for
multiple servers.
It it a fixed length (timeStatLength) distribution vector with linear interpolation.
The X axis (the time values) are not linear, they should be transformed with
TimeToStatScale and StatScaleToTime.

			<pre>type ResponseTimeStats struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ResponseTimeStats.Add">func (*ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=3648:3754#L108">Add</a>
					<a class="permalink" href="index.html#ResponseTimeStats.Add">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) Add(respTime <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>, weight <a href="../../../../../../builtin/index.html#float64">float64</a>, expFactor <a href="../../utils/index.html">utils</a>.<a href="../../utils/index.html#ExpirationFactor">ExpirationFactor</a>)</pre>
				<p>Add adds a new response time with the given weight to the distribution.

				
				
				
			
				
				<h3 id="ResponseTimeStats.AddStats">func (*ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=4883:4942#L153">AddStats</a>
					<a class="permalink" href="index.html#ResponseTimeStats.AddStats">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) AddStats(s *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>)</pre>
				<p>AddStats adds the given ResponseTimeStats to the current one.

				
				
				
			
				
				<h3 id="ResponseTimeStats.DecodeRLP">func (*ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=3334:3393#L95">DecodeRLP</a>
					<a class="permalink" href="index.html#ResponseTimeStats.DecodeRLP">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) DecodeRLP(s *<a href="../../../rlp/index.html">rlp</a>.<a href="../../../rlp/index.html#Stream">Stream</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>DecodeRLP implements rlp.Decoder

				
				
				
			
				
				<h3 id="ResponseTimeStats.Distribution">func (ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=6584:6696#L209">Distribution</a>
					<a class="permalink" href="index.html#ResponseTimeStats.Distribution">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt <a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) Distribution(normalized <a href="../../../../../../builtin/index.html#bool">bool</a>, expFactor <a href="../../utils/index.html">utils</a>.<a href="../../utils/index.html#ExpirationFactor">ExpirationFactor</a>) (res <a href="index.html#RtDistribution">RtDistribution</a>)</pre>
				<p>Distribution returns a RtDistribution, optionally normalized to a sum of 1.

				
				
				
			
				
				<h3 id="ResponseTimeStats.EncodeRLP">func (*ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=3123:3180#L86">EncodeRLP</a>
					<a class="permalink" href="index.html#ResponseTimeStats.EncodeRLP">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) EncodeRLP(w <a href="../../../../../../io/index.html">io</a>.<a href="../../../../../../io/index.html#Writer">Writer</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>EncodeRLP implements rlp.Encoder

				
				
				
			
				
				<h3 id="ResponseTimeStats.SubStats">func (*ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=5089:5148#L161">SubStats</a>
					<a class="permalink" href="index.html#ResponseTimeStats.SubStats">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) SubStats(s *<a href="index.html#ResponseTimeStats">ResponseTimeStats</a>)</pre>
				<p>SubStats subtracts the given ResponseTimeStats from the current one.

				
				
				
			
				
				<h3 id="ResponseTimeStats.Timeout">func (ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=5751:5819#L178">Timeout</a>
					<a class="permalink" href="index.html#ResponseTimeStats.Timeout">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt <a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) Timeout(failRatio <a href="../../../../../../builtin/index.html#float64">float64</a>) <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a></pre>
				<p>Timeout suggests a timeout value based on the previous distribution. The parameter
is the desired rate of timeouts assuming a similar distribution in the future.
Note that the actual timeout should have a sensible minimum bound so that operating
under ideal working conditions for a long time (for example, using a local server
with very low response times) will not make it very hard for the system to accommodate
longer response times in the future.

				
				
				
			
				
				<h3 id="ResponseTimeStats.Value">func (ResponseTimeStats) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=4548:4652#L141">Value</a>
					<a class="permalink" href="index.html#ResponseTimeStats.Value">&#xb6;</a>
					
					
				</h3>
				<pre>func (rt <a href="index.html#ResponseTimeStats">ResponseTimeStats</a>) Value(weights <a href="index.html#ResponseTimeWeights">ResponseTimeWeights</a>, expFactor <a href="../../utils/index.html">utils</a>.<a href="../../utils/index.html#ExpirationFactor">ExpirationFactor</a>) <a href="../../../../../../builtin/index.html#float64">float64</a></pre>
				<p>Value calculates the total service value based on the given distribution, using the
specified weight function.

				
				
				
			
		
			
			
			<h2 id="ResponseTimeWeights">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=1556:1599#L36">ResponseTimeWeights</a>
				<a class="permalink" href="index.html#ResponseTimeWeights">&#xb6;</a>
				
				
			</h2>
			<p>ResponseTimeStats is the response time distribution of a set of answered requests,
weighted with request value, either served by a single server or aggregated for
multiple servers.
It it a fixed length (timeStatLength) distribution vector with linear interpolation.
The X axis (the time values) are not linear, they should be transformed with
TimeToStatScale and StatScaleToTime.

			<pre>type ResponseTimeWeights [timeStatLength]<a href="../../../../../../builtin/index.html#float64">float64</a></pre>

			

			

			
			
			

			
				
				<h3 id="TimeoutWeights">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=2828:2896#L73">TimeoutWeights</a>
					<a class="permalink" href="index.html#TimeoutWeights">&#xb6;</a>
					
					
				</h3>
				<pre>func TimeoutWeights(timeout <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>) (res <a href="index.html#ResponseTimeWeights">ResponseTimeWeights</a>)</pre>
				<p>TimeoutWeights calculates the weight function used for calculating service value
based on the response time distribution of the received service.
It is based on the request timeout value of the system. It consists of a half cosine
function starting with 1, crossing zero at timeout and reaching -1 at 2*timeout.
After 2*timeout the weight is constant -1.

				
				
			

			
		
			
			
			<h2 id="RtDistribution">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/timestats.go?s=6457:6503#L206">RtDistribution</a>
				<a class="permalink" href="index.html#RtDistribution">&#xb6;</a>
				
				
			</h2>
			<p>RtDistribution represents a distribution as a series of (X, Y) chart coordinates,
where the X axis is the response time in seconds while the Y axis is the amount of
service value received with a response time close to the X coordinate.

			<pre>type RtDistribution [timeStatLength][2]<a href="../../../../../../builtin/index.html#float64">float64</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ServedRequest">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=3370:3423#L88">ServedRequest</a>
				<a class="permalink" href="index.html#ServedRequest">&#xb6;</a>
				
				
			</h2>
			
			<pre>type ServedRequest struct {
<span id="ServedRequest.ReqType"></span>    ReqType, Amount <a href="../../../../../../builtin/index.html#uint32">uint32</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ServerPool">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=2899:3568#L46">ServerPool</a>
				<a class="permalink" href="index.html#ServerPool">&#xb6;</a>
				
				
			</h2>
			<p>ServerPool provides a node iterator for dial candidates. The output is a mix of newly discovered
nodes, a weighted random selection of known (previously valuable) nodes and trusted/paid nodes.

			<pre>type ServerPool struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewServerPool">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=6278:6476#L144">NewServerPool</a>
					<a class="permalink" href="index.html#NewServerPool">&#xb6;</a>
					
					
				</h3>
				<pre>func NewServerPool(db <a href="../../../ethdb/index.html">ethdb</a>.<a href="../../../ethdb/index.html#KeyValueStore">KeyValueStore</a>, dbKey []<a href="../../../../../../builtin/index.html#byte">byte</a>, mixTimeout <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>, query <a href="index.html#QueryFunc">QueryFunc</a>, clock <a href="../../../common/mclock/index.html">mclock</a>.<a href="../../../common/mclock/index.html#Clock">Clock</a>, trustedURLs []<a href="../../../../../../builtin/index.html#string">string</a>, requestList []<a href="index.html#RequestInfo">RequestInfo</a>) (*<a href="index.html#ServerPool">ServerPool</a>, <a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Iterator">Iterator</a>)</pre>
				<p>NewServerPool creates a new server pool

				
				
			

			
				
				<h3 id="ServerPool.API">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=22514:22558#L568">API</a>
					<a class="permalink" href="index.html#ServerPool.API">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) API() *<a href="index.html#PrivateClientAPI">PrivateClientAPI</a></pre>
				<p>API returns the vflux client API

				
				
				
			
				
				<h3 id="ServerPool.AddMetrics">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=8623:8808#L212">AddMetrics</a>
					<a class="permalink" href="index.html#ServerPool.AddMetrics">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) AddMetrics(
    suggestedTimeoutGauge, totalValueGauge, serverSelectableGauge, serverConnectedGauge <a href="../../../metrics/index.html">metrics</a>.<a href="../../../metrics/index.html#Gauge">Gauge</a>,
    sessionValueMeter, serverDialedMeter <a href="../../../metrics/index.html">metrics</a>.<a href="../../../metrics/index.html#Meter">Meter</a>)</pre>
				<p>AddMetrics adds metrics to the server pool. Should be called before Start().

				
				
				
			
				
				<h3 id="ServerPool.AddSource">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=9426:9479#L230">AddSource</a>
					<a class="permalink" href="index.html#ServerPool.AddSource">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) AddSource(source <a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Iterator">Iterator</a>)</pre>
				<p>AddSource adds a node discovery source to the server pool (should be called before start)

				
				
				
			
				
				<h3 id="ServerPool.DialNode">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=23314:23370#L584">DialNode</a>
					<a class="permalink" href="index.html#ServerPool.DialNode">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) DialNode(n *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a>) *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a></pre>
				<p>DialNode replaces the given enode with a locally generated one containing the ENR
stored in the sfiLocalAddress field if present. This workaround ensures that nodes
on the local network can be dialed at the local address if a connection has been
successfully established previously.
Note that NodeStateMachine always remembers the enode with the latest version of
the remote signed ENR. ENR filtering should be performed on that version while
dialNode should be used for dialing the node over TCP or UDP.

				
				
				
			
				
				<h3 id="ServerPool.GetTimeout">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=15725:15772#L416">GetTimeout</a>
					<a class="permalink" href="index.html#ServerPool.GetTimeout">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) GetTimeout() <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a></pre>
				<p>GetTimeout returns the recommended request timeout.

				
				
				
			
				
				<h3 id="ServerPool.Persist">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=23588:23631#L593">Persist</a>
					<a class="permalink" href="index.html#ServerPool.Persist">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) Persist(n *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a>)</pre>
				<p>Persist immediately stores the state of a node in the node database

				
				
				
			
				
				<h3 id="ServerPool.RegisterNode">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=13378:13456#L345">RegisterNode</a>
					<a class="permalink" href="index.html#ServerPool.RegisterNode">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) RegisterNode(node *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a>) (*<a href="index.html#NodeValueTracker">NodeValueTracker</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>RegisterNode implements serverPeerSubscriber

				
				
				
			
				
				<h3 id="ServerPool.Start">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=11742:11770#L296">Start</a>
					<a class="permalink" href="index.html#ServerPool.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) Start()</pre>
				<p>start starts the server pool. Note that NodeStateMachine should be started first.

				
				
				
			
				
				<h3 id="ServerPool.Stop">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=12985:13012#L330">Stop</a>
					<a class="permalink" href="index.html#ServerPool.Stop">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) Stop()</pre>
				<p>stop stops the server pool

				
				
				
			
				
				<h3 id="ServerPool.UnregisterNode">func (*ServerPool) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/serverpool.go?s=13916:13969#L361">UnregisterNode</a>
					<a class="permalink" href="index.html#ServerPool.UnregisterNode">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#ServerPool">ServerPool</a>) UnregisterNode(node *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a>)</pre>
				<p>UnregisterNode implements serverPeerSubscriber

				
				
				
			
		
			
			
			<h2 id="ValueTracker">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=4335:4906#L120">ValueTracker</a>
				<a class="permalink" href="index.html#ValueTracker">&#xb6;</a>
				
				
			</h2>
			<p>ValueTracker coordinates service value calculation for individual servers and updates
global statistics

			<pre>type ValueTracker struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewValueTracker">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=5663:5844#L165">NewValueTracker</a>
					<a class="permalink" href="index.html#NewValueTracker">&#xb6;</a>
					
					
				</h3>
				<pre>func NewValueTracker(db <a href="../../../ethdb/index.html">ethdb</a>.<a href="../../../ethdb/index.html#KeyValueStore">KeyValueStore</a>, clock <a href="../../../common/mclock/index.html">mclock</a>.<a href="../../../common/mclock/index.html#Clock">Clock</a>, reqInfo []<a href="index.html#RequestInfo">RequestInfo</a>, updatePeriod <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>, transferRate, statsExpRate, offlineExpRate <a href="../../../../../../builtin/index.html#float64">float64</a>) *<a href="index.html#ValueTracker">ValueTracker</a></pre>
				<p>NewValueTracker creates a new ValueTracker and loads its previously saved state from
the database if possible.

				
				
			

			
				
				<h3 id="ValueTracker.GetNode">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=11841:11903#L369">GetNode</a>
					<a class="permalink" href="index.html#ValueTracker.GetNode">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) GetNode(id <a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#ID">ID</a>) *<a href="index.html#NodeValueTracker">NodeValueTracker</a></pre>
				<p>GetNode returns an individual server node&apos;s value tracker. If it did not exist before
then a new node is created.

				
				
				
			
				
				<h3 id="ValueTracker.Register">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=11026:11089#L337">Register</a>
					<a class="permalink" href="index.html#ValueTracker.Register">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) Register(id <a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#ID">ID</a>) *<a href="index.html#NodeValueTracker">NodeValueTracker</a></pre>
				<p>Register adds a server node to the value tracker

				
				
				
			
				
				<h3 id="ValueTracker.RequestStats">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=15468:15525#L481">RequestStats</a>
					<a class="permalink" href="index.html#ValueTracker.RequestStats">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) RequestStats() []<a href="index.html#RequestStatsItem">RequestStatsItem</a></pre>
				<p>RequestStats returns the current contents of the reference request basket, with
request values meaning average per request rather than total.

				
				
				
			
				
				<h3 id="ValueTracker.RtStats">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=14332:14383#L444">RtStats</a>
					<a class="permalink" href="index.html#ValueTracker.RtStats">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) RtStats() <a href="index.html#ResponseTimeStats">ResponseTimeStats</a></pre>
				<p>RtStats returns the global response time distribution statistics

				
				
				
			
				
				<h3 id="ValueTracker.StatsExpFactor">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=7630:7693#L228">StatsExpFactor</a>
					<a class="permalink" href="index.html#ValueTracker.StatsExpFactor">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) StatsExpFactor() <a href="../../utils/index.html">utils</a>.<a href="../../utils/index.html#ExpirationFactor">ExpirationFactor</a></pre>
				<p>StatsExpirer returns the current expiration factor so that other values can be expired
with the same rate as the service value statistics.

				
				
				
			
				
				<h3 id="ValueTracker.StatsExpirer">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=7401:7454#L222">StatsExpirer</a>
					<a class="permalink" href="index.html#ValueTracker.StatsExpirer">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) StatsExpirer() *<a href="../../utils/index.html">utils</a>.<a href="../../utils/index.html#Expirer">Expirer</a></pre>
				<p>StatsExpirer returns the statistics expirer so that other values can be expired
with the same rate as the service value statistics.

				
				
				
			
				
				<h3 id="ValueTracker.Stop">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=10733:10763#L322">Stop</a>
					<a class="permalink" href="index.html#ValueTracker.Stop">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) Stop()</pre>
				<p>Stop saves the value tracker&apos;s state and each loaded node&apos;s individual state and
returns after shutting the internal goroutines down.

				
				
				
			
				
				<h3 id="ValueTracker.Unregister">func (*ValueTracker) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/valuetracker.go?s=11535:11582#L357">Unregister</a>
					<a class="permalink" href="index.html#ValueTracker.Unregister">&#xb6;</a>
					
					
				</h3>
				<pre>func (vt *<a href="index.html#ValueTracker">ValueTracker</a>) Unregister(id <a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#ID">ID</a>)</pre>
				<p>Unregister removes a server node from the value tracker

				
				
				
			
		
			
			
			<h2 id="WrsIterator">type <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/wrsiterator.go?s=1124:1299#L19">WrsIterator</a>
				<a class="permalink" href="index.html#WrsIterator">&#xb6;</a>
				
				
			</h2>
			<p>WrsIterator returns nodes from the specified selectable set with a weighted random
selection. Selection weights are provided by a callback function.

			<pre>type WrsIterator struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewWrsIterator">func <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/wrsiterator.go?s=1563:1700#L32">NewWrsIterator</a>
					<a class="permalink" href="index.html#NewWrsIterator">&#xb6;</a>
					
					
				</h3>
				<pre>func NewWrsIterator(ns *<a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#NodeStateMachine">NodeStateMachine</a>, requireFlags, disableFlags <a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#Flags">Flags</a>, weightField <a href="../../../p2p/nodestate/index.html">nodestate</a>.<a href="../../../p2p/nodestate/index.html#Field">Field</a>) *<a href="index.html#WrsIterator">WrsIterator</a></pre>
				<p>NewWrsIterator creates a new WrsIterator. Nodes are selectable if they have all the required
and none of the disabled flags set. When a node is selected the selectedFlag is set which also
disables further selectability until it is removed or times out.

				
				
			

			
				
				<h3 id="WrsIterator.Close">func (*WrsIterator) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/wrsiterator.go?s=3301:3330#L105">Close</a>
					<a class="permalink" href="index.html#WrsIterator.Close">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrsIterator">WrsIterator</a>) Close()</pre>
				<p>Close ends the iterator.

				
				
				
			
				
				<h3 id="WrsIterator.Next">func (*WrsIterator) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/wrsiterator.go?s=2726:2759#L77">Next</a>
					<a class="permalink" href="index.html#WrsIterator.Next">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrsIterator">WrsIterator</a>) Next() <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>Next selects the next node.

				
				
				
			
				
				<h3 id="WrsIterator.Node">func (*WrsIterator) <a href="http://localhost:6060/src/github.com/ethereum/go-ethereum/les/vflux/client/wrsiterator.go?s=3436:3476#L113">Node</a>
					<a class="permalink" href="index.html#WrsIterator.Node">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WrsIterator">WrsIterator</a>) Node() *<a href="../../../p2p/enode/index.html">enode</a>.<a href="../../../p2p/enode/index.html#Node">Node</a></pre>
				<p>Node returns the current node.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
