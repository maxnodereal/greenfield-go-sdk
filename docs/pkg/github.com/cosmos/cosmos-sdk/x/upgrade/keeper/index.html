<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>keeper - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package keeper
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/cosmos/cosmos-sdk/x/upgrade/keeper"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
			
				
				<dd><a href="index.html#Keeper">type Keeper</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewKeeper">func NewKeeper(storeKey storetypes.StoreKey, cdc codec.BinaryCodec, homePath string, vs xp.ProtocolVersionSetter) *Keeper</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.AppliedPlan">func (k Keeper) AppliedPlan(c context.Context, req *types.QueryAppliedPlanRequest) (*types.QueryAppliedPlanResponse, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.ApplyUpgrade">func (k Keeper) ApplyUpgrade(ctx sdk.Context, plan types.Plan)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.ClearIBCState">func (k Keeper) ClearIBCState(ctx sdk.Context, lastHeight int64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.ClearUpgradePlan">func (k Keeper) ClearUpgradePlan(ctx sdk.Context)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.CurrentPlan">func (k Keeper) CurrentPlan(c context.Context, req *types.QueryCurrentPlanRequest) (*types.QueryCurrentPlanResponse, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.DumpUpgradeInfoToDisk">func (k Keeper) DumpUpgradeInfoToDisk(height int64, p types.Plan) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetDoneHeight">func (k Keeper) GetDoneHeight(ctx sdk.Context, name string) int64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetInitVersionMap">func (k *Keeper) GetInitVersionMap() module.VersionMap</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetLastCompletedUpgrade">func (k Keeper) GetLastCompletedUpgrade(ctx sdk.Context) (string, int64)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetModuleVersionMap">func (k Keeper) GetModuleVersionMap(ctx sdk.Context) module.VersionMap</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetModuleVersions">func (k Keeper) GetModuleVersions(ctx sdk.Context) []*types.ModuleVersion</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetUpgradeInfoPath">func (k Keeper) GetUpgradeInfoPath() (string, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetUpgradePlan">func (k Keeper) GetUpgradePlan(ctx sdk.Context) ([]*types.Plan, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetUpgradedConsensusState">func (k Keeper) GetUpgradedConsensusState(ctx sdk.Context, lastHeight int64) ([]byte, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.GetVersionSetter">func (k *Keeper) GetVersionSetter() xp.ProtocolVersionSetter</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.HasHandler">func (k Keeper) HasHandler(name string) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.InitUpgraded">func (k Keeper) InitUpgraded(ctx sdk.Context) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.IsUpgraded">func (k Keeper) IsUpgraded(ctx sdk.Context, name string) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.Logger">func (k Keeper) Logger(ctx sdk.Context) log.Logger</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.ModuleVersions">func (k Keeper) ModuleVersions(c context.Context, req *types.QueryModuleVersionsRequest) (*types.QueryModuleVersionsResponse, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.ReadUpgradeInfoFromDisk">func (k Keeper) ReadUpgradeInfoFromDisk() (types.Plan, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.RegisterUpgradePlan">func (keeper *Keeper) RegisterUpgradePlan(chianID string, plans []serverconfig.UpgradeConfig) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.ScheduleUpgrade">func (k Keeper) ScheduleUpgrade(ctx sdk.Context, plan types.Plan) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.SetInitVersionMap">func (k *Keeper) SetInitVersionMap(vm module.VersionMap)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.SetModuleVersionMap">func (k Keeper) SetModuleVersionMap(ctx sdk.Context, vm module.VersionMap)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.SetUpgradeHandler">func (k Keeper) SetUpgradeHandler(name string, upgradeHandler types.UpgradeHandler)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.SetUpgradeInitializer">func (k Keeper) SetUpgradeInitializer(name string, upgradeInitializer types.UpgradeInitializer)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.SetUpgradedConsensusState">func (k Keeper) SetUpgradedConsensusState(ctx sdk.Context, planHeight int64, bz []byte) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.SetVersionSetter">func (k *Keeper) SetVersionSetter(vs xp.ProtocolVersionSetter)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Keeper.UpgradedConsensusState">func (k Keeper) UpgradedConsensusState(c context.Context, req *types.QueryUpgradedConsensusStateRequest) (*types.QueryUpgradedConsensusStateResponse, error)</a></dd>
				
			
				
				<dd><a href="index.html#Migrator">type Migrator</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewMigrator">func NewMigrator(keeper *Keeper) Migrator</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Migrator.Migrate1to2">func (m Migrator) Migrate1to2(ctx sdk.Context) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/grpc_query.go">grpc_query.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go">keeper.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/migrations.go">migrations.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
		
			
			
			<h2 id="Keeper">type <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=581:1326#L16">Keeper</a>
				<a class="permalink" href="index.html#Keeper">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Keeper struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewKeeper">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=1722:1843#L33">NewKeeper</a>
					<a class="permalink" href="index.html#NewKeeper">&#xb6;</a>
					
					
				</h3>
				<pre>func NewKeeper(storeKey <a href="../../../store/types/index.html">storetypes</a>.<a href="../../../store/types/index.html#StoreKey">StoreKey</a>, cdc <a href="../../../codec/index.html">codec</a>.<a href="../../../codec/index.html#BinaryCodec">BinaryCodec</a>, homePath <a href="../../../../../../builtin/index.html#string">string</a>, vs <a href="../exported/index.html">xp</a>.<a href="../exported/index.html#ProtocolVersionSetter">ProtocolVersionSetter</a>) *<a href="index.html#Keeper">Keeper</a></pre>
				<p>NewKeeper constructs an upgrade Keeper which requires the following arguments:
skipUpgradeHeights - map of heights to skip an upgrade
storeKey - a store key with which to access upgrade&apos;s store
cdc - the app-wide binary codec
homePath - root directory of the application&apos;s config
vs - the interface implemented by baseapp which allows setting baseapp&apos;s protocol version field

				
				
			

			
				
				<h3 id="Keeper.AppliedPlan">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/grpc_query.go?s=653:776#L16">AppliedPlan</a>
					<a class="permalink" href="index.html#Keeper.AppliedPlan">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) AppliedPlan(c <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, req *<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryAppliedPlanRequest">QueryAppliedPlanRequest</a>) (*<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryAppliedPlanResponse">QueryAppliedPlanResponse</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>AppliedPlan implements the Query/AppliedPlan gRPC method

				
				
				
			
				
				<h3 id="Keeper.ApplyUpgrade">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=11295:11357#L316">ApplyUpgrade</a>
					<a class="permalink" href="index.html#Keeper.ApplyUpgrade">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) ApplyUpgrade(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, plan <a href="../types/index.html">types</a>.<a href="../types/index.html#Plan">Plan</a>)</pre>
				<p>ApplyUpgrade will execute the handler associated with the Plan and mark the plan as done.

				
				
				
			
				
				<h3 id="Keeper.ClearIBCState">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=9400:9464#L255">ClearIBCState</a>
					<a class="permalink" href="index.html#Keeper.ClearIBCState">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) ClearIBCState(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, lastHeight <a href="../../../../../../builtin/index.html#int64">int64</a>)</pre>
				<p>ClearIBCState clears any planned IBC state

				
				
				
			
				
				<h3 id="Keeper.ClearUpgradePlan">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=9706:9755#L262">ClearUpgradePlan</a>
					<a class="permalink" href="index.html#Keeper.ClearUpgradePlan">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) ClearUpgradePlan(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>)</pre>
				<p>ClearUpgradePlan clears any schedule upgrade and associated IBC states.

				
				
				
			
				
				<h3 id="Keeper.CurrentPlan">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/grpc_query.go?s=271:394#L4">CurrentPlan</a>
					<a class="permalink" href="index.html#Keeper.CurrentPlan">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) CurrentPlan(c <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, req *<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryCurrentPlanRequest">QueryCurrentPlanRequest</a>) (*<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryCurrentPlanResponse">QueryCurrentPlanResponse</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>CurrentPlan implements the Query/CurrentPlan gRPC method

				
				
				
			
				
				<h3 id="Keeper.DumpUpgradeInfoToDisk">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=12212:12283#L346">DumpUpgradeInfoToDisk</a>
					<a class="permalink" href="index.html#Keeper.DumpUpgradeInfoToDisk">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) DumpUpgradeInfoToDisk(height <a href="../../../../../../builtin/index.html#int64">int64</a>, p <a href="../types/index.html">types</a>.<a href="../types/index.html#Plan">Plan</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>DumpUpgradeInfoToDisk writes upgrade information to UpgradeInfoFileName.

				
				
				
			
				
				<h3 id="Keeper.GetDoneHeight">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=9032:9097#L241">GetDoneHeight</a>
					<a class="permalink" href="index.html#Keeper.GetDoneHeight">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetDoneHeight(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, name <a href="../../../../../../builtin/index.html#string">string</a>) <a href="../../../../../../builtin/index.html#int64">int64</a></pre>
				<p>GetDoneHeight returns the height at which the given upgrade was executed

				
				
				
			
				
				<h3 id="Keeper.GetInitVersionMap">func (*Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=2874:2928#L63">GetInitVersionMap</a>
					<a class="permalink" href="index.html#Keeper.GetInitVersionMap">&#xb6;</a>
					
					
				</h3>
				<pre>func (k *<a href="index.html#Keeper">Keeper</a>) GetInitVersionMap() <a href="../../../types/module/index.html">module</a>.<a href="../../../types/module/index.html#VersionMap">VersionMap</a></pre>
				<p>GetInitVersionMap gets the initial version map
This is only used in upgrade InitGenesis and should not be used in any other context.

				
				
				
			
				
				<h3 id="Keeper.GetLastCompletedUpgrade">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=8063:8135#L212">GetLastCompletedUpgrade</a>
					<a class="permalink" href="index.html#Keeper.GetLastCompletedUpgrade">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetLastCompletedUpgrade(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) (<a href="../../../../../../builtin/index.html#string">string</a>, <a href="../../../../../../builtin/index.html#int64">int64</a>)</pre>
				<p>GetLastCompletedUpgrade returns the last applied upgrade name and height.

				
				
				
			
				
				<h3 id="Keeper.GetModuleVersionMap">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=4792:4862#L108">GetModuleVersionMap</a>
					<a class="permalink" href="index.html#Keeper.GetModuleVersionMap">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetModuleVersionMap(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) <a href="../../../types/module/index.html">module</a>.<a href="../../../types/module/index.html#VersionMap">VersionMap</a></pre>
				<p>GetModuleVersionMap returns a map of key module name and value module consensus version
as defined in ADR-041.

				
				
				
			
				
				<h3 id="Keeper.GetModuleVersions">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=5325:5398#L126">GetModuleVersions</a>
					<a class="permalink" href="index.html#Keeper.GetModuleVersions">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetModuleVersions(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) []*<a href="../types/index.html">types</a>.<a href="../types/index.html#ModuleVersion">ModuleVersion</a></pre>
				<p>GetModuleVersions gets a slice of module consensus versions

				
				
				
			
				
				<h3 id="Keeper.GetUpgradeInfoPath">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=12646:12698#L366">GetUpgradeInfoPath</a>
					<a class="permalink" href="index.html#Keeper.GetUpgradeInfoPath">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetUpgradeInfoPath() (<a href="../../../../../../builtin/index.html#string">string</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>GetUpgradeInfoPath returns the upgrade info file path

				
				
				
			
				
				<h3 id="Keeper.GetUpgradePlan">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=10353:10422#L283">GetUpgradePlan</a>
					<a class="permalink" href="index.html#Keeper.GetUpgradePlan">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetUpgradePlan(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) ([]*<a href="../types/index.html">types</a>.<a href="../types/index.html#Plan">Plan</a>, <a href="../../../../../../builtin/index.html#bool">bool</a>)</pre>
				<p>GetUpgradePlan returns the currently scheduled Plan if any, setting havePlan to true if there is a scheduled
upgrade or false if there is none

				
				
				
			
				
				<h3 id="Keeper.GetUpgradedConsensusState">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=7738:7829#L201">GetUpgradedConsensusState</a>
					<a class="permalink" href="index.html#Keeper.GetUpgradedConsensusState">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) GetUpgradedConsensusState(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, lastHeight <a href="../../../../../../builtin/index.html#int64">int64</a>) ([]<a href="../../../../../../builtin/index.html#byte">byte</a>, <a href="../../../../../../builtin/index.html#bool">bool</a>)</pre>
				<p>GetUpgradedConsensusState gets the expected upgraded consensus state for the next version of this chain

				
				
				
			
				
				<h3 id="Keeper.GetVersionSetter">func (*Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=2429:2489#L51">GetVersionSetter</a>
					<a class="permalink" href="index.html#Keeper.GetVersionSetter">&#xb6;</a>
					
					
				</h3>
				<pre>func (k *<a href="index.html#Keeper">Keeper</a>) GetVersionSetter() <a href="../exported/index.html">xp</a>.<a href="../exported/index.html#ProtocolVersionSetter">ProtocolVersionSetter</a></pre>
				<p>GetVersionSetter gets the protocol version field of baseapp

				
				
				
			
				
				<h3 id="Keeper.HasHandler">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=11107:11151#L310">HasHandler</a>
					<a class="permalink" href="index.html#Keeper.HasHandler">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) HasHandler(name <a href="../../../../../../builtin/index.html#string">string</a>) <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>HasHandler returns true iff there is a handler registered for this name

				
				
				
			
				
				<h3 id="Keeper.InitUpgraded">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=14262:14313#L420">InitUpgraded</a>
					<a class="permalink" href="index.html#Keeper.InitUpgraded">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) InitUpgraded(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>InitUpgraded execute the upgrade initializer that the upgrade is already applied.

				
				
				
			
				
				<h3 id="Keeper.IsUpgraded">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=13999:14060#L410">IsUpgraded</a>
					<a class="permalink" href="index.html#Keeper.IsUpgraded">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) IsUpgraded(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, name <a href="../../../../../../builtin/index.html#string">string</a>) <a href="../../../../../../builtin/index.html#bool">bool</a></pre>
				<p>IsUpgraded returns the bool which the given upgrade was executed

				
				
				
			
				
				<h3 id="Keeper.Logger">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=10089:10139#L277">Logger</a>
					<a class="permalink" href="index.html#Keeper.Logger">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) Logger(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) <a href="../../../../../cometbft/cometbft/libs/log/index.html">log</a>.<a href="../../../../../cometbft/cometbft/libs/log/index.html#Logger">Logger</a></pre>
				<p>Logger returns a module-specific logger.

				
				
				
			
				
				<h3 id="Keeper.ModuleVersions">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/grpc_query.go?s=1606:1738#L44">ModuleVersions</a>
					<a class="permalink" href="index.html#Keeper.ModuleVersions">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) ModuleVersions(c <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, req *<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryModuleVersionsRequest">QueryModuleVersionsRequest</a>) (*<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryModuleVersionsResponse">QueryModuleVersionsResponse</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>ModuleVersions implements the Query/QueryModuleVersions gRPC method

				
				
				
			
				
				<h3 id="Keeper.ReadUpgradeInfoFromDisk">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=13419:13480#L384">ReadUpgradeInfoFromDisk</a>
					<a class="permalink" href="index.html#Keeper.ReadUpgradeInfoFromDisk">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) ReadUpgradeInfoFromDisk() (<a href="../types/index.html">types</a>.<a href="../types/index.html#Plan">Plan</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>ReadUpgradeInfoFromDisk returns the name and height of the upgrade which is
written to disk by the old binary when panicking. An error is returned if
the upgrade path directory cannot be created or if the file exists and
cannot be read or if the upgrade info fails to unmarshal.

				
				
				
			
				
				<h3 id="Keeper.RegisterUpgradePlan">func (*Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=14784:14883#L443">RegisterUpgradePlan</a>
					<a class="permalink" href="index.html#Keeper.RegisterUpgradePlan">&#xb6;</a>
					
					
				</h3>
				<pre>func (keeper *<a href="index.html#Keeper">Keeper</a>) RegisterUpgradePlan(chianID <a href="../../../../../../builtin/index.html#string">string</a>, plans []<a href="../../../server/config/index.html">serverconfig</a>.<a href="../../../server/config/index.html#UpgradeConfig">UpgradeConfig</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>RegisterUpgradePlan registers the upgrade plans form serverconfig.UpgradeConfig

				
				
				
			
				
				<h3 id="Keeper.ScheduleUpgrade">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=6594:6665#L164">ScheduleUpgrade</a>
					<a class="permalink" href="index.html#Keeper.ScheduleUpgrade">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) ScheduleUpgrade(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, plan <a href="../types/index.html">types</a>.<a href="../types/index.html#Plan">Plan</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>ScheduleUpgrade schedules an upgrade based on the specified plan.
If there is another Plan already scheduled, it will cancel and overwrite it.
ScheduleUpgrade will also write the upgraded IBC ClientState to the upgraded client
path if it is specified in the plan.

				
				
				
			
				
				<h3 id="Keeper.SetInitVersionMap">func (*Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=2650:2706#L57">SetInitVersionMap</a>
					<a class="permalink" href="index.html#Keeper.SetInitVersionMap">&#xb6;</a>
					
					
				</h3>
				<pre>func (k *<a href="index.html#Keeper">Keeper</a>) SetInitVersionMap(vm <a href="../../../types/module/index.html">module</a>.<a href="../../../types/module/index.html#VersionMap">VersionMap</a>)</pre>
				<p>SetInitVersionMap sets the initial version map.
This is only used in app wiring and should not be used in any other context.

				
				
				
			
				
				<h3 id="Keeper.SetModuleVersionMap">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=3904:3978#L82">SetModuleVersionMap</a>
					<a class="permalink" href="index.html#Keeper.SetModuleVersionMap">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) SetModuleVersionMap(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, vm <a href="../../../types/module/index.html">module</a>.<a href="../../../types/module/index.html#VersionMap">VersionMap</a>)</pre>
				<p>SetModuleVersionMap saves a given version map to state

				
				
				
			
				
				<h3 id="Keeper.SetUpgradeHandler">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=3243:3326#L70">SetUpgradeHandler</a>
					<a class="permalink" href="index.html#Keeper.SetUpgradeHandler">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) SetUpgradeHandler(name <a href="../../../../../../builtin/index.html#string">string</a>, upgradeHandler <a href="../types/index.html">types</a>.<a href="../types/index.html#UpgradeHandler">UpgradeHandler</a>)</pre>
				<p>SetUpgradeHandler sets an UpgradeHandler for the upgrade specified by name. This handler will be called when the upgrade
with this name is applied. In order for an upgrade with the given name to proceed, a handler for this upgrade
must be set even if it is a no-op function.

				
				
				
			
				
				<h3 id="Keeper.SetUpgradeInitializer">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=3696:3791#L77">SetUpgradeInitializer</a>
					<a class="permalink" href="index.html#Keeper.SetUpgradeInitializer">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) SetUpgradeInitializer(name <a href="../../../../../../builtin/index.html#string">string</a>, upgradeInitializer <a href="../types/index.html">types</a>.<a href="../types/index.html#UpgradeInitializer">UpgradeInitializer</a>)</pre>
				<p>SetUpgradeInitializer sets an UpgradeInitializer for the upgrade specified by name. This initializer will be called when the program restart after upgrade
with this name is applied. In order for an upgrade with the given name to proceed, a initializer for this upgrade
must be set even if it is a no-op function.

				
				
				
			
				
				<h3 id="Keeper.SetUpgradedConsensusState">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=7431:7524#L194">SetUpgradedConsensusState</a>
					<a class="permalink" href="index.html#Keeper.SetUpgradedConsensusState">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) SetUpgradedConsensusState(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>, planHeight <a href="../../../../../../builtin/index.html#int64">int64</a>, bz []<a href="../../../../../../builtin/index.html#byte">byte</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>SetUpgradedConsensusState sets the expected upgraded consensus state for the next version of this chain
using the last height committed on this chain.

				
				
				
			
				
				<h3 id="Keeper.SetVersionSetter">func (*Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/keeper.go?s=2276:2338#L46">SetVersionSetter</a>
					<a class="permalink" href="index.html#Keeper.SetVersionSetter">&#xb6;</a>
					
					
				</h3>
				<pre>func (k *<a href="index.html#Keeper">Keeper</a>) SetVersionSetter(vs <a href="../exported/index.html">xp</a>.<a href="../exported/index.html#ProtocolVersionSetter">ProtocolVersionSetter</a>)</pre>
				<p>SetVersionSetter sets the interface implemented by baseapp which allows setting baseapp&apos;s protocol version field

				
				
				
			
				
				<h3 id="Keeper.UpgradedConsensusState">func (Keeper) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/grpc_query.go?s=1097:1253#L30">UpgradedConsensusState</a>
					<a class="permalink" href="index.html#Keeper.UpgradedConsensusState">&#xb6;</a>
					
					
				</h3>
				<pre>func (k <a href="index.html#Keeper">Keeper</a>) UpgradedConsensusState(c <a href="../../../../../../context/index.html">context</a>.<a href="../../../../../../context/index.html#Context">Context</a>, req *<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryUpgradedConsensusStateRequest">QueryUpgradedConsensusStateRequest</a>) (*<a href="../types/index.html">types</a>.<a href="../types/index.html#QueryUpgradedConsensusStateResponse">QueryUpgradedConsensusStateResponse</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>UpgradedConsensusState implements the Query/UpgradedConsensusState gRPC method

				
				
				
			
		
			
			
			<h2 id="Migrator">type <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/migrations.go?s=302:342#L3">Migrator</a>
				<a class="permalink" href="index.html#Migrator">&#xb6;</a>
				
				
			</h2>
			<p>Migrator is a struct for handling in-place store migrations.

			<pre>type Migrator struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewMigrator">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/migrations.go?s=383:424#L8">NewMigrator</a>
					<a class="permalink" href="index.html#NewMigrator">&#xb6;</a>
					
					
				</h3>
				<pre>func NewMigrator(keeper *<a href="index.html#Keeper">Keeper</a>) <a href="index.html#Migrator">Migrator</a></pre>
				<p>NewMigrator returns a new Migrator.

				
				
			

			
				
				<h3 id="Migrator.Migrate1to2">func (Migrator) <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/x/upgrade/keeper/migrations.go?s=508:560#L13">Migrate1to2</a>
					<a class="permalink" href="index.html#Migrator.Migrate1to2">&#xb6;</a>
					
					
				</h3>
				<pre>func (m <a href="index.html#Migrator">Migrator</a>) Migrate1to2(ctx <a href="../../../types/index.html">sdk</a>.<a href="../../../types/index.html#Context">Context</a>) <a href="../../../../../../builtin/index.html#error">error</a></pre>
				<p>Migrate1to2 migrates from version 1 to 2.

				
				
				
			
		
	

	







<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
