<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>testutil - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.19.10";</script>
<script src="../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package testutil
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/cosmos/cosmos-sdk/testutil"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
			
				
				<dd><a href="index.html#ApplyMockIO">func ApplyMockIO(c *cobra.Command) (BufferReader, BufferWriter)</a></dd>
			
				
				<dd><a href="index.html#DefaultContext">func DefaultContext(key storetypes.StoreKey, tkey storetypes.StoreKey) sdk.Context</a></dd>
			
				
				<dd><a href="index.html#GenerateCoinKey">func GenerateCoinKey(algo keyring.SignatureAlgo, cdc codec.Codec) (sdk.AccAddress, string, error)</a></dd>
			
				
				<dd><a href="index.html#GenerateSaveCoinKey">func GenerateSaveCoinKey(keybase keyring.Keyring, keyName, mnemonic string, overwrite bool, algo keyring.SignatureAlgo) (sdk.AccAddress, string, error)</a></dd>
			
				
				<dd><a href="index.html#GetRequest">func GetRequest(url string) ([]byte, error)</a></dd>
			
				
				<dd><a href="index.html#GetRequestWithHeaders">func GetRequestWithHeaders(url string, headers map[string]string) ([]byte, error)</a></dd>
			
				
				<dd><a href="index.html#GetTempDir">func GetTempDir(t testing.TB) string</a></dd>
			
				
				<dd><a href="index.html#PostRequest">func PostRequest(url string, contentType string, data []byte) ([]byte, error)</a></dd>
			
				
				<dd><a href="index.html#RandSliceElem">func RandSliceElem[E any](r *rand.Rand, elems []E) (E, bool)</a></dd>
			
				
				<dd><a href="index.html#TempFile">func TempFile(t testing.TB) *os.File</a></dd>
			
				
				<dd><a href="index.html#WriteToNewTempFile">func WriteToNewTempFile(t testing.TB, s string) *os.File</a></dd>
			
			
				
				<dd><a href="index.html#BufferReader">type BufferReader</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ApplyMockIODiscardOutErr">func ApplyMockIODiscardOutErr(c *cobra.Command) BufferReader</a></dd>
				
				
			
				
				<dd><a href="index.html#BufferWriter">type BufferWriter</a></dd>
				
				
			
				
				<dd><a href="index.html#TestAccount">type TestAccount</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CreateKeyringAccounts">func CreateKeyringAccounts(t *testing.T, kr keyring.Keyring, num int) []TestAccount</a></dd>
				
				
			
				
				<dd><a href="index.html#TestContext">type TestContext</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#DefaultContextWithDB">func DefaultContextWithDB(t *testing.T, key storetypes.StoreKey, tkey storetypes.StoreKey) TestContext</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/account.go">account.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/context.go">context.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go">ioutil.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/key.go">key.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/list.go">list.go</a>
			
				<a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/rest.go">rest.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const <span id="DefaultChainId">DefaultChainId</span> = &#34;greenfield_9000-1&#34;</pre>
			
		
		
		
			
			
			<h2 id="ApplyMockIO">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=565:628#L20">ApplyMockIO</a>
				<a class="permalink" href="index.html#ApplyMockIO">&#xb6;</a>
				
				
			</h2>
			<pre>func ApplyMockIO(c *<a href="../../../spf13/cobra/index.html">cobra</a>.<a href="../../../spf13/cobra/index.html#Command">Command</a>) (<a href="index.html#BufferReader">BufferReader</a>, <a href="index.html#BufferWriter">BufferWriter</a>)</pre>
			<p>ApplyMockIO replaces stdin/out/err with buffers that can be used during testing.
Returns an input BufferReader and an output BufferWriter.

			
			

		
			
			
			<h2 id="DefaultContext">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/context.go?s=489:571#L9">DefaultContext</a>
				<a class="permalink" href="index.html#DefaultContext">&#xb6;</a>
				
				
			</h2>
			<pre>func DefaultContext(key <a href="../store/types/index.html">storetypes</a>.<a href="../store/types/index.html#StoreKey">StoreKey</a>, tkey <a href="../store/types/index.html">storetypes</a>.<a href="../store/types/index.html#StoreKey">StoreKey</a>) <a href="../types/index.html">sdk</a>.<a href="../types/index.html#Context">Context</a></pre>
			<p>DefaultContext creates a sdk.Context with a fresh MemDB that can be used in tests.

			
			

		
			
			
			<h2 id="GenerateCoinKey">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/key.go?s=238:335#L2">GenerateCoinKey</a>
				<a class="permalink" href="index.html#GenerateCoinKey">&#xb6;</a>
				
				
			</h2>
			<pre>func GenerateCoinKey(algo <a href="../crypto/keyring/index.html">keyring</a>.<a href="../crypto/keyring/index.html#SignatureAlgo">SignatureAlgo</a>, cdc <a href="../codec/index.html">codec</a>.<a href="../codec/index.html#Codec">Codec</a>) (<a href="../types/index.html">sdk</a>.<a href="../types/index.html#AccAddress">AccAddress</a>, <a href="../../../../builtin/index.html#string">string</a>, <a href="../../../../builtin/index.html#error">error</a>)</pre>
			<p>GenerateCoinKey generates a new key mnemonic along with its addrress.

			
			

		
			
			
			<h2 id="GenerateSaveCoinKey">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/key.go?s=968:1126#L25">GenerateSaveCoinKey</a>
				<a class="permalink" href="index.html#GenerateSaveCoinKey">&#xb6;</a>
				
				
			</h2>
			<pre>func GenerateSaveCoinKey(
    keybase <a href="../crypto/keyring/index.html">keyring</a>.<a href="../crypto/keyring/index.html#Keyring">Keyring</a>,
    keyName, mnemonic <a href="../../../../builtin/index.html#string">string</a>,
    overwrite <a href="../../../../builtin/index.html#bool">bool</a>,
    algo <a href="../crypto/keyring/index.html">keyring</a>.<a href="../crypto/keyring/index.html#SignatureAlgo">SignatureAlgo</a>,
) (<a href="../types/index.html">sdk</a>.<a href="../types/index.html#AccAddress">AccAddress</a>, <a href="../../../../builtin/index.html#string">string</a>, <a href="../../../../builtin/index.html#error">error</a>)</pre>
			<p>GenerateSaveCoinKey generates a new key mnemonic with its addrress.
If mnemonic is provided then it&apos;s used for key generation.
The key is saved in the keyring. The function returns error if overwrite=true and the key
already exists.

			
			

		
			
			
			<h2 id="GetRequest">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/rest.go?s=877:920#L34">GetRequest</a>
				<a class="permalink" href="index.html#GetRequest">&#xb6;</a>
				
				
			</h2>
			<pre>func GetRequest(url <a href="../../../../builtin/index.html#string">string</a>) ([]<a href="../../../../builtin/index.html#byte">byte</a>, <a href="../../../../builtin/index.html#error">error</a>)</pre>
			<p>GetRequest defines a wrapper around an HTTP GET request with a provided URL.
An error is returned if the request or reading the body fails.

			
			

		
			
			
			<h2 id="GetRequestWithHeaders">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/rest.go?s=242:323#L3">GetRequestWithHeaders</a>
				<a class="permalink" href="index.html#GetRequestWithHeaders">&#xb6;</a>
				
				
			</h2>
			<pre>func GetRequestWithHeaders(url <a href="../../../../builtin/index.html#string">string</a>, headers map[<a href="../../../../builtin/index.html#string">string</a>]<a href="../../../../builtin/index.html#string">string</a>) ([]<a href="../../../../builtin/index.html#byte">byte</a>, <a href="../../../../builtin/index.html#error">error</a>)</pre>
			<p>GetRequestWithHeaders defines a wrapper around an HTTP GET request with a provided URL
and custom headers
An error is returned if the request or reading the body fails.

			
			

		
			
			
			<h2 id="GetTempDir">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=1680:1716#L67">GetTempDir</a>
				<a class="permalink" href="index.html#GetTempDir">&#xb6;</a>
				
				
			</h2>
			<pre>func GetTempDir(t <a href="../../../../testing/index.html">testing</a>.<a href="../../../../testing/index.html#TB">TB</a>) <a href="../../../../builtin/index.html#string">string</a></pre>
			<p>GetTempDir returns a writable temporary director for the test to use.

			
			

		
			
			
			<h2 id="PostRequest">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/rest.go?s=1300:1377#L53">PostRequest</a>
				<a class="permalink" href="index.html#PostRequest">&#xb6;</a>
				
				
			</h2>
			<pre>func PostRequest(url <a href="../../../../builtin/index.html#string">string</a>, contentType <a href="../../../../builtin/index.html#string">string</a>, data []<a href="../../../../builtin/index.html#byte">byte</a>) ([]<a href="../../../../builtin/index.html#byte">byte</a>, <a href="../../../../builtin/index.html#error">error</a>)</pre>
			<p>PostRequest defines a wrapper around an HTTP POST request with a provided URL and data.
An error is returned if the request or reading the body fails.

			
			

		
			
			
			<h2 id="RandSliceElem">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/list.go?s=38:98#L1">RandSliceElem</a>
				<a class="permalink" href="index.html#RandSliceElem">&#xb6;</a>
				
				
			</h2>
			<pre>func RandSliceElem[E <a href="../../../../builtin/index.html#any">any</a>](r *<a href="../../../../math/rand/index.html">rand</a>.<a href="../../../../math/rand/index.html#Rand">Rand</a>, elems []E) (E, <a href="../../../../builtin/index.html#bool">bool</a>)</pre>
			
			
			

		
			
			
			<h2 id="TempFile">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=1470:1506#L57">TempFile</a>
				<a class="permalink" href="index.html#TempFile">&#xb6;</a>
				
				
			</h2>
			<pre>func TempFile(t <a href="../../../../testing/index.html">testing</a>.<a href="../../../../testing/index.html#TB">TB</a>) *<a href="../../../../os/index.html">os</a>.<a href="../../../../os/index.html#File">File</a></pre>
			<p>TempFile returns a writable temporary file for the test to use.

			
			

		
			
			
			<h2 id="WriteToNewTempFile">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=1246:1302#L45">WriteToNewTempFile</a>
				<a class="permalink" href="index.html#WriteToNewTempFile">&#xb6;</a>
				
				
			</h2>
			<pre>func WriteToNewTempFile(t <a href="../../../../testing/index.html">testing</a>.<a href="../../../../testing/index.html#TB">TB</a>, s <a href="../../../../builtin/index.html#string">string</a>) *<a href="../../../../os/index.html">os</a>.<a href="../../../../os/index.html#File">File</a></pre>
			<p>Write the given string to a new temporary file.
Returns an open file for the test to use.

			
			

		
		
			
			
			<h2 id="BufferReader">type <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=211:268#L5">BufferReader</a>
				<a class="permalink" href="index.html#BufferReader">&#xb6;</a>
				
				
			</h2>
			<p>BufferReader is implemented by types that read from a string buffer.

			<pre>type BufferReader interface {
    <a href="../../../../io/index.html">io</a>.<a href="../../../../io/index.html#Reader">Reader</a>
    Reset(<a href="../../../../builtin/index.html#string">string</a>)
}</pre>

			

			

			
			
			

			
				
				<h3 id="ApplyMockIODiscardOutErr">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=973:1033#L33">ApplyMockIODiscardOutErr</a>
					<a class="permalink" href="index.html#ApplyMockIODiscardOutErr">&#xb6;</a>
					
					
				</h3>
				<pre>func ApplyMockIODiscardOutErr(c *<a href="../../../spf13/cobra/index.html">cobra</a>.<a href="../../../spf13/cobra/index.html#Command">Command</a>) <a href="index.html#BufferReader">BufferReader</a></pre>
				<p>ApplyMockIODiscardOutputs replaces a cobra.Command output and error streams with a dummy io.Writer.
Replaces and returns the io.Reader associated to the cobra.Command input stream.

				
				
			

			
		
			
			
			<h2 id="BufferWriter">type <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/ioutil.go?s=334:418#L11">BufferWriter</a>
				<a class="permalink" href="index.html#BufferWriter">&#xb6;</a>
				
				
			</h2>
			<p>BufferWriter is implemented by types that write to a buffer.

			<pre>type BufferWriter interface {
    <a href="../../../../io/index.html">io</a>.<a href="../../../../io/index.html#Writer">Writer</a>
    Reset()
    Bytes() []<a href="../../../../builtin/index.html#byte">byte</a>
    String() <a href="../../../../builtin/index.html#string">string</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="TestAccount">type <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/account.go?s=215:284#L4">TestAccount</a>
				<a class="permalink" href="index.html#TestAccount">&#xb6;</a>
				
				
			</h2>
			
			<pre>type TestAccount struct {
<span id="TestAccount.Name"></span>    Name    <a href="../../../../builtin/index.html#string">string</a>
<span id="TestAccount.Address"></span>    Address <a href="../types/index.html">types</a>.<a href="../types/index.html#AccAddress">AccAddress</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="CreateKeyringAccounts">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/account.go?s=286:369#L9">CreateKeyringAccounts</a>
					<a class="permalink" href="index.html#CreateKeyringAccounts">&#xb6;</a>
					
					
				</h3>
				<pre>func CreateKeyringAccounts(t *<a href="../../../../testing/index.html">testing</a>.<a href="../../../../testing/index.html#T">T</a>, kr <a href="../crypto/keyring/index.html">keyring</a>.<a href="../crypto/keyring/index.html#Keyring">Keyring</a>, num <a href="../../../../builtin/index.html#int">int</a>) []<a href="index.html#TestAccount">TestAccount</a></pre>
				
				
				
			

			
		
			
			
			<h2 id="TestContext">type <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/context.go?s=936:1024#L23">TestContext</a>
				<a class="permalink" href="index.html#TestContext">&#xb6;</a>
				
				
			</h2>
			
			<pre>type TestContext struct {
<span id="TestContext.Ctx"></span>    Ctx <a href="../types/index.html">sdk</a>.<a href="../types/index.html#Context">Context</a>
<span id="TestContext.DB"></span>    DB  *<a href="../../../cometbft/cometbft-db/index.html">dbm</a>.<a href="../../../cometbft/cometbft-db/index.html#MemDB">MemDB</a>
<span id="TestContext.CMS"></span>    CMS <a href="../store/index.html">store</a>.<a href="../store/index.html#CommitMultiStore">CommitMultiStore</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="DefaultContextWithDB">func <a href="http://localhost:6060/src/github.com/cosmos/cosmos-sdk/testutil/context.go?s=1026:1128#L29">DefaultContextWithDB</a>
					<a class="permalink" href="index.html#DefaultContextWithDB">&#xb6;</a>
					
					
				</h3>
				<pre>func DefaultContextWithDB(t *<a href="../../../../testing/index.html">testing</a>.<a href="../../../../testing/index.html#T">T</a>, key <a href="../store/types/index.html">storetypes</a>.<a href="../store/types/index.html#StoreKey">StoreKey</a>, tkey <a href="../store/types/index.html">storetypes</a>.<a href="../store/types/index.html#StoreKey">StoreKey</a>) <a href="index.html#TestContext">TestContext</a></pre>
				
				
				
			

			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="cli/index.html">cli</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="configurator/index.html">configurator</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="mock/index.html">mock</a>
					</td>
				
					<td class="pkg-synopsis">
						Package mock is a generated GoMock package.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="mock/db/index.html">db</a>
					</td>
				
					<td class="pkg-synopsis">
						Package mock is a generated GoMock package.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="network/index.html">network</a>
					</td>
				
					<td class="pkg-synopsis">
						Package network implements and exposes a fully operational in-process Tendermint test network that consists of at least one or potentially many validators.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="sims/index.html">sims</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.19.10.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
